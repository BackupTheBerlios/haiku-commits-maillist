<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33343%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/theora%3A%20.%20libtheora%0A%09libtheora/theora%20libtheora/x86&In-Reply-To=%3Cda2be3d70909290255kb97ca20k60a9969c38593af6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020985.html">
   <LINK REL="Next"  HREF="020994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86</H1>
    <B>David McPaul</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33343%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/theora%3A%20.%20libtheora%0A%09libtheora/theora%20libtheora/x86&In-Reply-To=%3Cda2be3d70909290255kb97ca20k60a9969c38593af6%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86">dlmcpaul at gmail.com
       </A><BR>
    <I>Tue Sep 29 11:55:02 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020985.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
        <LI>Next message: <A HREF="020994.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20988">[ date ]</a>
              <a href="thread.html#20988">[ thread ]</a>
              <a href="subject.html#20988">[ subject ]</a>
              <a href="author.html#20988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/9/29 Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 2009-09-29 at 09:51:52 [+0200], David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> 2009/9/29 Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On 2009-09-29 at 02:43:15 [+0200], David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; How familiar are you with the OGG reader plugin source?
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I started looking at Ticket 4653. &#160;From my initial analysis it needs a
</I>&gt;&gt;<i> &gt;&gt; TheoraSeek class written although it has a TheoraStream class it does
</I>&gt;&gt;<i> &gt;&gt; not handle video from what I can see.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; The FFmpeg plug-in is far from working perfectly, yet, but would it be
</I>&gt;&gt;<i> &gt; worth a consideration to re-use the FFmpeg internal Theora wrappers? I
</I>&gt;&gt;<i> &gt; know it would make a whole lot of code obsolete. In the mid-term, I
</I>&gt;&gt;<i> &gt; would like to see very good Xiph support in Haiku, as the officially
</I>&gt;&gt;<i> &gt; endorsed video/audio standards, because they aim to be patent-free. I
</I>&gt;&gt;<i> &gt; am just not sure what the best option is for that.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am rather against using ffmpeg for all our AV needs. &#160;We have no choice
</I>&gt;&gt;<i> for codecs, especially for encoding but readers are simple enough and if
</I>&gt;&gt;<i> we have manageable code for them I would rather we kept it.
</I>&gt;<i>
</I>&gt;<i> I don't understand what you mean. My concern is with manageable code as
</I>&gt;<i> well. Compared to the code that wraps around the Xiph codecs in our
</I>&gt;<i> repository, our FFmpeg wrapper is very little code. I consider that more
</I>&gt;<i> manageable. So I was looking for other compelling arguments.
</I>
We could just drop the whole plugin concept and use ffmpeg for
everything.  There is no plugin we have that ffmpeg has not got
covered.

Where do we draw the line?

&gt;&gt;<i> I think all that is missing from the ogg reader is some support for
</I>&gt;&gt;<i> passing theora data to the theora codec. &#160;I think the work was just
</I>&gt;&gt;<i> unfinished as there seems to be some level of support for it.
</I>&gt;<i>
</I>&gt;<i> Ok. If I understand correctly, the Vorbis plug-in is actually mixed up with
</I>&gt;<i> the Ogg plug-in. I don't know if the Theora plug-in would be the same. In
</I>&gt;<i> any case, it sounds a bit as if all this should be one plug-in, if the
</I>&gt;<i> codecs depend on Ogg anyway. I would combine all this and call the plug-in
</I>&gt;<i> &quot;xiph&quot;. My second concern is why the Ogg plug-in has all the code it has, I
</I>&gt;<i> don't understand that as of yet. It looks a bit like it replicates a whole
</I>&gt;<i> lot of functionality which should already be in libogg, but I may be
</I>&gt;<i> missing something.
</I>
Ogg is the container format that can contain various codecs.
theora, vorbis are codecs that can be put in containers

Just like mp4 containers can have many different codecs in them an ogg
container can also.

It just so happens that no-one has bothered but if the codecs do get
used more then we might see them in mp4.

So our ogg reader detects ogg files and splits out the codecs as tracks.
The vorbis and theora plugins should not care if they were in an ogg
container or not, they just decode chunks of data as fed to them.

I think that theora and vorbis plugins are just wrappers over the libs

The Ogg reader code seems more complex but I don't know anything about
the ogg container format to decide.
The original author looks to have created a track subclass for each
type of stream available in the container.

So to fix the issue raised we just need to create a new subclass for
the missing codec.

-- 
Cheers
David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020985.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
	<LI>Next message: <A HREF="020994.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20988">[ date ]</a>
              <a href="thread.html#20988">[ thread ]</a>
              <a href="subject.html#20988">[ subject ]</a>
              <a href="author.html#20988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
