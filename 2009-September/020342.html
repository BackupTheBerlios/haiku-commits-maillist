<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r32926 - haiku/trunk/src/kits/shared
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32926%20-%20haiku/trunk/src/kits/shared&In-Reply-To=%3C20090904004330.230050%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020335.html">
   <LINK REL="Next"  HREF="020346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r32926 - haiku/trunk/src/kits/shared</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32926%20-%20haiku/trunk/src/kits/shared&In-Reply-To=%3C20090904004330.230050%40gmx.net%3E"
       TITLE="[Haiku-commits] r32926 - haiku/trunk/src/kits/shared">superstippi at gmx.de
       </A><BR>
    <I>Fri Sep  4 02:43:30 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020335.html">[Haiku-commits] r32926 - haiku/trunk/src/kits/shared
</A></li>
        <LI>Next message: <A HREF="020346.html">[Haiku-commits] r32926 - haiku/trunk/src/kits/shared
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20342">[ date ]</a>
              <a href="thread.html#20342">[ thread ]</a>
              <a href="subject.html#20342">[ subject ]</a>
              <a href="author.html#20342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bruno,

&gt;<i> Author: bga
</I>&gt;<i> Date: 2009-09-04 00:48:54 +0200 (Fri, 04 Sep 2009)
</I>&gt;<i> New Revision: 32926
</I>&gt;<i> ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=32926&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=32926&amp;view=rev</A>
</I>&gt;<i> 
</I>&gt;<i> Modified:
</I>&gt;<i>    haiku/trunk/src/kits/shared/CommandPipe.cpp
</I>&gt;<i> Log:
</I>&gt;<i> - Classes with virtual methods should have virtual destructors.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Modified: haiku/trunk/src/kits/shared/CommandPipe.cpp
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- haiku/trunk/src/kits/shared/CommandPipe.cpp	2009-09-03 21:31:12 UTC
</I>&gt;<i> (rev 32925)
</I>&gt;<i> +++ haiku/trunk/src/kits/shared/CommandPipe.cpp	2009-09-03 22:48:54 UTC
</I>&gt;<i> (rev 32926)
</I>&gt;<i> @@ -304,6 +304,10 @@
</I>&gt;<i>  			fResult(&quot;&quot;)
</I>&gt;<i>  		{
</I>&gt;<i>  		}
</I>&gt;<i> +		
</I>&gt;<i> +		virtual ~AllLinesReader()
</I>&gt;<i> +		{
</I>&gt;<i> +		}
</I>&gt;<i>  
</I>&gt;<i>  		virtual bool IsCanceled()
</I>&gt;<i>  		{
</I>&gt;<i> 
</I>
when I was working on this in the train today, I also came across this warning. I had a GCC2 development environment there, I don't remember if GCC4 also gave a warning or not. In any case, I believe the destructor needs to be declared virtual in the base class, not in the inherited class, no? The warning is about the problem, that when delete is called on a pointer to the base class, that then the destructor of the real class is not called, since the base class destructor is not declared virtual. This problem would still exist if you fix the warning like above, unless I am missing something.

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020335.html">[Haiku-commits] r32926 - haiku/trunk/src/kits/shared
</A></li>
	<LI>Next message: <A HREF="020346.html">[Haiku-commits] r32926 - haiku/trunk/src/kits/shared
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20342">[ date ]</a>
              <a href="thread.html#20342">[ thread ]</a>
              <a href="subject.html#20342">[ subject ]</a>
              <a href="author.html#20342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
