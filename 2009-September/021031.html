<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33343%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/theora%3A%20.%20libtheora%0A%09libtheora/theora%20libtheora/x86&In-Reply-To=%3Cda2be3d70909300239o4c75a48ax588c1059438713da%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021030.html">
   <LINK REL="Next"  HREF="021032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86</H1>
    <B>David McPaul</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33343%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/theora%3A%20.%20libtheora%0A%09libtheora/theora%20libtheora/x86&In-Reply-To=%3Cda2be3d70909300239o4c75a48ax588c1059438713da%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86">dlmcpaul at gmail.com
       </A><BR>
    <I>Wed Sep 30 11:39:59 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021030.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
        <LI>Next message: <A HREF="021032.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21031">[ date ]</a>
              <a href="thread.html#21031">[ thread ]</a>
              <a href="subject.html#21031">[ subject ]</a>
              <a href="author.html#21031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First let me appologise for being my previous e-mails.  It was not my
intent to make you feel like the bad guy.  Clearly I read more into
your words than was there and I am sorry.

I doubt there is any particular technical reason why we could not just
use the ffmpeg library for all our media requirements.

However, I have alway felt that the original media design was for each
format and codec to be a seperate add-on so each piece could be
replaced with a better version if a user needed to.

So my preference has always been to create individual add-ons either
from scratch (mp4/mov) or by using an existing library that I thought
suitable (asf).

This approach is always going to be limited by the amount of time
people have to fix any bugs found and I had hoped that new developers
would come along who found a seperate add-on easier to understand and
help with.  That has not been the case so far and so I have been left
as the Haiku media person.  This is not a role I am comfortable with
as I am more an interested amateur than an expert in media coding.

For now though, where we do have code written I would like the
opportunity to fix bugs instead of passing that responsibility to the
ffmpeg project.

2009/9/30 Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 2009-09-30 at 03:13:25 [+0200], David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> 2009/9/30 Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;:
</I>&gt;&gt;<i> &gt; On 2009-09-29 at 17:10:33 [+0200], David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; That same argument could be used for why are we building Haiku at all
</I>&gt;&gt;<i> &gt;&gt; or the MediaPlayer app when we have VLC.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I think the comparison is not fair. It's like you tell me I shouldn't
</I>&gt;&gt;<i> &gt; try to build a house if I am not interested in making my own stones.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think it is, MediaPlayer could be replaced by an mplayer port. mplayer
</I>&gt;&gt;<i> uses ffmpeg and other libraries to handle media files. mplayer provides a
</I>&gt;&gt;<i> complete solution to playing media. &#160;So why is it ok for you to write and
</I>&gt;&gt;<i> maintain a media player but not ok for me to write and maintain an asf
</I>&gt;&gt;<i> demuxer?
</I>&gt;<i>
</I>&gt;<i> MediaPlayer has a lot of features. For example, it uses media nodes not
</I>&gt;<i> only for audio, but also for video. It has playlist management and lots of
</I>&gt;<i> other things that work differently from how mplayer works. The sum of the
</I>&gt;<i> features result in a user experience. The ASF demuxer has exactly one
</I>&gt;<i> feature: It takes a stream of bytes and splits it up into chunks. There is
</I>&gt;<i> exactly one correct end-result. My question all a long was, what, in your
</I>&gt;<i> opinion, are the *technical* benefits of writing and maintaining your own
</I>&gt;<i> ASF demuxer versus making a five lines patch to the FFmpeg reader to enable
</I>&gt;<i> ASF demuxing (i.e. utilizing the code which is also already in our repo).
</I>&gt;<i> May I remind you that we talked about how to support MPEG streams? You told
</I>&gt;<i> me you would probably consider porting mpeg123. Later I went ahead and
</I>&gt;<i> imported libavformat alongside libavcodec. Same thing as porting mpeg123,
</I>&gt;<i> pretty much. Only that this work enabled supporting a whole bunch of other
</I>&gt;<i> formats for free, by making five lines patches.
</I>&gt;<i>
</I>&gt;<i> [...]
</I>&gt;&gt;<i> Please don't put colour conversion at the decoder or encoder level. It is
</I>&gt;&gt;<i> something that has to be done at the media kit level so it is available
</I>&gt;&gt;<i> for everything to use.
</I>&gt;<i>
</I>&gt;<i> 100% agreed.
</I>&gt;<i>
</I>&gt;&gt;<i> &gt;The
</I>&gt;&gt;<i> &gt; same problem would arise when somebody comes along with a better
</I>&gt;&gt;<i> &gt; app_server. The app_server was my playing ground and I know there is a
</I>&gt;&gt;<i> &gt; lot of room for improvements. The app_server is sufficiently complex
</I>&gt;&gt;<i> &gt; and unique that it is unlikely that we can re-use something existing
</I>&gt;&gt;<i> &gt; and maintained elsewhere, but suppose it were the case, then we'd have
</I>&gt;&gt;<i> &gt; the same situation: app_server is my playground, but everybody is
</I>&gt;&gt;<i> &gt; interested in it being as fast and robust as possible. So what should
</I>&gt;&gt;<i> &gt; be done in such a situation?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As I said where do we draw the line. &#160;This is what we are arguing over.
</I>&gt;<i>
</I>&gt;<i> Yes, but you don't give arguments. The only argument so far is that it
</I>&gt;<i> means fun to you maintaining your own ASF demuxer. That's of course a valid
</I>&gt;<i> argument, I really don't dispute that, but I feel that I also have valid
</I>&gt;<i> arguments. And I don't like to be the bad guy because of it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [...]
</I>&gt;&gt;<i> &gt; We can just keep the code in the repository and if someone comes along
</I>&gt;&gt;<i> &gt; and is interested in picking up the work, then that's awesome. I am
</I>&gt;&gt;<i> &gt; just interested in rock-solid media capabilities, because I find
</I>&gt;&gt;<i> &gt; projects such as Clockwerk much more interesting to spend time on.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Once we switch to using ffmpeg for all our media needs, I very much doubt
</I>&gt;&gt;<i> someone will come along and work on anything else.
</I>&gt;<i>
</I>&gt;<i> What does that tell you? To me it means we probably found a good solution
</I>&gt;<i> to a problem then.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [...]
</I>&gt;&gt;<i> &gt;&gt; There is no argument, we need developers. &#160;If we can attract
</I>&gt;&gt;<i> &gt;&gt; developers who are interested in writing and maintaining media code
</I>&gt;&gt;<i> &gt;&gt; then we should have the code. &#160;If we cannot then we just become
</I>&gt;&gt;<i> &gt;&gt; another user of ffmpeg.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; But what is so bad about that?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Good luck getting changes to ffmpeg merged upstream.
</I>&gt;<i>
</I>&gt;<i> I am not even interested in making changes in ffmpeg. And if I indeed find
</I>&gt;<i> a valid bug and even have a patch, why would it not be applied?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> &gt;&gt; Certainly the last thing Haiku needs is to rely on me fixing Media
</I>&gt;&gt;<i> &gt;&gt; issues.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; You need to make up your mind. Either it's about experimenting and
</I>&gt;&gt;<i> &gt; learning, or it is about implementing the best solution to a problem,
</I>&gt;&gt;<i> &gt; even if that means to re-use existing code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am trying to do both.
</I>&gt;<i>
</I>&gt;<i> Me too. :-)
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; One part of the equation is
</I>&gt;&gt;<i> &gt; certainly the perceived progress. If you have enough time to spend on
</I>&gt;&gt;<i> &gt; coding, such that everyone feels things are moving forward fast enough,
</I>&gt;&gt;<i> &gt; then why would anyone look for other options? Do you want to work on
</I>&gt;&gt;<i> &gt; the OggReader? Or do you want to maintain ASF, MOV and MP4? Personally,
</I>&gt;&gt;<i> &gt; I am interested in reliable demuxing of the videos I happen to come
</I>&gt;&gt;<i> &gt; across, and I am very interested in support for the Xiph codecs,
</I>&gt;&gt;<i> &gt; especially also encoding. That just seems like a lot of work if it were
</I>&gt;&gt;<i> &gt; to be based on our own plug-in.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ok I get it, I am not working fast enough but I think we are all waiting
</I>&gt;&gt;<i> on things to be done by others. &#160;I am still waiting on a fix for the
</I>&gt;&gt;<i> Intel Extreme driver so I don't have to use VESA on my EEE PC.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Marcus would like the MediaPlayer code to be fixed so that it uses the
</I>&gt;&gt;<i> mixer code instead of it's own code and give him back 5.1 channel AC3.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well it is simple enough I suppose, I don't have any more time available
</I>&gt;&gt;<i> so if my efforts are not enough to let you make whatever your deadlines
</I>&gt;&gt;<i> are then just tell me to step aside and I will.
</I>&gt;<i>
</I>&gt;<i> I can absolutely feel your pain about having to wait on some random feature
</I>&gt;<i> in Haiku. And considering how many bugs are assigned to me, there are
</I>&gt;<i> probably quite a few things people wait on for me to finish. But there is a
</I>&gt;<i> difference between work that has to be done (and where any alternative
</I>&gt;<i> means just as much or even more work) and a five lines patch enabling work
</I>&gt;<i> that is already accomplished. Exactly because all of our plates are so
</I>&gt;<i> full, I am even making this proposal.
</I>&gt;<i>
</I>&gt;<i> You have to consider the history of this: I imported FFmpeg to support mpg
</I>&gt;<i> files. It would have been laughable if Haiku R1/alpha1 got released without
</I>&gt;<i> support for mpg files, don't you agree? I decided to use an existing
</I>&gt;<i> library, just what you would have done (!!). But I ended up using one that
</I>&gt;<i> makes it possible to support so many more formats, and even encoding, too.
</I>&gt;<i> So having done all this work, I begin to wonder if I couldn't use this to
</I>&gt;<i> fix some problems in the existing code. But sadly it means this code would
</I>&gt;<i> become obsolete. Of course I wonder why it was written in the first place
</I>&gt;<i> instead of porting libavformat which was available also back then. I am
</I>&gt;<i> trying to get more input by starting this discussion. But the only real
</I>&gt;<i> argument is that I would hurt your feelings. And now I am the bad guy. :-(
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> -Stephan
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Haiku-commits mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">Haiku-commits at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">https://lists.berlios.de/mailman/listinfo/haiku-commits</A>
</I>&gt;<i>
</I>


-- 
Cheers
David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021030.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
	<LI>Next message: <A HREF="021032.html">[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21031">[ date ]</a>
              <a href="thread.html#21031">[ thread ]</a>
              <a href="subject.html#21031">[ subject ]</a>
              <a href="author.html#21031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
