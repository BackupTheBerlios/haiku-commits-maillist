<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33343%20-%20in%0A%20haiku/trunk/src/add-ons/media/plugins/theora%3A%20.%20libtheora%20libtheora/theora%0A%20libtheora/x86&In-Reply-To=%3C20090930104538.974.3%40bepc.1254292571.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021038.html">
   <LINK REL="Next"  HREF="021031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33343%20-%20in%0A%20haiku/trunk/src/add-ons/media/plugins/theora%3A%20.%20libtheora%20libtheora/theora%0A%20libtheora/x86&In-Reply-To=%3C20090930104538.974.3%40bepc.1254292571.fake%3E"
       TITLE="[Haiku-commits] r33343 - in haiku/trunk/src/add-ons/media/plugins/theora: . libtheora libtheora/theora libtheora/x86">superstippi at gmx.de
       </A><BR>
    <I>Wed Sep 30 10:45:38 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021038.html">[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86
</A></li>
        <LI>Next message: <A HREF="021031.html">[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21030">[ date ]</a>
              <a href="thread.html#21030">[ thread ]</a>
              <a href="subject.html#21030">[ subject ]</a>
              <a href="author.html#21030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 2009-09-30 at 03:13:25 [+0200], David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt; wrote:
&gt;<i> 2009/9/30 Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;:
</I>&gt;<i> &gt; On 2009-09-29 at 17:10:33 [+0200], David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt; 
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;&gt; That same argument could be used for why are we building Haiku at all 
</I>&gt;<i> &gt;&gt; or the MediaPlayer app when we have VLC.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think the comparison is not fair. It's like you tell me I shouldn't 
</I>&gt;<i> &gt; try to build a house if I am not interested in making my own stones.
</I>&gt;<i> 
</I>&gt;<i> I think it is, MediaPlayer could be replaced by an mplayer port. mplayer 
</I>&gt;<i> uses ffmpeg and other libraries to handle media files. mplayer provides a 
</I>&gt;<i> complete solution to playing media.  So why is it ok for you to write and 
</I>&gt;<i> maintain a media player but not ok for me to write and maintain an asf 
</I>&gt;<i> demuxer?
</I>
MediaPlayer has a lot of features. For example, it uses media nodes not 
only for audio, but also for video. It has playlist management and lots of 
other things that work differently from how mplayer works. The sum of the 
features result in a user experience. The ASF demuxer has exactly one 
feature: It takes a stream of bytes and splits it up into chunks. There is 
exactly one correct end-result. My question all a long was, what, in your 
opinion, are the *technical* benefits of writing and maintaining your own 
ASF demuxer versus making a five lines patch to the FFmpeg reader to enable 
ASF demuxing (i.e. utilizing the code which is also already in our repo). 
May I remind you that we talked about how to support MPEG streams? You told 
me you would probably consider porting mpeg123. Later I went ahead and 
imported libavformat alongside libavcodec. Same thing as porting mpeg123, 
pretty much. Only that this work enabled supporting a whole bunch of other 
formats for free, by making five lines patches.

[...]
&gt;<i> Please don't put colour conversion at the decoder or encoder level. It is 
</I>&gt;<i> something that has to be done at the media kit level so it is available 
</I>&gt;<i> for everything to use.
</I>
100% agreed.

&gt;<i> &gt;The
</I>&gt;<i> &gt; same problem would arise when somebody comes along with a better 
</I>&gt;<i> &gt; app_server. The app_server was my playing ground and I know there is a 
</I>&gt;<i> &gt; lot of room for improvements. The app_server is sufficiently complex 
</I>&gt;<i> &gt; and unique that it is unlikely that we can re-use something existing 
</I>&gt;<i> &gt; and maintained elsewhere, but suppose it were the case, then we'd have 
</I>&gt;<i> &gt; the same situation: app_server is my playground, but everybody is 
</I>&gt;<i> &gt; interested in it being as fast and robust as possible. So what should 
</I>&gt;<i> &gt; be done in such a situation?
</I>&gt;<i> 
</I>&gt;<i> As I said where do we draw the line.  This is what we are arguing over.
</I>
Yes, but you don't give arguments. The only argument so far is that it 
means fun to you maintaining your own ASF demuxer. That's of course a valid 
argument, I really don't dispute that, but I feel that I also have valid 
arguments. And I don't like to be the bad guy because of it.


[...]
&gt;<i> &gt; We can just keep the code in the repository and if someone comes along 
</I>&gt;<i> &gt; and is interested in picking up the work, then that's awesome. I am 
</I>&gt;<i> &gt; just interested in rock-solid media capabilities, because I find 
</I>&gt;<i> &gt; projects such as Clockwerk much more interesting to spend time on.
</I>&gt;<i> 
</I>&gt;<i> Once we switch to using ffmpeg for all our media needs, I very much doubt 
</I>&gt;<i> someone will come along and work on anything else.
</I>
What does that tell you? To me it means we probably found a good solution 
to a problem then.


[...]
&gt;<i> &gt;&gt; There is no argument, we need developers.  If we can attract 
</I>&gt;<i> &gt;&gt; developers who are interested in writing and maintaining media code 
</I>&gt;<i> &gt;&gt; then we should have the code.  If we cannot then we just become 
</I>&gt;<i> &gt;&gt; another user of ffmpeg.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But what is so bad about that?
</I>&gt;<i> 
</I>&gt;<i> Good luck getting changes to ffmpeg merged upstream.
</I>
I am not even interested in making changes in ffmpeg. And if I indeed find 
a valid bug and even have a patch, why would it not be applied?


&gt;<i> &gt;&gt; Certainly the last thing Haiku needs is to rely on me fixing Media 
</I>&gt;<i> &gt;&gt; issues.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You need to make up your mind. Either it's about experimenting and 
</I>&gt;<i> &gt; learning, or it is about implementing the best solution to a problem, 
</I>&gt;<i> &gt; even if that means to re-use existing code.
</I>&gt;<i> 
</I>&gt;<i> I am trying to do both.
</I>
Me too. :-)

&gt;<i> &gt; One part of the equation is
</I>&gt;<i> &gt; certainly the perceived progress. If you have enough time to spend on 
</I>&gt;<i> &gt; coding, such that everyone feels things are moving forward fast enough, 
</I>&gt;<i> &gt; then why would anyone look for other options? Do you want to work on 
</I>&gt;<i> &gt; the OggReader? Or do you want to maintain ASF, MOV and MP4? Personally, 
</I>&gt;<i> &gt; I am interested in reliable demuxing of the videos I happen to come 
</I>&gt;<i> &gt; across, and I am very interested in support for the Xiph codecs, 
</I>&gt;<i> &gt; especially also encoding. That just seems like a lot of work if it were 
</I>&gt;<i> &gt; to be based on our own plug-in.
</I>&gt;<i> 
</I>&gt;<i> Ok I get it, I am not working fast enough but I think we are all waiting 
</I>&gt;<i> on things to be done by others.  I am still waiting on a fix for the 
</I>&gt;<i> Intel Extreme driver so I don't have to use VESA on my EEE PC.
</I>&gt;<i> 
</I>&gt;<i> Marcus would like the MediaPlayer code to be fixed so that it uses the 
</I>&gt;<i> mixer code instead of it's own code and give him back 5.1 channel AC3.
</I>&gt;<i> 
</I>&gt;<i> Well it is simple enough I suppose, I don't have any more time available 
</I>&gt;<i> so if my efforts are not enough to let you make whatever your deadlines 
</I>&gt;<i> are then just tell me to step aside and I will.
</I>
I can absolutely feel your pain about having to wait on some random feature 
in Haiku. And considering how many bugs are assigned to me, there are 
probably quite a few things people wait on for me to finish. But there is a 
difference between work that has to be done (and where any alternative 
means just as much or even more work) and a five lines patch enabling work 
that is already accomplished. Exactly because all of our plates are so 
full, I am even making this proposal.

You have to consider the history of this: I imported FFmpeg to support mpg 
files. It would have been laughable if Haiku R1/alpha1 got released without 
support for mpg files, don't you agree? I decided to use an existing 
library, just what you would have done (!!). But I ended up using one that 
makes it possible to support so many more formats, and even encoding, too. 
So having done all this work, I begin to wonder if I couldn't use this to 
fix some problems in the existing code. But sadly it means this code would 
become obsolete. Of course I wonder why it was written in the first place 
instead of porting libavformat which was available also back then. I am 
trying to get more input by starting this discussion. But the only real 
argument is that I would hurt your feelings. And now I am the bad guy. :-(

Best regards,
-Stephan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021038.html">[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86
</A></li>
	<LI>Next message: <A HREF="021031.html">[Haiku-commits] r33343 - in	haiku/trunk/src/add-ons/media/plugins/theora: . libtheora	libtheora/theora libtheora/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21030">[ date ]</a>
              <a href="thread.html#21030">[ thread ]</a>
              <a href="subject.html#21030">[ subject ]</a>
              <a href="author.html#21030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
