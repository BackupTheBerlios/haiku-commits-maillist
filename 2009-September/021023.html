<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r33366 - haiku/trunk/src/apps/deskbar
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33366%20-%20haiku/trunk/src/apps/deskbar&In-Reply-To=%3C200909292342.n8TNgXFQ014067%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021022.html">
   <LINK REL="Next"  HREF="021035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r33366 - haiku/trunk/src/apps/deskbar</H1>
    <B>kirilla at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33366%20-%20haiku/trunk/src/apps/deskbar&In-Reply-To=%3C200909292342.n8TNgXFQ014067%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r33366 - haiku/trunk/src/apps/deskbar">kirilla at mail.berlios.de
       </A><BR>
    <I>Wed Sep 30 01:42:33 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="021022.html">[Haiku-commits] r33365 - haiku/trunk/build/jam
</A></li>
        <LI>Next message: <A HREF="021035.html">[Haiku-commits] r33366 - haiku/trunk/src/apps/deskbar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21023">[ date ]</a>
              <a href="thread.html#21023">[ thread ]</a>
              <a href="subject.html#21023">[ subject ]</a>
              <a href="author.html#21023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kirilla
Date: 2009-09-30 01:42:31 +0200 (Wed, 30 Sep 2009)
New Revision: 33366
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=33366&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=33366&amp;view=rev</A>

Modified:
   haiku/trunk/src/apps/deskbar/BarApp.cpp
   haiku/trunk/src/apps/deskbar/BarApp.h
   haiku/trunk/src/apps/deskbar/BarMenuBar.cpp
   haiku/trunk/src/apps/deskbar/BarMenuBar.h
   haiku/trunk/src/apps/deskbar/BarMenuTitle.cpp
   haiku/trunk/src/apps/deskbar/BarMenuTitle.h
   haiku/trunk/src/apps/deskbar/BarView.cpp
   haiku/trunk/src/apps/deskbar/BarView.h
   haiku/trunk/src/apps/deskbar/BarWindow.cpp
   haiku/trunk/src/apps/deskbar/BarWindow.h
   haiku/trunk/src/apps/deskbar/BeMenu.cpp
   haiku/trunk/src/apps/deskbar/BeMenu.h
   haiku/trunk/src/apps/deskbar/CalendarMenuItem.cpp
   haiku/trunk/src/apps/deskbar/CalendarMenuItem.h
   haiku/trunk/src/apps/deskbar/CalendarMenuWindow.cpp
   haiku/trunk/src/apps/deskbar/ExpandoMenuBar.cpp
   haiku/trunk/src/apps/deskbar/ExpandoMenuBar.h
   haiku/trunk/src/apps/deskbar/PreferencesWindow.cpp
   haiku/trunk/src/apps/deskbar/ResourceSet.cpp
   haiku/trunk/src/apps/deskbar/ResourceSet.h
   haiku/trunk/src/apps/deskbar/ShowHideMenuItem.cpp
   haiku/trunk/src/apps/deskbar/ShowHideMenuItem.h
   haiku/trunk/src/apps/deskbar/StatusView.cpp
   haiku/trunk/src/apps/deskbar/StatusView.h
   haiku/trunk/src/apps/deskbar/StatusViewShelf.cpp
   haiku/trunk/src/apps/deskbar/StatusViewShelf.h
   haiku/trunk/src/apps/deskbar/Switcher.cpp
   haiku/trunk/src/apps/deskbar/TeamMenu.cpp
   haiku/trunk/src/apps/deskbar/TeamMenu.h
   haiku/trunk/src/apps/deskbar/TeamMenuItem.cpp
   haiku/trunk/src/apps/deskbar/TeamMenuItem.h
   haiku/trunk/src/apps/deskbar/TimeView.cpp
   haiku/trunk/src/apps/deskbar/TimeView.h
   haiku/trunk/src/apps/deskbar/WindowMenu.cpp
   haiku/trunk/src/apps/deskbar/WindowMenu.h
   haiku/trunk/src/apps/deskbar/WindowMenuItem.cpp
   haiku/trunk/src/apps/deskbar/WindowMenuItem.h
Log:
Partial clean-up. Asterisks and k-prefix constants.

Modified: haiku/trunk/src/apps/deskbar/BarApp.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/BarApp.cpp	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarApp.cpp	2009-09-29 23:42:31 UTC (rev 33366)
@@ -145,13 +145,14 @@
 
 	int32 teamCount = sBarTeamInfoList.CountItems();
 	for (int32 i = 0; i &lt; teamCount; i++) {
-		BarTeamInfo *barInfo = (BarTeamInfo *)sBarTeamInfoList.ItemAt(i);
+		BarTeamInfo* barInfo = (BarTeamInfo*)sBarTeamInfoList.ItemAt(i);
 		delete barInfo;
 	}
 
 	int32 subsCount = sSubscribers.CountItems();
 	for (int32 i = 0; i &lt; subsCount; i++) {
-		BMessenger *messenger = static_cast&lt;BMessenger *&gt;(sSubscribers.ItemAt(i));
+		BMessenger* messenger =
+			static_cast&lt;BMessenger*&gt;(sSubscribers.ItemAt(i));
 		delete messenger;
 	}
 	SaveSettings();
@@ -244,7 +245,7 @@
 	settings.autoRaise = false;
 
 	BPath dirPath;
-	const char *settingsFileName = &quot;Deskbar_settings&quot;;
+	const char* settingsFileName = &quot;Deskbar_settings&quot;;
 
 	find_directory(B_USER_DESKBAR_DIRECTORY, &amp;dirPath, true);
 	// just make it
@@ -309,7 +310,7 @@
 
 
 void
-TBarApp::MessageReceived(BMessage *message)
+TBarApp::MessageReceived(BMessage* message)
 {
 	int32 count;
 	switch (message-&gt;what) {
@@ -364,9 +365,9 @@
 			message-&gt;FindInt32(&quot;be:team&quot;, &amp;team);
 
 			uint32 flags = 0;
-			message-&gt;FindInt32(&quot;be:flags&quot;, (long *)&amp;flags);
+			message-&gt;FindInt32(&quot;be:flags&quot;, (long*)&amp;flags);
 
-			const char *sig = NULL;
+			const char* sig = NULL;
 			message-&gt;FindString(&quot;be:signature&quot;, &amp;sig);
 
 			entry_ref ref;
@@ -390,70 +391,70 @@
 			fStatusViewMessenger.SendMessage(message);
 			break;
 
-		case msg_Be:
+		case kBe:
 			__set_window_decor(0);
 			break;
 
-		case msg_Win95:
+		case kWin95:
 			__set_window_decor(2);
 			break;
 
-		case msg_Amiga:
+		case kAmiga:
 			__set_window_decor(1);
 			break;
 
-		case msg_Mac:
+		case kMac:
 			__set_window_decor(3);
 			break;
 
-		case msg_ToggleDraggers:
+		case kToggleDraggers:
 			if (BDragger::AreDraggersDrawn())
 				BDragger::HideAllDraggers();
 			else
 				BDragger::ShowAllDraggers();
 			break;
 
-		case msg_AlwaysTop:
+		case kAlwaysTop:
  			fSettings.alwaysOnTop = !fSettings.alwaysOnTop;
 
  			fBarWindow-&gt;SetFeel(fSettings.alwaysOnTop ?
  				B_FLOATING_ALL_WINDOW_FEEL : B_NORMAL_WINDOW_FEEL);
  			break;
 
-		case msg_AutoRaise:
+		case kAutoRaise:
 		{
 			fSettings.autoRaise = !fSettings.autoRaise;
 
-			TBarView *barView = static_cast&lt;TBarApp *&gt;(be_app)-&gt;BarView();
+			TBarView* barView = static_cast&lt;TBarApp*&gt;(be_app)-&gt;BarView();
 			fBarWindow-&gt;Lock();
 			barView-&gt;UpdateAutoRaise();
 			fBarWindow-&gt;Unlock();
 			break;
 		}
 
-		case msg_trackerFirst:
+		case kTrackerFirst:
 		{
 			fSettings.trackerAlwaysFirst = !fSettings.trackerAlwaysFirst;
 
-			TBarView *barView = static_cast&lt;TBarApp *&gt;(be_app)-&gt;BarView();
+			TBarView* barView = static_cast&lt;TBarApp*&gt;(be_app)-&gt;BarView();
 			fBarWindow-&gt;Lock();
 			barView-&gt;UpdatePlacement();
 			fBarWindow-&gt;Unlock();
 			break;
 		}
 
-		case msg_sortRunningApps:
+		case kSortRunningApps:
 		{
 			fSettings.sortRunningApps = !fSettings.sortRunningApps;
 
-			TBarView *barView = static_cast&lt;TBarApp *&gt;(be_app)-&gt;BarView();
+			TBarView* barView = static_cast&lt;TBarApp*&gt;(be_app)-&gt;BarView();
 			fBarWindow-&gt;Lock();
 			barView-&gt;UpdatePlacement();
 			fBarWindow-&gt;Unlock();
 			break;
 		}
 
-		case msg_Unsubscribe:
+		case kUnsubscribe:
 		{
 			BMessenger messenger;
 			if (message-&gt;FindMessenger(&quot;messenger&quot;, &amp;messenger) == B_OK)
@@ -461,22 +462,22 @@
 			break;
 		}
 
-		case msg_superExpando:
+		case kSuperExpando:
 		{
 			fSettings.superExpando = !fSettings.superExpando;
 
-			TBarView *barView = static_cast&lt;TBarApp *&gt;(be_app)-&gt;BarView();
+			TBarView* barView = static_cast&lt;TBarApp*&gt;(be_app)-&gt;BarView();
 			fBarWindow-&gt;Lock();
 			barView-&gt;UpdatePlacement();
 			fBarWindow-&gt;Unlock();
 			break;
 		}
 
-		case msg_expandNewTeams:
+		case kExpandNewTeams:
 		{
 			fSettings.expandNewTeams = !fSettings.expandNewTeams;
 
-			TBarView *barView = static_cast&lt;TBarApp *&gt;(be_app)-&gt;BarView();
+			TBarView* barView = static_cast&lt;TBarApp*&gt;(be_app)-&gt;BarView();
 			fBarWindow-&gt;Lock();
 			barView-&gt;UpdatePlacement();
 			fBarWindow-&gt;Unlock();
@@ -529,7 +530,7 @@
  */
 
 void
-TBarApp::RefsReceived(BMessage *refs)
+TBarApp::RefsReceived(BMessage* refs)
 {
 	entry_ref ref;
 	for (int32 i = 0; refs-&gt;FindRef(&quot;refs&quot;, i, &amp;ref) == B_OK; i++) {
@@ -544,7 +545,7 @@
 
 
 void
-TBarApp::Subscribe(const BMessenger &amp;subscriber, BList *list)
+TBarApp::Subscribe(const BMessenger &amp;subscriber, BList* list)
 {
 	// called when ExpandoMenuBar, TeamMenu or Switcher are built/rebuilt
 	list-&gt;MakeEmpty();
@@ -555,15 +556,15 @@
 
 	int32 numTeams = sBarTeamInfoList.CountItems();
 	for (int32 i = 0; i &lt; numTeams; i++) {
-		BarTeamInfo *barInfo = (BarTeamInfo *)sBarTeamInfoList.ItemAt(i);
-		BarTeamInfo *newBarInfo = new (std::nothrow) BarTeamInfo(*barInfo);
+		BarTeamInfo* barInfo = (BarTeamInfo*)sBarTeamInfoList.ItemAt(i);
+		BarTeamInfo* newBarInfo = new (std::nothrow) BarTeamInfo(*barInfo);
 		if (newBarInfo != NULL)
 			list-&gt;AddItem(newBarInfo);
 	}
 
 	int32 subsCount = sSubscribers.CountItems();
 	for (int32 i = 0; i &lt; subsCount; i++) {
-		BMessenger *messenger = (BMessenger *)sSubscribers.ItemAt(i);
+		BMessenger* messenger = (BMessenger*)sSubscribers.ItemAt(i);
 		if (*messenger == subscriber)
 			return;
 	}
@@ -581,7 +582,7 @@
 
 	int32 count = sSubscribers.CountItems();
 	for (int32 i = 0; i &lt; count; i++) {
-		BMessenger *messenger = (BMessenger *)sSubscribers.ItemAt(i);
+		BMessenger* messenger = (BMessenger*)sSubscribers.ItemAt(i);
 		if (*messenger == subscriber) {
 			sSubscribers.RemoveItem(i);
 			delete messenger;
@@ -592,7 +593,7 @@
 
 
 void
-TBarApp::AddTeam(team_id team, uint32 flags, const char *sig, entry_ref *ref)
+TBarApp::AddTeam(team_id team, uint32 flags, const char* sig, entry_ref* ref)
 {
 	BAutolock autolock(sSubscriberLock);
 	if (!autolock.IsLocked())
@@ -600,27 +601,27 @@
 
 	// have we already seen this team, is this another instance of
 	// a known app?
-	BarTeamInfo *multiLaunchTeam = NULL;
+	BarTeamInfo* multiLaunchTeam = NULL;
 	int32 teamCount = sBarTeamInfoList.CountItems();
 	for (int32 i = 0; i &lt; teamCount; i++) {
-		BarTeamInfo *barInfo = (BarTeamInfo *)sBarTeamInfoList.ItemAt(i);
-		if (barInfo-&gt;teams-&gt;HasItem((void *)team))
+		BarTeamInfo* barInfo = (BarTeamInfo*)sBarTeamInfoList.ItemAt(i);
+		if (barInfo-&gt;teams-&gt;HasItem((void*)team))
 			return;
 		if (strcasecmp(barInfo-&gt;sig, sig) == 0)
 			multiLaunchTeam = barInfo;
 	}
 
 	if (multiLaunchTeam != NULL) {
-		multiLaunchTeam-&gt;teams-&gt;AddItem((void *)team);
+		multiLaunchTeam-&gt;teams-&gt;AddItem((void*)team);
 
 		int32 subsCount = sSubscribers.CountItems();
 		if (subsCount &gt; 0) {
-			BMessage message(msg_AddTeam);
+			BMessage message(kAddTeam);
 			message.AddInt32(&quot;team&quot;, team);
 			message.AddString(&quot;sig&quot;, multiLaunchTeam-&gt;sig);
 
 			for (int32 i = 0; i &lt; subsCount; i++)
-				((BMessenger *)sSubscribers.ItemAt(i))-&gt;SendMessage(&amp;message);
+				((BMessenger*)sSubscribers.ItemAt(i))-&gt;SendMessage(&amp;message);
 		}
 		return;
 	}
@@ -628,10 +629,10 @@
 	BFile file(ref, B_READ_ONLY);
 	BAppFileInfo appMime(&amp;file);
 
-	BarTeamInfo *barInfo = new BarTeamInfo(new BList(), flags, strdup(sig),
+	BarTeamInfo* barInfo = new BarTeamInfo(new BList(), flags, strdup(sig),
 		new BBitmap(kIconSize, kIconFormat), strdup(ref-&gt;name));
 
-	barInfo-&gt;teams-&gt;AddItem((void *)team);
+	barInfo-&gt;teams-&gt;AddItem((void*)team);
 	if (appMime.GetIcon(barInfo-&gt;icon, B_MINI_ICON) != B_OK)
 		appMime.GetTrackerIcon(barInfo-&gt;icon, B_MINI_ICON);
 
@@ -640,13 +641,13 @@
 	int32 subsCount = sSubscribers.CountItems();
 	if (subsCount &gt; 0) {
 		for (int32 i = 0; i &lt; subsCount; i++) {
-			BMessenger *messenger = (BMessenger *)sSubscribers.ItemAt(i);
+			BMessenger* messenger = (BMessenger*)sSubscribers.ItemAt(i);
 			BMessage message(B_SOME_APP_LAUNCHED);
 
-			BList *tList = new BList(*(barInfo-&gt;teams));
+			BList* tList = new BList(*(barInfo-&gt;teams));
 			message.AddPointer(&quot;teams&quot;, tList);
 
-			BBitmap *icon = new BBitmap(barInfo-&gt;icon);
+			BBitmap* icon = new BBitmap(barInfo-&gt;icon);
 			ASSERT(icon);
 
 			message.AddPointer(&quot;icon&quot;, icon);
@@ -670,23 +671,23 @@
 
 	int32 teamCount = sBarTeamInfoList.CountItems();
 	for (int32 i = 0; i &lt; teamCount; i++) {
-		BarTeamInfo *barInfo = (BarTeamInfo *)sBarTeamInfoList.ItemAt(i);
-		if (barInfo-&gt;teams-&gt;HasItem((void *)team)) {
+		BarTeamInfo* barInfo = (BarTeamInfo*)sBarTeamInfoList.ItemAt(i);
+		if (barInfo-&gt;teams-&gt;HasItem((void*)team)) {
 			int32 subsCount = sSubscribers.CountItems();
 			if (subsCount &gt; 0) {
 				BMessage message((barInfo-&gt;teams-&gt;CountItems() == 1) ?
-					 B_SOME_APP_QUIT : msg_RemoveTeam);
+					 B_SOME_APP_QUIT : kRemoveTeam);
 
 				message.AddInt32(&quot;team&quot;, team);
 				for (int32 i = 0; i &lt; subsCount; i++) {
-					BMessenger *messenger = (BMessenger *)sSubscribers.ItemAt(i);
+					BMessenger* messenger = (BMessenger*)sSubscribers.ItemAt(i);
 					messenger-&gt;SendMessage(&amp;message);
 				}
 			}
 
-			barInfo-&gt;teams-&gt;RemoveItem((void *)team);
+			barInfo-&gt;teams-&gt;RemoveItem((void*)team);
 			if (barInfo-&gt;teams-&gt;CountItems() &lt; 1) {
-				delete (BarTeamInfo *)sBarTeamInfoList.RemoveItem(i);
+				delete (BarTeamInfo*)sBarTeamInfoList.RemoveItem(i);
 				return;
 			}
 		}
@@ -709,7 +710,8 @@
 //	#pragma mark -
 
 
-BarTeamInfo::BarTeamInfo(BList *teams, uint32 flags, char *sig, BBitmap *icon, char *name)
+BarTeamInfo::BarTeamInfo(BList* teams, uint32 flags, char* sig, BBitmap* icon,
+	char* name)
 	:	teams(teams),
 		flags(flags),
 		sig(sig),

Modified: haiku/trunk/src/apps/deskbar/BarApp.h
===================================================================
--- haiku/trunk/src/apps/deskbar/BarApp.h	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarApp.h	2009-09-29 23:42:31 UTC (rev 33366)
@@ -51,34 +51,34 @@
 
 class BarTeamInfo {
 public:
-	BarTeamInfo(BList *teams, uint32 flags, char *sig, BBitmap *icon,
-				char *name);
+	BarTeamInfo(BList* teams, uint32 flags, char* sig, BBitmap* icon,
+				char* name);
 	BarTeamInfo(const BarTeamInfo &amp;info);
 	~BarTeamInfo();
 
-	BList *teams;
+	BList* teams;
 	uint32 flags;
-	char *sig;
-	BBitmap *icon;
-	char *name;
+	char* sig;
+	BBitmap* icon;
+	char* name;
 };
 
-const uint32 msg_Win95 = 'Bill';
-const uint32 msg_Amiga = 'Ncro';
-const uint32 msg_Mac = 'WcOS';
-const uint32 msg_Be = 'Tabs';
-const uint32 msg_AlwaysTop = 'TTop';
-const uint32 msg_ToggleDraggers = 'TDra';
-const uint32 msg_Unsubscribe = 'Unsb';
-const uint32 msg_AddTeam = 'AdTm';
-const uint32 msg_RemoveTeam = 'RmTm';
-const uint32 msg_Restart = 'Rtrt';
-const uint32 msg_ShutDown = 'ShDn';
-const uint32 msg_trackerFirst = 'TkFt';
-const uint32 msg_sortRunningApps = 'SAps';
-const uint32 msg_superExpando = 'SprE';
-const uint32 msg_expandNewTeams = 'ExTm';
-const uint32 msg_AutoRaise = 'AtRs';
+const uint32 kWin95 = 'Bill';
+const uint32 kAmiga = 'Ncro';
+const uint32 kMac = 'WcOS';
+const uint32 kBe = 'Tabs';
+const uint32 kAlwaysTop = 'TTop';
+const uint32 kToggleDraggers = 'TDra';
+const uint32 kUnsubscribe = 'Unsb';
+const uint32 kAddTeam = 'AdTm';
+const uint32 kRemoveTeam = 'RmTm';
+const uint32 kRestart = 'Rtrt';
+const uint32 kShutDown = 'ShDn';
+const uint32 kTrackerFirst = 'TkFt';
+const uint32 kSortRunningApps = 'SAps';
+const uint32 kSuperExpando = 'SprE';
+const uint32 kExpandNewTeams = 'ExTm';
+const uint32 kAutoRaise = 'AtRs';
 
 // from roster_private.h
 const uint32 CMD_SHUTDOWN_SYSTEM = 301;
@@ -139,17 +139,17 @@
 		virtual ~TBarApp();
 
 		virtual	bool QuitRequested();
-		virtual void MessageReceived(BMessage *message);
-		virtual void RefsReceived(BMessage *refs);
+		virtual void MessageReceived(BMessage* message);
+		virtual void RefsReceived(BMessage* refs);
 
-		desk_settings *Settings()
+		desk_settings* Settings()
 			{ return &fSettings; }
-		TBarView *BarView() const
+		TBarView* BarView() const
 			{ return fBarWindow-&gt;BarView(); }
-		TBarWindow *BarWindow() const
+		TBarWindow* BarWindow() const
 			{ return fBarWindow; }
 
-		static void Subscribe(const BMessenger &amp;subscriber, BList *);
+		static void Subscribe(const BMessenger &amp;subscriber, BList*);
 		static void Unsubscribe(const BMessenger &amp;subscriber);
 
 	private:
@@ -161,10 +161,10 @@
 
 		void ShowPreferencesWindow();
 
-		TBarWindow *fBarWindow;
+		TBarWindow* fBarWindow;
 		BMessenger fSwitcherMessenger;
 		BMessenger fStatusViewMessenger;
-		BFile *fSettingsFile;
+		BFile* fSettingsFile;
 		desk_settings fSettings;
 
 		PreferencesWindow* fPreferencesWindow;

Modified: haiku/trunk/src/apps/deskbar/BarMenuBar.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/BarMenuBar.cpp	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarMenuBar.cpp	2009-09-29 23:42:31 UTC (rev 33366)
@@ -50,14 +50,14 @@
 #include &quot;TeamMenu.h&quot;
 
 
-TBarMenuBar::TBarMenuBar(TBarView *bar, BRect frame, const char *name)
+TBarMenuBar::TBarMenuBar(TBarView* bar, BRect frame, const char* name)
 	: BMenuBar(frame, name, B_FOLLOW_NONE, B_ITEMS_IN_ROW, false),
 	fBarView(bar),
 	fAppListMenuItem(NULL)
 {
 	SetItemMargins(0.0f, 0.0f, 0.0f, 0.0f);
 
-	TBeMenu *beMenu = new TBeMenu(bar);
+	TBeMenu* beMenu = new TBeMenu(bar);
 	TBarWindow::SetBeMenu(beMenu);
 
 	fBeMenuItem = new TBarMenuTitle(frame.Width(), frame.Height(),
@@ -116,7 +116,7 @@
 		return;
 
 	if (fAppListMenuItem) {
-		RemoveItem((BMenuItem *)fAppListMenuItem);
+		RemoveItem((BMenuItem*)fAppListMenuItem);
 		delete fAppListMenuItem;
 		fAppListMenuItem = NULL;
 	}
@@ -142,7 +142,7 @@
 
 
 void
-TBarMenuBar::MouseMoved(BPoint where, uint32 code, const BMessage *message)
+TBarMenuBar::MouseMoved(BPoint where, uint32 code, const BMessage* message)
 {
 	// the following code parallels that in ExpandoMenuBar for DnD tracking
 
@@ -161,7 +161,7 @@
 			GetMouse(&amp;loc, &amp;buttons);
 			// attempt to start DnD tracking
 			if (message &amp;&amp; buttons != 0) {
-				fBarView-&gt;CacheDragData(const_cast&lt;BMessage *&gt;(message));
+				fBarView-&gt;CacheDragData(const_cast&lt;BMessage*&gt;(message));
 				MouseDown(loc);
 			}
 			break;
@@ -172,13 +172,13 @@
 
 
 static void
-init_tracking_hook(BMenuItem *item, bool (*hookFunction)(BMenu *, void *),
-	void *state)
+init_tracking_hook(BMenuItem* item, bool (*hookFunction)(BMenu*, void*),
+	void* state)
 {
 	if (!item)
 		return;
 
-	BMenu *windowMenu = item-&gt;Submenu();
+	BMenu* windowMenu = item-&gt;Submenu();
 	if (windowMenu) 
 		//	have a menu, set the tracking hook
 		windowMenu-&gt;SetTrackingHook(hookFunction, state);					
@@ -186,8 +186,8 @@
 
 
 void
-TBarMenuBar::InitTrackingHook(bool (*hookFunction)(BMenu *, void *),
-	void *state, bool both)
+TBarMenuBar::InitTrackingHook(bool (*hookFunction)(BMenu*, void*),
+	void* state, bool both)
 {
 	BPoint loc;
 	uint32 buttons;

Modified: haiku/trunk/src/apps/deskbar/BarMenuBar.h
===================================================================
--- haiku/trunk/src/apps/deskbar/BarMenuBar.h	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarMenuBar.h	2009-09-29 23:42:31 UTC (rev 33366)
@@ -48,10 +48,10 @@
 
 class TBarMenuBar : public BMenuBar {
 	public:
-		TBarMenuBar(TBarView *bar, BRect frame, const char *name);
+		TBarMenuBar(TBarView* bar, BRect frame, const char* name);
 		virtual ~TBarMenuBar();
 
-		virtual void MouseMoved(BPoint where, uint32 code, const BMessage *message);
+		virtual void MouseMoved(BPoint where, uint32 code, const BMessage* message);
 		virtual void Draw(BRect);
 
 		void DrawBackground(BRect);
@@ -60,13 +60,13 @@
 		void AddTeamMenu();
 		void RemoveTeamMenu();
 
-		void InitTrackingHook(bool (* hookfunction)(BMenu *, void *), void *state,
+		void InitTrackingHook(bool (* hookfunction)(BMenu*, void*), void* state,
 			bool both = false);
 	
 	private:
-		TBarView *fBarView;
-		TBarMenuTitle *fBeMenuItem;
-		TBarMenuTitle *fAppListMenuItem;
+		TBarView* fBarView;
+		TBarMenuTitle* fBeMenuItem;
+		TBarMenuTitle* fAppListMenuItem;
 };
 
 #endif /* BARMENUBAR_H */

Modified: haiku/trunk/src/apps/deskbar/BarMenuTitle.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/BarMenuTitle.cpp	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarMenuTitle.cpp	2009-09-29 23:42:31 UTC (rev 33366)
@@ -45,8 +45,8 @@
 #include &quot;ExpandoMenuBar.h&quot;
 
 
-TBarMenuTitle::TBarMenuTitle(float width, float height, const BBitmap *icon,
-	BMenu *menu, bool inexpando)
+TBarMenuTitle::TBarMenuTitle(float width, float height, const BBitmap* icon,
+	BMenu* menu, bool inexpando)
 	:	BMenuItem(menu, new BMessage(B_REFS_RECEIVED)),
 		fWidth(width),
 		fHeight(height),
@@ -70,7 +70,7 @@
 
 
 void
-TBarMenuTitle::GetContentSize(float *width, float *height)
+TBarMenuTitle::GetContentSize(float* width, float* height)
 {
 	*width = fWidth;
 	*height = fHeight;
@@ -111,7 +111,7 @@
 void
 TBarMenuTitle::DrawContent()
 {
-	BMenu *menu = Menu();
+	BMenu* menu = Menu();
 	BRect frame(Frame());
 
 	if (be_control_look != NULL) {
@@ -192,11 +192,11 @@
 
 
 status_t
-TBarMenuTitle::Invoke(BMessage *message)
+TBarMenuTitle::Invoke(BMessage* message)
 {
-	TBarView *barview = dynamic_cast&lt;TBarApp *&gt;(be_app)-&gt;BarView();
+	TBarView* barview = dynamic_cast&lt;TBarApp*&gt;(be_app)-&gt;BarView();
 	if (barview) {
-		BLooper *looper = barview-&gt;Looper();
+		BLooper* looper = barview-&gt;Looper();
 		if (looper-&gt;Lock()) {
 			// tell barview to add the refs to the be menu
 			barview-&gt;HandleBeMenu(NULL);			

Modified: haiku/trunk/src/apps/deskbar/BarMenuTitle.h
===================================================================
--- haiku/trunk/src/apps/deskbar/BarMenuTitle.h	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarMenuTitle.h	2009-09-29 23:42:31 UTC (rev 33366)
@@ -57,7 +57,7 @@
 		
 protected:
 	void DrawContent();
-	void GetContentSize(float *width, float *height);
+	void GetContentSize(float* width, float* height);
 
 private:
 	float fWidth;

Modified: haiku/trunk/src/apps/deskbar/BarView.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/BarView.cpp	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarView.cpp	2009-09-29 23:42:31 UTC (rev 33366)
@@ -151,7 +151,7 @@
 
 
 void
-TBarView::MessageReceived(BMessage *message)
+TBarView::MessageReceived(BMessage* message)
 {
 	switch (message-&gt;what) {
 		case B_REFS_RECEIVED:
@@ -329,7 +329,7 @@
 
 
 void
-TBarView::GetPreferredWindowSize(BRect screenFrame, float *width, float *height)
+TBarView::GetPreferredWindowSize(BRect screenFrame, float* width, float* height)
 {
 	float windowHeight = 0;
 	float windowWidth = sMinimumWindowWidth;
@@ -396,7 +396,7 @@
 void
 TBarView::SaveSettings()
 {
-	desk_settings *settings = ((TBarApp *)be_app)-&gt;Settings();
+	desk_settings* settings = ((TBarApp*)be_app)-&gt;Settings();
 
 	settings-&gt;vertical = Vertical();
 	settings-&gt;left = Left();
@@ -446,16 +446,16 @@
 
 	// We need to keep track of what apps are expanded.
 	BList expandedItems;
-	BString *signature = NULL;
-	if (fVertical &amp;&amp; Expando() &amp;&amp; static_cast&lt;TBarApp *&gt;(be_app)-&gt;Settings()-&gt;superExpando) {
+	BString* signature = NULL;
+	if (fVertical &amp;&amp; Expando() &amp;&amp; static_cast&lt;TBarApp*&gt;(be_app)-&gt;Settings()-&gt;superExpando) {
 		// Get a list of the Signatures of expanded apps - Can't use team_id because
 		// there can be more than one team per application
 		if (fVertical &amp;&amp; Expando() &amp;&amp; vertical &amp;&amp; fExpando) {
 			for (int index = 0; index &lt; fExpando-&gt;CountItems(); index++) {
-				TTeamMenuItem *item = dynamic_cast&lt;TTeamMenuItem *&gt;(fExpando-&gt;ItemAt(index));
+				TTeamMenuItem* item = dynamic_cast&lt;TTeamMenuItem*&gt;(fExpando-&gt;ItemAt(index));
 				if (item != NULL &amp;&amp; item-&gt;IsExpanded()) {
 					signature = new BString(item-&gt;Signature());
-					expandedItems.AddItem((void *)signature);
+					expandedItems.AddItem((void*)signature);
 				}
 			}
 		}
@@ -469,14 +469,14 @@
 	// Re-expand those apps.
 	if (expandedItems.CountItems() &gt; 0) {
 		for (int sigIndex = expandedItems.CountItems(); sigIndex-- &gt; 0;) {
-			signature = static_cast&lt;BString *&gt;(expandedItems.ItemAt(sigIndex));
+			signature = static_cast&lt;BString*&gt;(expandedItems.ItemAt(sigIndex));
 			if (signature == NULL)
 				continue;
 
 			// Start at the 'bottom' of the list working up.
 			// Prevents being thrown off by expanding items.
 			for (int teamIndex = fExpando-&gt;CountItems(); teamIndex-- &gt; 0;) {
-				TTeamMenuItem *item = dynamic_cast&lt;TTeamMenuItem *&gt;(fExpando-&gt;ItemAt(teamIndex));
+				TTeamMenuItem* item = dynamic_cast&lt;TTeamMenuItem*&gt;(fExpando-&gt;ItemAt(teamIndex));
 				if (item != NULL &amp;&amp; !signature-&gt;Compare(item-&gt;Signature())) {
 					item-&gt;ToggleExpandState(false);
 					break;
@@ -486,7 +486,7 @@
 
 		// Clean up expanded signature list.
 		while (!expandedItems.IsEmpty()) {
-			delete static_cast&lt;BString *&gt;(expandedItems.RemoveItem((int32)0));
+			delete static_cast&lt;BString*&gt;(expandedItems.RemoveItem((int32)0));
 		}
 
 		fExpando-&gt;SizeWindow();
@@ -573,7 +573,7 @@
 //	#pragma mark - Drag and Drop
 
 void
-TBarView::CacheDragData(const BMessage *incoming)
+TBarView::CacheDragData(const BMessage* incoming)
 {
 	if (!incoming)
 		return;	
@@ -588,13 +588,13 @@
 
 
 static void
-init_tracking_hook(BMenuItem *item,
-	bool (*hookFunction)(BMenu *, void *), void *state)
+init_tracking_hook(BMenuItem* item,
+	bool (*hookFunction)(BMenu*, void*), void* state)
 {
 	if (!item)
 		return;
 
-	BMenu *windowMenu = item-&gt;Submenu();
+	BMenu* windowMenu = item-&gt;Submenu();
 	if (windowMenu) {
 		// have a menu, set the tracking hook
 		windowMenu-&gt;SetTrackingHook(hookFunction, state);
@@ -615,7 +615,7 @@
 	if (fExpando &amp;&amp; fExpando-&gt;Frame().Contains(loc)) {
 		ConvertToScreen(&amp;loc);
 		BPoint expandoLocation = fExpando-&gt;ConvertFromScreen(loc);		
-		TTeamMenuItem *item = fExpando-&gt;TeamItemAtPoint(expandoLocation);
+		TTeamMenuItem* item = fExpando-&gt;TeamItemAtPoint(expandoLocation);
 
 		if (fLastDragItem)
 			init_tracking_hook(fLastDragItem, NULL, NULL);
@@ -633,14 +633,14 @@
 
 
 bool
-TBarView::MenuTrackingHook(BMenu *menu, void *castToThis)
+TBarView::MenuTrackingHook(BMenu* menu, void* castToThis)
 {
 	// return true if the menu should go away
-	TrackingHookData *data = static_cast&lt;TrackingHookData *&gt;(castToThis);
+	TrackingHookData* data = static_cast&lt;TrackingHookData*&gt;(castToThis);
 	if (!data)
 		return false;
 
-	TBarView *barview = dynamic_cast&lt;TBarView *&gt;(data-&gt;fTarget.Target(NULL));
+	TBarView* barview = dynamic_cast&lt;TBarView*&gt;(data-&gt;fTarget.Target(NULL));
 	if (!barview || !menu-&gt;LockLooper())
 		return false;
 
@@ -660,8 +660,8 @@
 		// see if the mouse is in the team/be menu item
 		menu-&gt;ConvertToScreen(&amp;location);
 		if (barview-&gt;LockLooper()) {
-			TExpandoMenuBar *expando = barview-&gt;ExpandoMenuBar();
-			TBeMenu *bemenu = (dynamic_cast&lt;TBarWindow*&gt;(barview-&gt;Window()))-&gt;BeMenu();
+			TExpandoMenuBar* expando = barview-&gt;ExpandoMenuBar();
+			TBeMenu* bemenu = (dynamic_cast&lt;TBarWindow*&gt;(barview-&gt;Window()))-&gt;BeMenu();
 
 			if (bemenu &amp;&amp; bemenu-&gt;LockLooper()) {
 				bemenu-&gt;ConvertFromScreen(&amp;location);
@@ -673,7 +673,7 @@
 
 			if (endMenu &amp;&amp; expando) {
 				expando-&gt;ConvertFromScreen(&amp;location);
-				BMenuItem *item = expando-&gt;TeamItemAtPoint(location);
+				BMenuItem* item = expando-&gt;TeamItemAtPoint(location);
 				if (item) 
 					endMenu = false;
 			}
@@ -688,7 +688,7 @@
 
 // used by WindowMenu and TeamMenu to
 // set the tracking hook for dragging
-TrackingHookData *
+TrackingHookData*
 TBarView::GetTrackingHookData()
 {
 	// all tracking hook data is
@@ -722,7 +722,7 @@
 
 
 bool
-TBarView::AppCanHandleTypes(const char *signature)
+TBarView::AppCanHandleTypes(const char* signature)
 {
 	// used for filtering apps/teams in the ExpandoMenuBar and TeamMenu
 
@@ -780,7 +780,7 @@
 
 
 status_t
-TBarView::SendDragMessage(const char *signature, entry_ref *ref)
+TBarView::SendDragMessage(const char* signature, entry_ref* ref)
 {
 	status_t err = B_ERROR;
 	if (fDragMessage) {
@@ -807,7 +807,7 @@
 
 
 bool
-TBarView::InvokeItem(const char *signature)
+TBarView::InvokeItem(const char* signature)
 {
 	// sent from TeamMenuItem
 	if (Dragging() &amp;&amp; AppCanHandleTypes(signature)) {
@@ -822,7 +822,7 @@
 
 
 void
-TBarView::HandleBeMenu(BMessage *messagewithdestination)
+TBarView::HandleBeMenu(BMessage* messagewithdestination)
 {
 	if (!Dragging())
 		return;
@@ -868,7 +868,7 @@
 // storing items
 
 status_t
-TBarView::ItemInfo(int32 id, const char **name, DeskbarShelf *shelf)
+TBarView::ItemInfo(int32 id, const char** name, DeskbarShelf* shelf)
 {
 	*shelf = B_DESKBAR_TRAY;
 	return fReplicantTray-&gt;ItemInfo(id, name);
@@ -876,7 +876,7 @@
 
 
 status_t
-TBarView::ItemInfo(const char *name, int32 *id, DeskbarShelf *shelf)
+TBarView::ItemInfo(const char* name, int32* id, DeskbarShelf* shelf)
 {
 	*shelf = B_DESKBAR_TRAY;
 	return fReplicantTray-&gt;ItemInfo(name, id);
@@ -891,7 +891,7 @@
 
 
 bool
-TBarView::ItemExists(const char *name, DeskbarShelf)
+TBarView::ItemExists(const char* name, DeskbarShelf)
 {
 	return fReplicantTray-&gt;IconExists(name);
 }
@@ -905,7 +905,7 @@
 
 
 status_t
-TBarView::AddItem(BMessage *item, DeskbarShelf, int32 *id)
+TBarView::AddItem(BMessage* item, DeskbarShelf, int32* id)
 {
 	return fReplicantTray-&gt;AddIcon(item, id);
 }
@@ -919,7 +919,7 @@
 
 
 void
-TBarView::RemoveItem(const char *name, DeskbarShelf)
+TBarView::RemoveItem(const char* name, DeskbarShelf)
 {
 	fReplicantTray-&gt;RemoveIcon(name);
 }
@@ -947,7 +947,7 @@
 
 
 BRect
-TBarView::IconFrame(const char *name) const
+TBarView::IconFrame(const char* name) const
 {
 	return OffsetIconFrame(fReplicantTray-&gt;IconFrame(name));
 }

Modified: haiku/trunk/src/apps/deskbar/BarView.h
===================================================================
--- haiku/trunk/src/apps/deskbar/BarView.h	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarView.h	2009-09-29 23:42:31 UTC (rev 33366)
@@ -95,60 +95,60 @@
 		void ShowClock(bool);
 		bool ShowingClock() const;
 
-		void CacheDragData(const BMessage *incoming);
+		void CacheDragData(const BMessage* incoming);
 		status_t DragStart();
-		static bool MenuTrackingHook(BMenu *menu, void *castToThis);
+		static bool MenuTrackingHook(BMenu* menu, void* castToThis);
 		void DragStop(bool full=false);
-		TrackingHookData *GetTrackingHookData();
+		TrackingHookData* GetTrackingHookData();
 		bool Dragging() const;
-		const BMessage *DragMessage() const;
-		BObjectList&lt;BString&gt; *CachedTypesList() const;
-		bool AppCanHandleTypes(const char *signature);
+		const BMessage* DragMessage() const;
+		BObjectList&lt;BString&gt;*CachedTypesList() const;
+		bool AppCanHandleTypes(const char* signature);
 		void SetDragOverride(bool);
 		bool DragOverride();
-		bool InvokeItem(const char *signature);
+		bool InvokeItem(const char* signature);
 
-		void HandleBeMenu(BMessage *targetmessage);
+		void HandleBeMenu(BMessage* targetmessage);
 
-		status_t ItemInfo(int32 id, const char **name, DeskbarShelf *shelf);
-		status_t ItemInfo(const char *name, int32 *id, DeskbarShelf *shelf);
+		status_t ItemInfo(int32 id, const char** name, DeskbarShelf* shelf);
+		status_t ItemInfo(const char* name, int32* id, DeskbarShelf* shelf);
 
 		bool ItemExists(int32 id, DeskbarShelf shelf);
-		bool ItemExists(const char *name, DeskbarShelf shelf);
+		bool ItemExists(const char* name, DeskbarShelf shelf);
 
 		int32 CountItems(DeskbarShelf shelf);
 
-		status_t AddItem(BMessage *, DeskbarShelf shelf, int32 *id);
+		status_t AddItem(BMessage* , DeskbarShelf shelf, int32* id);
 
 		void RemoveItem(int32 id);
-		void RemoveItem(const char *name, DeskbarShelf shelf);
+		void RemoveItem(const char* name, DeskbarShelf shelf);
 
 		BRect OffsetIconFrame(BRect rect) const;
 		BRect IconFrame(int32 id) const;
-		BRect IconFrame(const char *name) const;
+		BRect IconFrame(const char* name) const;
 
-		void GetPreferredWindowSize(BRect screenFrame, float *width, float *height);
+		void GetPreferredWindowSize(BRect screenFrame, float* width, float* height);
 		void SizeWindow(BRect screenFrame);
 		void PositionWindow(BRect screenFrame);
 
-		TExpandoMenuBar *ExpandoMenuBar() const;
-		TBarMenuBar *BarMenuBar() const;
+		TExpandoMenuBar* ExpandoMenuBar() const;
+		TBarMenuBar* BarMenuBar() const;
 		friend class TBeMenu;
 		friend class PreferencesWindow;
 
 	private:
-		status_t SendDragMessage(const char *signature, entry_ref *ref = NULL);
+		status_t SendDragMessage(const char* signature, entry_ref* ref = NULL);
 
 		void PlaceBeMenu();
 		void PlaceTray(bool vertSwap, bool leftSwap, BRect screenFrame);
 		void PlaceApplicationBar(BRect screenFrame);
 
-		TBarMenuBar *fBarMenuBar;
-		TExpandoMenuBar *fExpando;
+		TBarMenuBar* fBarMenuBar;
+		TExpandoMenuBar* fExpando;
 
 		int32 fTrayLocation;
-		TDragRegion *fDragRegion;
-		TReplicantTray *fReplicantTray;
+		TDragRegion* fDragRegion;
+		TReplicantTray* fReplicantTray;
 
 		bool fShowInterval : 1;
 		bool fShowClock : 1;
@@ -160,25 +160,25 @@
 
 		bigtime_t fPulseRate;
 		bool fRefsRcvdOnly;
-		BMessage *fDragMessage;
-		BObjectList&lt;BString&gt; *fCachedTypesList;
+		BMessage* fDragMessage;
+		BObjectList&lt;BString&gt;*fCachedTypesList;
 		TrackingHookData fTrackingHookData;
 
 		uint32 fMaxRecentDocs;
 		uint32 fMaxRecentApps;
 
-		TTeamMenuItem *fLastDragItem;
+		TTeamMenuItem* fLastDragItem;
 };
 
 
-inline TExpandoMenuBar *
+inline TExpandoMenuBar*
 TBarView::ExpandoMenuBar() const
 {
 	return fExpando;
 }
 
 
-inline TBarMenuBar *
+inline TBarMenuBar*
 TBarView::BarMenuBar() const
 {
 	return fBarMenuBar;
@@ -192,14 +192,14 @@
 }
 
 
-inline const BMessage *
+inline const BMessage*
 TBarView::DragMessage() const
 {
 	return fDragMessage;
 }
 
 
-inline BObjectList&lt;BString&gt; *
+inline BObjectList&lt;BString&gt;*
 TBarView::CachedTypesList() const
 {
 	return fCachedTypesList;

Modified: haiku/trunk/src/apps/deskbar/BarWindow.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/BarWindow.cpp	2009-09-29 23:27:30 UTC (rev 33365)
+++ haiku/trunk/src/apps/deskbar/BarWindow.cpp	2009-09-29 23:42:31 UTC (rev 33366)
@@ -65,10 +65,10 @@
 #else
 #	error &quot;You may want to port this ugly hack to your compiler ABI&quot;
 #endif
-extern &quot;C&quot; void BMenuBar_StartMenuBar_Hack(BMenuBar *,int32,bool,bool,BRect *);
+extern &quot;C&quot; void BMenuBar_StartMenuBar_Hack(BMenuBar*,int32,bool,bool,BRect*);
 
 
-TBeMenu *TBarWindow::sBeMenu = NULL;
+TBeMenu* TBarWindow::sBeMenu = NULL;
 
 

[... truncated: 3216 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021022.html">[Haiku-commits] r33365 - haiku/trunk/build/jam
</A></li>
	<LI>Next message: <A HREF="021035.html">[Haiku-commits] r33366 - haiku/trunk/src/apps/deskbar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21023">[ date ]</a>
              <a href="thread.html#21023">[ thread ]</a>
              <a href="subject.html#21023">[ subject ]</a>
              <a href="author.html#21023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
