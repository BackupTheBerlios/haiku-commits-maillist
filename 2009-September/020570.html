<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r33079 - haiku/trunk/src/preferences/keyboard
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33079%20-%20haiku/trunk/src/preferences/keyboard&In-Reply-To=%3C200909120555.n8C5tM9r011904%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020590.html">
   <LINK REL="Next"  HREF="020571.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r33079 - haiku/trunk/src/preferences/keyboard</H1>
    <B>mmlr at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r33079%20-%20haiku/trunk/src/preferences/keyboard&In-Reply-To=%3C200909120555.n8C5tM9r011904%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r33079 - haiku/trunk/src/preferences/keyboard">mmlr at mail.berlios.de
       </A><BR>
    <I>Sat Sep 12 07:55:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020590.html">[Haiku-commits] r33078 - haiku/trunk/src/preferences/mouse
</A></li>
        <LI>Next message: <A HREF="020571.html">[Haiku-commits] r33080 - in haiku/trunk/src/servers: app print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20570">[ date ]</a>
              <a href="thread.html#20570">[ thread ]</a>
              <a href="subject.html#20570">[ subject ]</a>
              <a href="author.html#20570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mmlr
Date: 2009-09-12 07:55:19 +0200 (Sat, 12 Sep 2009)
New Revision: 33079
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=33079&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=33079&amp;view=rev</A>

Modified:
   haiku/trunk/src/preferences/keyboard/Keyboard.rdef
   haiku/trunk/src/preferences/keyboard/KeyboardView.cpp
Log:
Remove copyrighted bitmaps. Adjusted the code to simply ignore them if they
can't be loaded.


Modified: haiku/trunk/src/preferences/keyboard/Keyboard.rdef
===================================================================
--- haiku/trunk/src/preferences/keyboard/Keyboard.rdef	2009-09-12 05:53:09 UTC (rev 33078)
+++ haiku/trunk/src/preferences/keyboard/Keyboard.rdef	2009-09-12 05:55:19 UTC (rev 33079)
@@ -15,11 +15,9 @@
 	internal = 0,
 
 	short_info = &quot;Keyboard&quot;,
-	long_info  = &quot;Keyboard &#169;2004-2007 Haiku&quot;
+	long_info  = &quot;Keyboard &#169;2004-2009 Haiku&quot;
 };
 
-#ifdef HAIKU_TARGET_PLATFORM_HAIKU
-
 resource vector_icon {
 	$&quot;6E63696605020016023910813A2974BB43733A501C4A60D94AC7F400E9FFB902&quot;
 	$&quot;001602B8513BB55C0A38B9DABBC2B74A98024B8D270066FF9002011603BC39E2&quot;
@@ -35,143 +33,3 @@
 	$&quot;0106000A03030908071001178322040A000107000A010108000A020109000A03&quot;
 	$&quot;0105100117810004&quot;
 };
-
-#else // HAIKU_TARGET_PLATFORM_HAIKU
-
-resource large_icon {
-	$&quot;FFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFFFFFFFFFF001B1C1B0000FFFFFFFFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFFFFFFFF001B151C3F1B1C0000FFFFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFFFFFF001B151C1C0F1B1C1B1C0000FFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFFFF001B151C1C00151C1B1C1B1C1C00FFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFF001B151C1C1B0000001C1C1B1C3F0E00FFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFF003F3F15151C1B1C15001C1B3F0E0F00FFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFF003F153F3F15151C001B1C3F0E0F0F00FFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFF0000003F151515163F3F15151C3F0E0F0F0F0F00FFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFF001B1C1B000016151515163F3F3F0E0F0F0F0F0F00FFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFF001B151C1C1B1C000015151615150F0F0F0000000F00FFFFFFFFFFFF&quot;
-	$&quot;FFFFFF001B151C00001C1B1C1C00001515150F0F001C1B1C0000FFFFFFFFFFFF&quot;
-	$&quot;FFFF001B151C1C001B00001C1C1B1C0000150F001C151B1C1C1B0000FFFFFFFF&quot;
-	$&quot;FF001B151C1C1B1C001C1B1C1B1C007B7B00001C151C00001B1C1B1C0000FFFF&quot;
-	$&quot;FF003F3F15151C1B001C1C1B1C3F00DA7B7B00151C003F001B001C1B1C1C00FF&quot;
-	$&quot;FF003F153F3F15151C1B1C1C3F002B2CDA7B001B1C1C1B00001C1B1C1C3F0E00&quot;
-	$&quot;003F151515163F3F15151C3F0E002B2FEB003F15151C1B001C1C1B1C3F0E0F00&quot;
-	$&quot;003F1515151615153F3F3F0E002B2B2F2F00163F3F15151C1B1C1C3F0E0F0F00&quot;
-	$&quot;003F15151516151515160E0F002B2F2F00161515153F3F15151C3F0E0F0F0F00&quot;
-	$&quot;003F15151516151515160E002B2B2F2F001615151516153F3F3F0E0F0F0F0F00&quot;
-	$&quot;003F15151500000016150F002B2F2F003F15151516151515160E0F0F0F0F0F00&quot;
-	$&quot;FF000015007B7B7B0015002B2B2F2F003F15151516151515160E0F0F0F0F0F00&quot;
-	$&quot;FFFFFF007B7B7BDA0015002B2F2F00003F15151516151515160E0F0F0F0F00FF&quot;
-	$&quot;FFFFFF002B2CDA7B7B002B2CEB2F00FF0000151515161515150F0F0F0F00FFFF&quot;
-	$&quot;FFFFFFFF002B2CDA7B2B2CEB2F00FFFFFFFF000015151516150F0F0E00FFFFFF&quot;
-	$&quot;FFFFFFFF002B2CDA7B2B2CEB2F00FFFFFFFFFFFF00001515150F0F00FFFFFFFF&quot;
-	$&quot;FFFFFFFFFF002B2C2B2B2F2F00FFFFFFFFFFFFFFFFFF0000150F00FFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFF002B2C2B2B2F2F00FFFFFFFFFFFFFFFFFFFFFF0000FFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFF002B2CEB2F00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFF002B2CEB2F00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFF002B2F000E0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFF0000000E0F0F0F0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;
-};
-
-resource mini_icon {
-	$&quot;FFFFFFFFFFFFFF0000FFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFF001B1C0000FFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFF001B1C1B1C1C0000FFFFFF&quot;
-	$&quot;FFFFFFFF00153F3F1B1C0F0F00FFFFFF&quot;
-	$&quot;FFFF00001B0015163F0E0F0F00FFFFFF&quot;
-	$&quot;FF001B1C1B1C0000150F000000FFFFFF&quot;
-	$&quot;003F3F1B1C1B1C0000001C1B1C0000FF&quot;
-	$&quot;0015153F3F1B007B001C1B1C1C1B1C00&quot;
-	$&quot;00151516150F002F003F1B1C1B1C0F00&quot;
-	$&quot;0015151615002F0015153F3F1B0F0F00&quot;
-	$&quot;0000000000002F00151516150F0F0F00&quot;
-	$&quot;FF002B00002F0000001515150F0F0000&quot;
-	$&quot;FF002B7B2CEB00FFFF0000150F0000FF&quot;
-	$&quot;FFFF002B2F0000FFFFFFFF000000FFFF&quot;
-	$&quot;FFFF002B2F00FFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFF00000E0F0FFFFFFFFFFFFFFFFF&quot;
-};
-
-#endif // HAIKU_TARGET_PLATFORM_HAIKU
-
-resource file_types message;
-
-resource(601, &quot;key_bmap&quot;) #'bits' array {
-	$&quot;424D14050000000000003A000000280000001100000012000000010018000000&quot;
-	$&quot;0000DA040000130B0000130B00000000F0420000F042FFFFFFFFD8D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8000000000000D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8D8D8D8D8D8D800D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8&quot;
-	$&quot;D8D8D8000000000000A8A8A8787878000000D8D8D8D8D8D8D8D8D8D8D8D8D8D8&quot;
-	$&quot;D800D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8000000000000A8A8A8A8A8A8A8A8A8&quot;
-	$&quot;787878787878000000D8D8D8D8D8D8D8D8D8D8D8D800D8D8D8D8D8D8D8D8D800&quot;
-	$&quot;0000000000A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8787878787878787878000000&quot;
-	$&quot;D8D8D8D8D8D8D8D8D800D8D8D8000000000000A8A8A8A8A8A8A8A8A8A8A8A8A8&quot;
-	$&quot;A8A8A8A8A8A8A8A8787878787878787878787878000000D8D8D8D8D8D8000000&quot;
-	$&quot;00FFFFFFA8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A878787878&quot;
-	$&quot;7878787878787878787878000000D8D8D800000000FFFFFFA8A8A8A8A8A8A8A8&quot;
-	$&quot;A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A878787878787878787878787887878787&quot;
-	$&quot;878700000000000000FFFFFFA8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8&quot;
-	$&quot;A8A8A8A878787878787878787878787878787878787800000000000000FFFFFF&quot;
-	$&quot;A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8A8FFFFFFFFFFFFFFFFFF7878787878&quot;
-	$&quot;7878787878787878787800000000000000FFFFFFA8A8A8A8A8A8A8A8A8A8A8A8&quot;
-	$&quot;FFFFFFFFFFFFA8A8A8A8A8A8E0E0E0FFFFFF7878787878787878787878780000&quot;
-	$&quot;0000D8D8D8000000FFFFFFA8A8A8FFFFFFFFFFFFA8A8A8A8A8A8E0E0E0000000&quot;
-	$&quot;D8D8D8E0E0E0FFFFFF78787878787878787800000000D8D8D8000000FFFFFFFF&quot;
-	$&quot;FFFFA8A8A8A8A8A8E0E0E0D8D8D8E0E0E0A8A8A8000000E0E0E0E0E0E0FFFFFF&quot;
-	$&quot;78787878787800000000D8D8D8000000D8D8D8A8A8A8E0E0E0E0E0E0D8D8D800&quot;
-	$&quot;0000000000000000E0E0E0E0E0E0D8D8D8E0E0E0FFFFFF78787800000000D8D8&quot;
-	$&quot;D8D8D8D8000000D8D8D8A8A8A8E0E0E0E0E0E0000000A8A8A8E0E0E0D8D8D8E0&quot;
-	$&quot;E0E0D8D8D8E0E0E0E0E0E0000000D8D8D800D8D8D8D8D8D8D8D8D8000000D8D8&quot;
-	$&quot;D8A8A8A8E0E0E0E0E0E0787878D8D8D8E0E0E0D8D8D8E0E0E0000000000000D8&quot;
-	$&quot;D8D8D8D8D800D8D8D8D8D8D8D8D8D8D8D8D8000000D8D8D8A8A8A8E0E0E0FFFF&quot;
-	$&quot;FFD8D8D8E0E0E0000000000000D8D8D8D8D8D8D8D8D8D8D8D800D8D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8D8D8000000D8D8D8E0E0E0D8D8D8000000000000D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8D8D8D8D8D8D800D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8&quot;
-	$&quot;000000000000000000D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8D8&quot;
-	$&quot;D800000008428E0000FF0000114300000C420000114300004842008E00FF0000&quot;
-	$&quot;114300004C42000011430000844200008EFF0000124300000040000012430000&quot;
-	$&quot;90418F8F8FFFF99001000000984100001243000008428F0000FF000012430000&quot;
-	$&quot;0C420000124300004842008F00FF0000124300004C4200001243000084420000&quot;
-	$&quot;8FFF00001343000000400000134300009041909090FF00001343000098410000&quot;
-	$&quot;134300000842900000FF0000134300000C420000134300004842009000FF0000&quot;
-	$&quot;134300004C420000134300008442000090FF0000144300000040000014430000&quot;
-	$&quot;9041919191FF00001443000098410000144300000842910000FF000014430000&quot;
-	$&quot;0C420000144300004842009100FF0000144300004C4200001443000084420000&quot;
-	$&quot;91FF000015430000004000001543000090419292&quot;
-};
-
-resource(602, &quot;clock_bmap&quot;) #'bits' array {
-	$&quot;424DEB030000000000003A000000280000000F0000000F000000010018000000&quot;
-	$&quot;0000B1030000130B0000130B00000800000008000000FFFFFFFFD8D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8D8D8000000000000000000000000000000D8D8D8D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8000000D8D8D8D8D8D8D8D8D800000000000080808080808080&quot;
-	$&quot;8080808080808080000000000000D8D8D8D8D8D8D8D8D8000000D8D8D8D8D8D8&quot;
-	$&quot;000000B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B88080808080800000&quot;
-	$&quot;00D8D8D8D8D8D8000000D8D8D8000000B8B8B8B8B8B8B8B8B880808080808080&quot;
-	$&quot;8080808080808080B8B8B8B8B8B8808080000000D8D8D8000000D8D8D8000000&quot;
-	$&quot;B8B8B8B8B8B8808080FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF808080B8B8B88080&quot;
-	$&quot;80000000D8D8D8000000000000FFFFFFB8B8B8808080FFFFFFFFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFFFFFFFF808080B8B8B8808080000000000000000000FFFFFF&quot;
-	$&quot;B8B8B8808080FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF808080B8B8&quot;
-	$&quot;B8808080000000000000000000FFFFFFB8B8B8808080FFFFFFFFFFFFFFFFFF00&quot;
-	$&quot;0000000000FFFFFFFFFFFF808080B8B8B8808080000000000000000000FFFFFF&quot;
-	$&quot;B8B8B8808080FFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFF808080B8B8&quot;
-	$&quot;B8808080000000000000000000FFFFFFB8B8B8808080FFFFFFFFFFFFFFFFFF00&quot;
-	$&quot;0000FFFFFFFFFFFFFFFFFF808080B8B8B8808080000000000000D8D8D8000000&quot;
-	$&quot;FFFFFFB8B8B8808080FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF808080B8B8B8B8B8&quot;
-	$&quot;B8000000D8D8D8000000D8D8D8000000FFFFFFB8B8B8B8B8B880808080808080&quot;
-	$&quot;8080808080808080B8B8B8B8B8B8B8B8B8000000D8D8D8000000D8D8D8D8D8D8&quot;
-	$&quot;000000FFFFFFFFFFFFB8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B8B80000&quot;
-	$&quot;00D8D8D8D8D8D8000000D8D8D8D8D8D8D8D8D8000000000000FFFFFFFFFFFFFF&quot;
-	$&quot;FFFFFFFFFFFFFFFF000000000000D8D8D8D8D8D8D8D8D8000000D8D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D8D8D8000000000000000000000000000000D8D8D8D8D8D8D8D8&quot;
-	$&quot;D8D8D8D8D8D8D800000000000000000000000000000000000000000000000000&quot;
-	$&quot;0000000000000000000000000000000000000000000000000000000000000000&quot;
-	$&quot;0000000000000000000000000000000000000000000000000000000000000000&quot;
-	$&quot;0000000000000000000000000000000000000000000000000000000000000000&quot;
-	$&quot;0000000000000000000000000000000000000804000008040000140000000505&quot;
-	$&quot;0000A504070085050000A40404000D000000000000000000000063000100A404&quot;
-	$&quot;0400FFFFFFFF61000100FFFFFFFF0B4D01000100000000000000000000000000&quot;
-	$&quot;0000000000000000000000&quot;
-};
-

Modified: haiku/trunk/src/preferences/keyboard/KeyboardView.cpp
===================================================================
--- haiku/trunk/src/preferences/keyboard/KeyboardView.cpp	2009-09-12 05:53:09 UTC (rev 33078)
+++ haiku/trunk/src/preferences/keyboard/KeyboardView.cpp	2009-09-12 05:55:19 UTC (rev 33079)
@@ -66,8 +66,8 @@
 	
 	// Create the &quot;Typing test area&quot; text box...
 	frame.OffsetBy(0,frame.Height() + 15);
-	frame.right = fDelaySlider-&gt;Frame().right + fIconBitmap-&gt;Bounds().Width() +
-				  kBorderSpace;
+	frame.right = fDelaySlider-&gt;Frame().right + kBorderSpace
+		+ (fIconBitmap != NULL ? fIconBitmap-&gt;Bounds().Width() : 0);
 	BTextControl *textcontrol = new BTextControl(frame,&quot;typing_test_area&quot;,NULL,
 									&quot;Typing test area&quot;,
 									new BMessage('TTEA'),
@@ -80,11 +80,11 @@
 	
 	// Create the box for the sliders...
 	frame.left = frame.top = kBorderSpace;
-	frame.right = frame.left + fDelaySlider-&gt;Frame().right + 
-				fClockBitmap-&gt;Bounds().Width() + (kBorderSpace*2);
-	frame.bottom = textcontrol-&gt;Frame().bottom + (kBorderSpace*2);
-	fBox = new BBox(frame,&quot;keyboard_box&quot;,B_FOLLOW_LEFT,B_WILL_DRAW,
-					B_FANCY_BORDER);
+	frame.right = frame.left + fDelaySlider-&gt;Frame().right + (kBorderSpace * 2)
+		+ (fClockBitmap != NULL ? fClockBitmap-&gt;Bounds().Width() : 0);
+	frame.bottom = textcontrol-&gt;Frame().bottom + (kBorderSpace * 2);
+	fBox = new BBox(frame,&quot;keyboard_box&quot;,B_FOLLOW_LEFT, B_WILL_DRAW,
+		B_FANCY_BORDER);
 	AddChild(fBox);
 	
 	fBox-&gt;AddChild(fRepeatSlider);
@@ -118,14 +118,18 @@
 {
 	BPoint pt;
 	pt.x = fRepeatSlider-&gt;Frame().right + 10;
-	pt.y = fRepeatSlider-&gt;Frame().bottom - 35 - 
-			(fIconBitmap-&gt;Bounds().Height()/3);
-	
-	fBox-&gt;DrawBitmap(fIconBitmap,pt);
-	
-	pt.y = fDelaySlider-&gt;Frame().bottom - 35 - 
-			(fIconBitmap-&gt;Bounds().Height()/3);
-	fBox-&gt;DrawBitmap(fClockBitmap,pt);
+
+	if (fIconBitmap != NULL) {
+		pt.y = fRepeatSlider-&gt;Frame().bottom - 35
+			- fIconBitmap-&gt;Bounds().Height() / 3;
+		fBox-&gt;DrawBitmap(fIconBitmap,pt);
+	}
+
+	if (fClockBitmap != NULL) {
+		pt.y = fDelaySlider-&gt;Frame().bottom - 35
+			- fClockBitmap-&gt;Bounds().Height() / 3;
+		fBox-&gt;DrawBitmap(fClockBitmap,pt);
+	}
 }
 
 void


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020590.html">[Haiku-commits] r33078 - haiku/trunk/src/preferences/mouse
</A></li>
	<LI>Next message: <A HREF="020571.html">[Haiku-commits] r33080 - in haiku/trunk/src/servers: app print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20570">[ date ]</a>
              <a href="thread.html#20570">[ thread ]</a>
              <a href="subject.html#20570">[ subject ]</a>
              <a href="author.html#20570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
