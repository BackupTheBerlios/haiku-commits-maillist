<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r21466%20-%20in%20haiku/trunk%3A%20headers/os/interface%0A%20src/kits/interface&In-Reply-To=%3C17450684333-BeMail%40zon%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002829.html">
   <LINK REL="Next"  HREF="002838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface</H1>
    <B>Axel D&#246;rfler</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r21466%20-%20in%20haiku/trunk%3A%20headers/os/interface%0A%20src/kits/interface&In-Reply-To=%3C17450684333-BeMail%40zon%3E"
       TITLE="[Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface">axeld at pinc-software.de
       </A><BR>
    <I>Wed Jun 20 16:55:42 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002829.html">[Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface
</A></li>
        <LI>Next message: <A HREF="002838.html">[Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2830">[ date ]</a>
              <a href="thread.html#2830">[ thread ]</a>
              <a href="subject.html#2830">[ subject ]</a>
              <a href="author.html#2830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ingo Weinhold &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bonefish at cs.tu-berlin.de</A>&gt; wrote:
&gt;<i> &gt; It's also more correct: the complete height of the visual font is
</I>&gt;<i> &gt; (ascent + descent) - and since the baseline of the font equals the
</I>&gt;<i> &gt; ascent, only the BButton version should produce the desired output.
</I>&gt;<i> What should happen, if done like this, is, that capital letters 
</I>&gt;<i> should not 
</I>&gt;<i> appear centered, since they are completely above the baseline and 
</I>&gt;<i> should 
</I>&gt;<i> use the full ascent. As you can see in the screen shots, that is not 
</I>&gt;<i> the 
</I>&gt;<i> case, though. E.g. the &quot;S&quot; in align-bbutton-big-font has six pixels 
</I>&gt;<i> spacing 
</I>&gt;<i> to the top, but only five pixels to the bottom. Even if removing the 
</I>&gt;<i> &quot;+ 1&quot;, 
</I>&gt;<i> it would just be the other way around. A &quot;g&quot; goes four pixels below 
</I>&gt;<i> the 
</I>&gt;<i> baseline, so I'd expect at least a difference of two.
</I>&gt;<i> 
</I>&gt;<i> In actual fact, the font_height values are 19.257812 ascent and 
</I>&gt;<i> 4.716797 
</I>&gt;<i> descent. Given that the capital letters appear to be only 14 pixels 
</I>&gt;<i> tall, 
</I>&gt;<i> there's something seriously incorrect. It's a 20pt font, BTW.
</I>
How so? The actual values depend on the font - if the font does not use 
the full span, the font is to blame. All you know is the full span of 
the font and its baseline - you don't know how much space the font is 
actually using for typical characters (it should use the full amount, 
of course, but that varies a lot), the only certain thing is the 
baseline.
So in theory, both, the BButton version and yours might produce 
visually appealing results (it only depends on the font), but your 
version might crop some characters below the baseline.

&gt;<i> &gt; I think the last version looks best with either font size. Is that 
</I>&gt;<i> &gt; with
</I>&gt;<i> &gt; or without that +1?
</I>&gt;<i> It's with the &quot;+ 1&quot;. It would look better without, but when using the 
</I>&gt;<i> small 
</I>&gt;<i> font the label would no longer be aligned with the menu bar's text. 
</I>&gt;<i> And 
</I>&gt;<i> with correct font_height values it would move even further towards 
</I>&gt;<i> the top 
</I>&gt;<i> border.
</I>&gt;<i> 
</I>&gt;<i> BTW, does anyone actually *know* how text drawing works (or should 
</I>&gt;<i> work)? 
</I>&gt;<i> E.g. is the baseline an infinitesimally thin line or or is it one 
</I>&gt;<i> pixel 
</I>&gt;<i> thick? How exactly do the descent and ascent values relate to the 
</I>&gt;<i> baseline? 
</I>&gt;<i> Are they pixel counts or distances?
</I>
The BeBook says: &quot;This function places the characters on a baseline 
that begins one pixel above the current pen position&quot; (in 
BView::DrawString()). IOW the BButton version looks exactly as it 
should.
AFAICT the baseline is between pixels, so ascent as well as descent are 
distances and pixel count at the same time.

Bye,
   Axel.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002829.html">[Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface
</A></li>
	<LI>Next message: <A HREF="002838.html">[Haiku-commits] r21466 - in haiku/trunk: headers/os/interface src/kits/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2830">[ date ]</a>
              <a href="thread.html#2830">[ thread ]</a>
              <a href="subject.html#2830">[ subject ]</a>
              <a href="author.html#2830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
