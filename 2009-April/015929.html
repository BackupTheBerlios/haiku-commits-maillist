<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30200 - haiku/trunk/src/bin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30200%20-%20haiku/trunk/src/bin&In-Reply-To=%3C7e5795b0904170823k72683cacxe82d7d98f287a296%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015922.html">
   <LINK REL="Next"  HREF="015931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30200 - haiku/trunk/src/bin</H1>
    <B>Joseph Prostko</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30200%20-%20haiku/trunk/src/bin&In-Reply-To=%3C7e5795b0904170823k72683cacxe82d7d98f287a296%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r30200 - haiku/trunk/src/bin">joe.prostko+haiku at gmail.com
       </A><BR>
    <I>Fri Apr 17 17:23:20 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="015922.html">[Haiku-commits] r30200 - haiku/trunk/src/bin
</A></li>
        <LI>Next message: <A HREF="015931.html">[Haiku-commits] r30200 - haiku/trunk/src/bin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15929">[ date ]</a>
              <a href="thread.html#15929">[ thread ]</a>
              <a href="subject.html#15929">[ subject ]</a>
              <a href="author.html#15929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Apr 17, 2009 at 6:41 AM, David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt; wrote:
&gt;<i> 2009/4/17 David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt;:
</I>&gt;&gt;<i> On 2009-04-17, Joseph Prostko &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">joe.prostko+haiku at gmail.com</A>&gt; wrote:
</I>
&gt;&gt;<i>        Power Management Features:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>        L1 inst cache: 0 KB, 0-way set associative, 0 lines/tag, 0 bytes/line
</I>&gt;&gt;<i>        L1 data cache: 0 KB, 0-way set associative, 0 lines/tag, 0 bytes/line
</I>&gt;&gt;<i>        L2 cache: 512 KB, 16-way set associative, 0 lines/tag, 64 bytes/line
</I>
&gt;<i> The part that worries me is this
</I>&gt;<i>       L1 inst cache: 0 KB, 0-way set associative, 0 lines/tag, 0 bytes/line
</I>&gt;<i>       L1 data cache: 0 KB, 0-way set associative, 0 lines/tag, 0 bytes/line
</I>&gt;<i>       L2 cache: 512 KB, 16-way set associative, 0 lines/tag, 64 bytes/line
</I>
&gt;<i> The code looks correct for the documentation I have seen but the L1
</I>&gt;<i> inst cache is not 0Kb etc.
</I>
Yeah, I don't know what the L1 for the Atom is off the top of my head,
but it is surely more than 0 KB.  :)


&gt;&gt;<i> I brought this up since recently I was looking at a script that
</I>&gt;&gt;<i> basically detects what optimizations are valid for your CPU and GCC
</I>&gt;&gt;<i> version. &#160;This was when I noticed the whole extended model issue, as
</I>&gt;&gt;<i> my changes to make the script work on Haiku didn't really work for the
</I>&gt;&gt;<i> Atom case. &#160;The script looks for a family 6, model 28 to know it's an
</I>&gt;&gt;<i> Atom. &#160;It seems Linux, BSD, and Darwin just report the N270 Atom as a
</I>&gt;&gt;<i> model 28. &#160;Everything I saw in Windows reports the atom as a model C
</I>&gt;&gt;<i> hex (12 decimal), and an extended model 1C hex (28 decimal). &#160;I didn't
</I>&gt;&gt;<i> dig into the Haiku code with regards to model calculations, so am not
</I>&gt;&gt;<i> even sure if the extended model calculation happens.
</I>
&gt;<i> I suspect not. &#160;The haiku code is likely written following the BSD code.
</I>
&gt;<i> Well according to the documentation I found about what models are what
</I>&gt;<i> for the P6 family. &#160;The Atom should be model 28 (1C) &#160;However, the
</I>&gt;<i> sysinfo code is just reporting what is returned and it is returning
</I>&gt;<i> 12. &#160;There is perhaps a different method to get the model that windows
</I>&gt;<i> is using but I don't know how.
</I>
I only looked briefly, but I remember reading something some guy was
saying about how AMD and Intel handle this differently, and in the
case of the Atom anyways, you have to add 10h to Ch, which then gives
you 1Ch (or 28d).  I need to find that information again though, as
I'm not sure if the 10h was some sequence of bits or just some
standard number.  I recall seeing the calculation though, but
naturally I didn't bookmark that page at the time.  If/when I stumble
onto this information again, I'll be sure to let you know (assuming
you haven't figured it out by now).

I think the Windows programs I saw basically just read the 12 like
Haiku does, but also do whatever additional calculation that is needed
to get 28 (like Linux and others report).

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015922.html">[Haiku-commits] r30200 - haiku/trunk/src/bin
</A></li>
	<LI>Next message: <A HREF="015931.html">[Haiku-commits] r30200 - haiku/trunk/src/bin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15929">[ date ]</a>
              <a href="thread.html#15929">[ thread ]</a>
              <a href="subject.html#15929">[ subject ]</a>
              <a href="author.html#15929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
