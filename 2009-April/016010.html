<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30277 - haiku/trunk/src/bin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30277%20-%20haiku/trunk/src/bin&In-Reply-To=%3C200904201145.n3KBjSHN004427%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016025.html">
   <LINK REL="Next"  HREF="016011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30277 - haiku/trunk/src/bin</H1>
    <B>dlmcpaul at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30277%20-%20haiku/trunk/src/bin&In-Reply-To=%3C200904201145.n3KBjSHN004427%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r30277 - haiku/trunk/src/bin">dlmcpaul at mail.berlios.de
       </A><BR>
    <I>Mon Apr 20 13:45:28 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="016025.html">[Haiku-commits] r30276 - haiku/trunk/src/system/kernel/cache
</A></li>
        <LI>Next message: <A HREF="016011.html">[Haiku-commits] r30278 - haiku/trunk/src/servers/app/drawing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16010">[ date ]</a>
              <a href="thread.html#16010">[ thread ]</a>
              <a href="subject.html#16010">[ subject ]</a>
              <a href="author.html#16010">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dlmcpaul
Date: 2009-04-20 13:45:27 +0200 (Mon, 20 Apr 2009)
New Revision: 30277
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=30277&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=30277&amp;view=rev</A>

Modified:
   haiku/trunk/src/bin/sysinfo.c
Log:
style cleanup, hopefully no functional change

Modified: haiku/trunk/src/bin/sysinfo.c
===================================================================
--- haiku/trunk/src/bin/sysinfo.c	2009-04-20 08:02:51 UTC (rev 30276)
+++ haiku/trunk/src/bin/sysinfo.c	2009-04-20 11:45:27 UTC (rev 30277)
@@ -139,58 +139,58 @@
 static void
 print_intel_cache_descriptors(enum cpu_types type, cpuid_info *info)
 {
-	int i, j, max_desc;
+	int i, j, maxDesc;
 
-	uint8 cache_descriptors[15];	// Max 
+	uint8 cacheDescriptors[15];	// Max 
 	
-	max_desc = 0;
+	maxDesc = 0;
 	i = 0;	
 	
 	// put valid values into array
 	if ((info-&gt;regs.eax &amp; 0x80000000) == 0) {
 		// eax is valid, include values
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
 	} else {
-		i+=3;
+		i += 3;
 	}
 	if ((info-&gt;regs.ebx &amp; 0x80000000) == 0) {
 		// ebx is valid, include values
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
 	} else {
-		i+=4;
+		i += 4;
 	}
 	if ((info-&gt;regs.edx &amp; 0x80000000) == 0) {
 		// edx is valid, include values
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
 	} else {
-		i+=4;
+		i += 4;
 	}
 	if ((info-&gt;regs.ecx &amp; 0x80000000) == 0) {
 		// ecx is valid, include values
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
-		cache_descriptors[max_desc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
+		cacheDescriptors[maxDesc++] = info-&gt;eax_2.cache_descriptors[i++];
 	}
 
 	putchar('\n');
 
-	for (i = 0; i &lt; max_desc; i++) {
+	for (i = 0; i &lt; maxDesc; i++) {
 		// ignore NULL descriptors
-		if (cache_descriptors[i] == 0)
+		if (cacheDescriptors[i] == 0)
 			continue;
 
 		for (j = 0; sIntelCacheDescriptions[j].code; j++) {
-			if (cache_descriptors[i] == sIntelCacheDescriptions[j].code) {
-				if (cache_descriptors[i] == 0x40) {
+			if (cacheDescriptors[i] == sIntelCacheDescriptions[j].code) {
+				if (cacheDescriptors[i] == 0x40) {
 					printf(&quot;\tNo integrated L%u cache\n&quot;,
 						type &gt;= B_CPU_INTEL_PENTIUM_IV
 						&amp;&amp; (type &amp; B_CPU_x86_VENDOR_MASK) == B_CPU_INTEL_x86 ?
@@ -203,7 +203,7 @@
 		
 		// Reached the end without finding a descriptor
 		if (sIntelCacheDescriptions[j].code == 0)
-			printf(&quot;\tUnknown cache descriptor 0x%02x\n&quot;, cache_descriptors[i]);
+			printf(&quot;\tUnknown cache descriptor 0x%02x\n&quot;, cacheDescriptors[i]);
 	}
 }
 
@@ -240,8 +240,8 @@
 {
 	uint32 size = (reg &gt;&gt; 16) &amp; 0xffff;
 	uint32 ways = (reg &gt;&gt; 12) &amp; 0xf;
-	uint32 lines_per_tag = (reg &gt;&gt; 8) &amp; 0xf;		// intel does not define this
-	uint32 linesize = reg &amp; 0xff;
+	uint32 linesPerTag = (reg &gt;&gt; 8) &amp; 0xf;		// intel does not define this
+	uint32 lineSize = reg &amp; 0xff;
 
 	printf(&quot;\t%s: %lu KB, &quot;, name, size);
 	if (ways == 0xf)
@@ -250,7 +250,7 @@
 		printf(&quot;direct-mapped, &quot;);
 	else
 		printf(&quot;%lu-way set associative, &quot;, 1UL &lt;&lt; (ways / 2));
-	printf(&quot;%lu lines/tag, %lu bytes/line\n&quot;, lines_per_tag, linesize);
+	printf(&quot;%lu lines/tag, %lu bytes/line\n&quot;, linesPerTag, lineSize);
 }
 
 
@@ -259,15 +259,15 @@
 {
 	uint32 size = (reg &gt;&gt; 24) &amp; 0xff;
 	uint32 ways = (reg &gt;&gt; 16) &amp; 0xff;
-	uint32 lines_per_tag = (reg &gt;&gt; 8) &amp; 0xff;
-	uint32 linesize = reg &amp; 0xff;
+	uint32 linesPerTag = (reg &gt;&gt; 8) &amp; 0xff;
+	uint32 lineSize = reg &amp; 0xff;
 
 	printf(&quot;\t%s: %lu KB, &quot;, name, size);
 	if (ways == 0xff)
 		printf(&quot;fully associative, &quot;);
 	else
 		printf(&quot;%lu-way set associative, &quot;, ways);
-	printf(&quot;%lu lines/tag, %lu bytes/line\n&quot;, lines_per_tag, linesize);
+	printf(&quot;%lu lines/tag, %lu bytes/line\n&quot;, linesPerTag, lineSize);
 }
 
 
@@ -299,9 +299,9 @@
 	cpuid_info info;
 	uint32 type;
 	uint32 level;
-	bool is_fully_assoc;
-	uint32 linesize;
-	uint32 lines_per_tag;
+	bool isFullyAssoc;
+	uint32 lineSize;
+	uint32 linesPerTag;
 	uint32 ways;
 	uint32 sets;
 
@@ -312,10 +312,10 @@
 	
 	type = info.regs.eax &amp; 0xf;
 	level = (info.regs.eax &amp; 0x70) &gt;&gt; 4;
-	is_fully_assoc = info.regs.eax &amp; 0x100;
+	isFullyAssoc = info.regs.eax &amp; 0x100;
 	
-	linesize = (info.regs.ebx &amp; 0xfff) + 1;
-	lines_per_tag = ((info.regs.ebx &amp; 0x3ff000) &gt;&gt; 12) + 1;
+	lineSize = (info.regs.ebx &amp; 0xfff) + 1;
+	linesPerTag = ((info.regs.ebx &amp; 0x3ff000) &gt;&gt; 12) + 1;
 	ways = ((info.regs.ebx &amp; 0xffc00000) &gt;&gt; 22) + 1;
 	
 	sets = info.regs.ecx;
@@ -329,11 +329,11 @@
 		default: break;
 	}	
 	
-	if (is_fully_assoc)
+	if (isFullyAssoc)
 		printf(&quot;fully associative, &quot;);
 	else
 		printf(&quot;%lu-way set associative, &quot;, ways);
-	printf(&quot;%lu lines/tag, %lu bytes/line\n&quot;, lines_per_tag, linesize);
+	printf(&quot;%lu lines/tag, %lu bytes/line\n&quot;, linesPerTag, lineSize);
 	
 	get_cpuid(&amp;info, 0x80000006, cpu);
 	print_level2_cache(info.regs.ecx, &quot;L2 cache&quot;);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016025.html">[Haiku-commits] r30276 - haiku/trunk/src/system/kernel/cache
</A></li>
	<LI>Next message: <A HREF="016011.html">[Haiku-commits] r30278 - haiku/trunk/src/servers/app/drawing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16010">[ date ]</a>
              <a href="thread.html#16010">[ thread ]</a>
              <a href="subject.html#16010">[ subject ]</a>
              <a href="author.html#16010">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
