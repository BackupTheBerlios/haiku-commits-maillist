<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30132 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30132%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/avcodec%3A%20.%20libavcodec&In-Reply-To=%3Cda2be3d70904112244v6b505837sb263561bbd5c2c5c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015763.html">
   <LINK REL="Next"  HREF="015770.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30132 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec</H1>
    <B>David McPaul</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30132%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/avcodec%3A%20.%20libavcodec&In-Reply-To=%3Cda2be3d70904112244v6b505837sb263561bbd5c2c5c%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r30132 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec">dlmcpaul at gmail.com
       </A><BR>
    <I>Sun Apr 12 07:44:06 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="015763.html">[Haiku-commits] r30132 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec
</A></li>
        <LI>Next message: <A HREF="015770.html">[Haiku-commits] r30132 - in haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15764">[ date ]</a>
              <a href="thread.html#15764">[ thread ]</a>
              <a href="subject.html#15764">[ subject ]</a>
              <a href="author.html#15764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/4/12 Cian Duffy &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">myob87 at gmail.com</A>&gt;:
&gt;<i> 2009/4/12 dlmcpaul at BerliOS &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at mail.berlios.de</A>&gt;:
</I>&gt;&gt;<i> Author: dlmcpaul
</I>&gt;&gt;<i> Modified: haiku/trunk/src/add-ons/media/plugins/avcodec/libavcodec/config.h
</I>&gt;&gt;<i> ===================================================================
</I>&gt;&gt;<i> --- haiku/trunk/src/add-ons/media/plugins/avcodec/libavcodec/config.h &#160; 2009-04-12 03:28:39 UTC (rev 30131)
</I>&gt;&gt;<i> +++ haiku/trunk/src/add-ons/media/plugins/avcodec/libavcodec/config.h &#160; 2009-04-12 03:34:24 UTC (rev 30132)
</I>&gt;&gt;<i> @@ -31,7 +31,7 @@
</I>&gt;&gt;<i> &#160;#define HAVE_MMX2 1
</I>&gt;&gt;<i> &#160;#define HAVE_NEON 0
</I>&gt;&gt;<i> &#160;#define HAVE_PPC4XX 0
</I>&gt;&gt;<i> -#define HAVE_SSE 1
</I>&gt;&gt;<i> +#define HAVE_SSE 0
</I>&gt;&gt;<i> &#160;#define HAVE_SSSE3 1
</I>&gt;&gt;<i> &#160;#define HAVE_VIS 0
</I>&gt;&gt;<i> &#160;#define HAVE_BEOSTHREADS 0
</I>&gt;&gt;<i> @@ -54,8 +54,8 @@
</I>&gt;&gt;<i> &#160;#define HAVE_DLFCN_H 0
</I>&gt;&gt;<i> &#160;#define HAVE_DLOPEN 0
</I>&gt;&gt;<i> &#160;#define HAVE_DOS_PATHS 0
</I>&gt;&gt;<i> -#define HAVE_EBP_AVAILABLE 1
</I>&gt;&gt;<i> -#define HAVE_EBX_AVAILABLE 1
</I>&gt;&gt;<i> +#define HAVE_EBP_AVAILABLE 0
</I>&gt;&gt;<i> +#define HAVE_EBX_AVAILABLE 0
</I>&gt;&gt;<i> &#160;#define HAVE_FAST_64BIT 0
</I>&gt;&gt;<i> &#160;#define HAVE_FAST_CMOV 0
</I>&gt;&gt;<i> &#160;#define HAVE_FAST_UNALIGNED 1
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Was this bit of the change intentional?
</I>
Yes. With sse2, EBP and EBX turned on h264 segfaults all the time.

I will be relooking at this later, sse2 is a big speedup for h264
decoding.  EBP/EBX is less so but are probably easier to get working.

It maybe that haiku does not do proper memalign as sse2 code has
strict requirements and libavcodec mentions many issues regarding
memory alignment.

-- 
Cheers
David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015763.html">[Haiku-commits] r30132 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec
</A></li>
	<LI>Next message: <A HREF="015770.html">[Haiku-commits] r30132 - in haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15764">[ date ]</a>
              <a href="thread.html#15764">[ thread ]</a>
              <a href="subject.html#15764">[ subject ]</a>
              <a href="author.html#15764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
