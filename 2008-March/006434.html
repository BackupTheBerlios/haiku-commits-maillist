<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24184 - haiku/trunk/headers/build/os/support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24184%20-%20haiku/trunk/headers/build/os/support&In-Reply-To=%3C200802292343.m1TNhJtj027421%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006497.html">
   <LINK REL="Next"  HREF="006436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24184 - haiku/trunk/headers/build/os/support</H1>
    <B>axeld at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24184%20-%20haiku/trunk/headers/build/os/support&In-Reply-To=%3C200802292343.m1TNhJtj027421%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r24184 - haiku/trunk/headers/build/os/support">axeld at mail.berlios.de
       </A><BR>
    <I>Sat Mar  1 00:43:19 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006497.html">[Haiku-commits] r24179 - in haiku/trunk: headers/build	src/build/libhaikucompat
</A></li>
        <LI>Next message: <A HREF="006436.html">[Haiku-commits] r24184 - haiku/trunk/headers/build/os/support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6434">[ date ]</a>
              <a href="thread.html#6434">[ thread ]</a>
              <a href="subject.html#6434">[ subject ]</a>
              <a href="author.html#6434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: axeld
Date: 2008-03-01 00:43:18 +0100 (Sat, 01 Mar 2008)
New Revision: 24184
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=24184&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=24184&amp;view=rev</A>

Modified:
   haiku/trunk/headers/build/os/support/SupportDefs.h
Log:
Updated our build SupportDefs.h to the same version as the current standard
version. This gets rid of the _IMPEXP* definitions so it should not cause
any trouble.


Modified: haiku/trunk/headers/build/os/support/SupportDefs.h
===================================================================
--- haiku/trunk/headers/build/os/support/SupportDefs.h	2008-02-29 19:09:59 UTC (rev 24183)
+++ haiku/trunk/headers/build/os/support/SupportDefs.h	2008-02-29 23:43:18 UTC (rev 24184)
@@ -1,49 +1,28 @@
-//------------------------------------------------------------------------------
-//	Copyright (c) 2004-2005, Haiku
-//
-//	Permission is hereby granted, free of charge, to any person obtaining a
-//	copy of this software and associated documentation files (the &quot;Software&quot;),
-//	to deal in the Software without restriction, including without limitation
-//	the rights to use, copy, modify, merge, publish, distribute, sublicense,
-//	and/or sell copies of the Software, and to permit persons to whom the
-//	Software is furnished to do so, subject to the following conditions:
-//
-//	The above copyright notice and this permission notice shall be included in
-//	all copies or substantial portions of the Software.
-//
-//	THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
-//	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
-//	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
-//	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
-//	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
-//	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
-//	DEALINGS IN THE SOFTWARE.
-//
-//	File Name:		SupportDefs.h
-//	Author:			Erik Jaesler (<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">erik at cgsoftware.com</A>)
-//	Description:	Common type definitions.
-//------------------------------------------------------------------------------
-
+/*
+ * Copyright 2004-2007, Haiku, Inc. All Rights Reserved.
+ * Distributed under the terms of the MIT License.
+ *
+ * Author:
+ *		Erik Jaesler (<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">erik at cgsoftware.com</A>)
+ */
 #ifndef _SUPPORT_DEFS_H
 #define _SUPPORT_DEFS_H
 
-/* this !must! be located before the include of sys/types.h */
+
+/* this must be located before the include of sys/types.h */
 #if !defined(_SYS_TYPES_H) &amp;&amp; !defined(_SYS_TYPES_H_)
 typedef unsigned long			ulong;
 typedef unsigned int			uint;
 typedef unsigned short			ushort;
 #endif
 
-
-// Standard Includes -----------------------------------------------------------
-
-// System Includes -------------------------------------------------------------
 #include &lt;BeBuild.h&gt;
-#include &lt;sys/types.h&gt;
 #include &lt;Errors.h&gt;
 
-// Shorthand type formats ------------------------------------------------------
+#include &lt;sys/types.h&gt;
 
+
+// Shorthand type formats
 typedef	signed char				int8;
 typedef unsigned char			uint8;
 typedef volatile signed char   	vint8;
@@ -59,9 +38,9 @@
 typedef volatile long			vint32;
 typedef volatile unsigned long	vuint32;
 
-typedef	long long					int64;
-typedef unsigned long long			uint64;
-typedef volatile long long			vint64;
+typedef	long long				int64;
+typedef unsigned long long		uint64;
+typedef volatile long long		vint64;
 typedef volatile unsigned long long	vuint64;
 
 typedef volatile long			vlong;
@@ -78,24 +57,20 @@
 typedef unsigned short          unichar;
 
 
-// Descriptive formats ---------------------------------------------------------
+// Descriptive formats
 typedef int32					status_t;
 typedef int64					bigtime_t;
 typedef uint32					type_code;
 typedef uint32					perform_code;
 
 
-// Empty string (&quot;&quot;) -----------------------------------------------------------
+// Empty string (&quot;&quot;)
 #ifdef __cplusplus
-extern _IMPEXP_BE const char *B_EMPTY_STRING;
+extern const char *B_EMPTY_STRING;
 #endif
 
 
-// min and max comparisons -----------------------------------------------------
-//	min() and max() won't work in C++
-#define min_c(a,b) ((a)&gt;(b)?(b):(a))
-#define max_c(a,b) ((a)&gt;(b)?(a):(b))
-
+// min and max comparisons
 #ifndef __cplusplus
 #	ifndef min
 #		define min(a,b) ((a)&gt;(b)?(b):(a))
@@ -105,8 +80,12 @@
 #	endif
 #endif 
 
+// min() and max() won't work in C++
+#define min_c(a,b) ((a)&gt;(b)?(b):(a))
+#define max_c(a,b) ((a)&gt;(b)?(a):(b))
 
-// Grandfathering --------------------------------------------------------------
+
+// Grandfathering
 #ifndef __cplusplus
 #	include &lt;stdbool.h&gt;
 #endif 
@@ -116,34 +95,33 @@
 #endif
 
 
-//------------------------------------------------------------------------------
 #ifdef __cplusplus
 extern &quot;C&quot; {
 #endif
 
-//----- Atomic functions; old value is returned --------------------------------
-extern _IMPEXP_ROOT int32	atomic_set(vint32 *value, int32 newValue);
-extern _IMPEXP_ROOT int32	atomic_test_and_set(vint32 *value, int32 newValue, int32 testAgainst);
-extern _IMPEXP_ROOT int32	atomic_add(vint32 *value, int32 addValue);
-extern _IMPEXP_ROOT int32	atomic_and(vint32 *value, int32 andValue);
-extern _IMPEXP_ROOT int32	atomic_or(vint32 *value, int32 orValue);	
-extern _IMPEXP_ROOT int32	atomic_get(vint32 *value);
+// Atomic functions; previous value is returned
+extern int32	atomic_set(vint32 *value, int32 newValue);
+extern int32	atomic_test_and_set(vint32 *value, int32 newValue, int32 testAgainst);
+extern int32	atomic_add(vint32 *value, int32 addValue);
+extern int32	atomic_and(vint32 *value, int32 andValue);
+extern int32	atomic_or(vint32 *value, int32 orValue);	
+extern int32	atomic_get(vint32 *value);
 
-extern _IMPEXP_ROOT int64	atomic_set64(vint64 *value, int64 newValue);
-extern _IMPEXP_ROOT int64	atomic_test_and_set64(vint64 *value, int64 newValue, int64 testAgainst);
-extern _IMPEXP_ROOT int64	atomic_add64(vint64 *value, int64 addValue);
-extern _IMPEXP_ROOT int64	atomic_and64(vint64 *value, int64 andValue);
-extern _IMPEXP_ROOT int64	atomic_or64(vint64 *value, int64 orValue);	
-extern _IMPEXP_ROOT int64	atomic_get64(vint64 *value);
+extern int64	atomic_set64(vint64 *value, int64 newValue);
+extern int64	atomic_test_and_set64(vint64 *value, int64 newValue, int64 testAgainst);
+extern int64	atomic_add64(vint64 *value, int64 addValue);
+extern int64	atomic_and64(vint64 *value, int64 andValue);
+extern int64	atomic_or64(vint64 *value, int64 orValue);	
+extern int64	atomic_get64(vint64 *value);
 
-// Other stuff -----------------------------------------------------------------
-extern _IMPEXP_ROOT void *	get_stack_frame(void);
+// Other stuff
+extern void*	get_stack_frame(void);
 
 #ifdef __cplusplus
 }
 #endif
 
-//-------- Obsolete or discouraged API -----------------------------------------
+// Obsolete or discouraged API
 
 // use 'true' and 'false'
 #ifndef FALSE


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006497.html">[Haiku-commits] r24179 - in haiku/trunk: headers/build	src/build/libhaikucompat
</A></li>
	<LI>Next message: <A HREF="006436.html">[Haiku-commits] r24184 - haiku/trunk/headers/build/os/support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6434">[ date ]</a>
              <a href="thread.html#6434">[ thread ]</a>
              <a href="subject.html#6434">[ subject ]</a>
              <a href="author.html#6434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
