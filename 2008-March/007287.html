<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24669%20-%20in%20haiku/trunk%3A%20headers/posix%0A%20headers/private/kernel%20src/kits/network/dns%20src/system/kernel%0A%20src/system/libroot/posix/unistd&In-Reply-To=%3C5700771187-BeMail%40laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007284.html">
   <LINK REL="Next"  HREF="007306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd</H1>
    <B>Fran&#231;ois Revol</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24669%20-%20in%20haiku/trunk%3A%20headers/posix%0A%20headers/private/kernel%20src/kits/network/dns%20src/system/kernel%0A%20src/system/libroot/posix/unistd&In-Reply-To=%3C5700771187-BeMail%40laptop%3E"
       TITLE="[Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd">revol at free.fr
       </A><BR>
    <I>Mon Mar 31 18:27:14 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="007284.html">[Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd
</A></li>
        <LI>Next message: <A HREF="007306.html">[Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7287">[ date ]</a>
              <a href="thread.html#7287">[ thread ]</a>
              <a href="subject.html#7287">[ subject ]</a>
              <a href="author.html#7287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> 
</I>&gt;<i> On 2008-03-31 at 11:20:30 [+0200], Fran&#231;ois Revol &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">revol at free.fr</A>&gt; 
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It's also more threadsafe than file-based stuff (the BONE way of 
</I>&gt;<i> &gt; using
</I>&gt;<i> &gt; network.conf made find_directory() unsafe, which was why Zeta added 
</I>&gt;<i> &gt; the
</I>&gt;<i> &gt; _r version (instead of fixing the problem...)).
</I>&gt;<i> 
</I>&gt;<i> Well, using TLS, as your implementation does, would also help with 
</I>&gt;<i> files.
</I>
Indeed.

&gt;<i>  The only 
</I>&gt;<i> thing more robust with one file per entry is when a program iterates
</I>&gt;<i>  through the DB 
</I>&gt;<i> just when it is changed. The single file version could read partially
</I>&gt;<i>  invalid data in 
</I>&gt;<i> that case, but that is pretty unlikely and easily avoided by writing
</I>&gt;<i>  to a different 
</I>&gt;<i> file first and rename()ing it to the actual one when done.
</I>
Reading &lt; 4k is probably atomic on the fs level anyway, so reading the 
whole file to a buffer shouldn't be much of a problem.

I know some apps are so dumb they try to read that file.

Also, a query might break if the BFS indices are screwed up.

OTH, that way is more Unix than Unix (everything is a file :p).

I believe Be's intention was actually to attach the attributes to the 
home folder itself, which could then be movable...
The current implementation wouldn't need much change to support that.
It might even allow plug-n-play users on a USB disk (but that'd mean 
trusting external hw...).

Because everyone uses a plain file doesn't mean we can't explore other 
optionsn I'd really like to see how it goes.

Besides, I'd like to have a port of PAM, if done in a clean way it 
could allow things like easy usb key sign-on, ...

Fran&#231;ois.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007284.html">[Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd
</A></li>
	<LI>Next message: <A HREF="007306.html">[Haiku-commits] r24669 - in haiku/trunk: headers/posix headers/private/kernel src/kits/network/dns src/system/kernel src/system/libroot/posix/unistd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7287">[ date ]</a>
              <a href="thread.html#7287">[ thread ]</a>
              <a href="subject.html#7287">[ subject ]</a>
              <a href="author.html#7287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
