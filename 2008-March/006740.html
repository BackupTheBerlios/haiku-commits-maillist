<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24312 - in haiku/trunk: headers/os/support src/kits/support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24312%20-%20in%20haiku/trunk%3A%20headers/os/support%0A%20src/kits/support&In-Reply-To=%3C20080310132751.2690.6%40stippis2.1205142279.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006735.html">
   <LINK REL="Next"  HREF="006736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24312 - in haiku/trunk: headers/os/support src/kits/support</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24312%20-%20in%20haiku/trunk%3A%20headers/os/support%0A%20src/kits/support&In-Reply-To=%3C20080310132751.2690.6%40stippis2.1205142279.fake%3E"
       TITLE="[Haiku-commits] r24312 - in haiku/trunk: headers/os/support src/kits/support">superstippi at gmx.de
       </A><BR>
    <I>Mon Mar 10 13:27:51 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006735.html">[Haiku-commits] r24312 - in haiku/trunk: headers/os/support	src/kits/support
</A></li>
        <LI>Next message: <A HREF="006736.html">[Haiku-commits] r24312 - in haiku/trunk: headers/os/support src/kits/support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6740">[ date ]</a>
              <a href="thread.html#6740">[ thread ]</a>
              <a href="subject.html#6740">[ subject ]</a>
              <a href="author.html#6740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Stefano Ceccherini wrote:
&gt;<i> 2008/3/10, Julun &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">HOST.HAIKU at gmx.de</A>&gt;:
</I>&gt;<i> 
</I>&gt;<i> &gt;  One might have a class with two worker threads, both got a pointer to 
</I>&gt;<i> &gt;  a BString passed that the class holds. While Thread A executes a write 
</I>&gt;<i> &gt;  operation on the string it gets hold in the middle of the function 
</I>&gt;<i> &gt;  execution and Thread B starts writing to the string, now it would mess 
</I>&gt;<i> &gt;  up the string completely. It that case it would be out of interest if 
</I>&gt;<i> &gt;  detach is thread save or not! So BString has to have every writing 
</I>&gt;<i> &gt;  function to be locked as well to be fully thread save.
</I>&gt;<i> 
</I>&gt;<i> Yeah that's what I meant when I said that neither Beos's BString was 
</I>&gt;<i> thread safe.
</I>
This case/problam is perfectly fine and expected. No one wants to change 
BString in this regard. When Axel and I looked over the initial reference 
counting implementation, we spotted some *new* threading issues, with 
different BStrings objects, who share the same data internally. But Axel 
and I have gone over it again, and it looks like it should work fine now. 
Ie, the Haiku BString is now behaving the same as the BeOS BString, there 
shouldn't be hidden threading issues because of shared data. Maybe Ingo can 
have a look though, he is usually pretty good with this stuff.

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006735.html">[Haiku-commits] r24312 - in haiku/trunk: headers/os/support	src/kits/support
</A></li>
	<LI>Next message: <A HREF="006736.html">[Haiku-commits] r24312 - in haiku/trunk: headers/os/support src/kits/support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6740">[ date ]</a>
              <a href="thread.html#6740">[ thread ]</a>
              <a href="subject.html#6740">[ subject ]</a>
              <a href="author.html#6740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
