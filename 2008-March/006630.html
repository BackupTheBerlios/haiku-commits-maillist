<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24291 - haiku/trunk/build/jam
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24291%20-%20haiku/trunk/build/jam&In-Reply-To=%3C1031274462-BeMail%40laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006628.html">
   <LINK REL="Next"  HREF="006621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24291 - haiku/trunk/build/jam</H1>
    <B>Fran&#231;ois Revol</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24291%20-%20haiku/trunk/build/jam&In-Reply-To=%3C1031274462-BeMail%40laptop%3E"
       TITLE="[Haiku-commits] r24291 - haiku/trunk/build/jam">revol at free.fr
       </A><BR>
    <I>Fri Mar  7 17:59:32 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006628.html">[Haiku-commits] r24291 - haiku/trunk/build/jam
</A></li>
        <LI>Next message: <A HREF="006621.html">[Haiku-commits] r24291 - haiku/trunk/build/jam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6630">[ date ]</a>
              <a href="thread.html#6630">[ thread ]</a>
              <a href="subject.html#6630">[ subject ]</a>
              <a href="author.html#6630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> On Fri, 2008-03-07 at 15:12 +0100, stippi at BerliOS wrote:
</I>&gt;<i> &gt; Author: stippi
</I>&gt;<i> &gt; Date: 2008-03-07 15:12:05 +0100 (Fri, 07 Mar 2008)
</I>&gt;<i> &gt; New Revision: 24291
</I>&gt;<i> &gt; ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=24291&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=24291&amp;view=rev</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Modified:
</I>&gt;<i> &gt;    haiku/trunk/build/jam/HaikuImage
</I>&gt;<i> &gt; Log:
</I>&gt;<i> &gt; * Added Firefox optional package.
</I>&gt;<i> &gt; * Added VLC optional package. (I repackaged the latest BeBits 
</I>&gt;<i> &gt; version and
</I>&gt;<i> &gt;   put it on www.yellowbites.com, which is a) much faster to 
</I>&gt;<i> &gt; download at
</I>&gt;<i> &gt;   least from Germany and b) has the Haiku vector icon.)
</I>&gt;<i> 
</I>&gt;<i> How about using haiku-files.org as a centralized place for optional
</I>&gt;<i> packages? We have plenty of space and bandwidth there.
</I>&gt;<i> 
</I>
Alternatively, some applications can already be built from external 
sources using the distro stuff I added to my own branch.
I wanted to see how well it would work to grab sources from a zip or 
svn, apply an optional patch, and build using custom jamfiles.
Patches could be centralized on BePorts or something else...

I took the opposite way of what I made in the zeta build system, that 
is use the app's own ./configure and makefiles. While that worked for 
zeta almost well, some apps had weird build systems (openssl and its 
wonderful perl Configure, or sometimes no DESTDIR support). Moreover it 
only worked from Zeta and didn't allow cross builds. Some autoconf 
based apps are able to do crossbuilds, but it's probably not much 
tested and definitely not widespread.

So I tried to go the other way, by crafting native Jamfiles for each of 
them.
While it works for small apps (VNCViewer, links), it obviously would be 
much harder for things like firefox or vlc as one would have to 
generate complex Jamfile to support all the addons, libs and options.
It also requires much more disk space to checkout all the different 
repos (there is an override feature so one can point to existing repos 
elsewhere to avoid having it twice and using in-progress ports).

On the other hand it would allow to build a full distro entirely 
without binaries, for all supported platforms and compilers. It would 
work for ppc target, and already works for gcc4.

Currently the checkouts must be done before trying to build, as though 
it does it anyway it fails to find the sources then.
It should be possible to also use svn:external properties to refer to 
external svn repos like osdrawer, but it seems that feature is not part 
of the versionning, so it would get out of sync if you svn up to a 
specific rev.
(ie. you can refer to a specific rev of an external svn, but you cannot 
bind that mapping to a specific revision of your own svn).

Fran&#231;ois.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006628.html">[Haiku-commits] r24291 - haiku/trunk/build/jam
</A></li>
	<LI>Next message: <A HREF="006621.html">[Haiku-commits] r24291 - haiku/trunk/build/jam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6630">[ date ]</a>
              <a href="thread.html#6630">[ thread ]</a>
              <a href="subject.html#6630">[ subject ]</a>
              <a href="author.html#6630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
