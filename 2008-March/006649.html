<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24306 - in haiku/trunk: headers/private/app	src/kits/interface src/servers/app
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24306%20-%20in%20haiku/trunk%3A%20headers/private/app%0A%09src/kits/interface%20src/servers/app&In-Reply-To=%3C200803081644.m28GiJPE015352%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006647.html">
   <LINK REL="Next"  HREF="006651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24306 - in haiku/trunk: headers/private/app	src/kits/interface src/servers/app</H1>
    <B>axeld at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24306%20-%20in%20haiku/trunk%3A%20headers/private/app%0A%09src/kits/interface%20src/servers/app&In-Reply-To=%3C200803081644.m28GiJPE015352%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r24306 - in haiku/trunk: headers/private/app	src/kits/interface src/servers/app">axeld at mail.berlios.de
       </A><BR>
    <I>Sat Mar  8 17:44:19 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006647.html">[Haiku-commits] r24305 - in haiku/trunk/src: servers/app	tests/servers/app
</A></li>
        <LI>Next message: <A HREF="006651.html">[Haiku-commits] r24307 - haiku/trunk/src/servers/app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6649">[ date ]</a>
              <a href="thread.html#6649">[ thread ]</a>
              <a href="subject.html#6649">[ subject ]</a>
              <a href="author.html#6649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: axeld
Date: 2008-03-08 17:44:18 +0100 (Sat, 08 Mar 2008)
New Revision: 24306
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=24306&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=24306&amp;view=rev</A>

Modified:
   haiku/trunk/headers/private/app/ServerProtocol.h
   haiku/trunk/src/kits/interface/View.cpp
   haiku/trunk/src/servers/app/ProfileMessageSupport.cpp
   haiku/trunk/src/servers/app/ServerWindow.cpp
Log:
Renamed all *LAYER* constants to *VIEW*.


Modified: haiku/trunk/headers/private/app/ServerProtocol.h
===================================================================
--- haiku/trunk/headers/private/app/ServerProtocol.h	2008-03-08 15:28:31 UTC (rev 24305)
+++ haiku/trunk/headers/private/app/ServerProtocol.h	2008-03-08 16:44:18 UTC (rev 24306)
@@ -1,5 +1,5 @@
 /*
- * Copyright 2001-2007, Haiku.
+ * Copyright 2001-2008, Haiku.
  * Distributed under the terms of the MIT License.
  *
  * Authors:
@@ -23,7 +23,7 @@
 #endif
 
 #define AS_REQUEST_COLOR_KEY 0x00010000
-	// additional option for AS_LAYER_SET_VIEW_BITMAP
+	// additional option for AS_VIEW_SET_VIEW_BITMAP
 
 enum {
 	// NOTE: all defines have to start with &quot;AS_&quot; to let the &quot;code_to_name&quot;
@@ -218,73 +218,73 @@
 
 	AS_SYNC,
 
-	AS_LAYER_CREATE,
-	AS_LAYER_DELETE,
-	AS_LAYER_CREATE_ROOT,
-	AS_LAYER_SHOW,
-	AS_LAYER_HIDE,
-	AS_LAYER_MOVE,
-	AS_LAYER_RESIZE,
-	AS_LAYER_DRAW,
+	AS_VIEW_CREATE,
+	AS_VIEW_DELETE,
+	AS_VIEW_CREATE_ROOT,
+	AS_VIEW_SHOW,
+	AS_VIEW_HIDE,
+	AS_VIEW_MOVE,
+	AS_VIEW_RESIZE,
+	AS_VIEW_DRAW,
 
 	// View/Layer definitions
-	AS_LAYER_GET_COORD,
-	AS_LAYER_SET_FLAGS,
-	AS_LAYER_SET_ORIGIN,
-	AS_LAYER_GET_ORIGIN,
-	AS_LAYER_RESIZE_MODE,
-	AS_LAYER_SET_CURSOR,
-	AS_LAYER_BEGIN_RECT_TRACK,
-	AS_LAYER_END_RECT_TRACK,
-	AS_LAYER_DRAG_RECT,
-	AS_LAYER_DRAG_IMAGE,
-	AS_LAYER_SCROLL,
-	AS_LAYER_SET_LINE_MODE,
-	AS_LAYER_GET_LINE_MODE,
-	AS_LAYER_PUSH_STATE,
-	AS_LAYER_POP_STATE,
-	AS_LAYER_SET_SCALE,
-	AS_LAYER_GET_SCALE,
-	AS_LAYER_SET_DRAWING_MODE,
-	AS_LAYER_GET_DRAWING_MODE,
-	AS_LAYER_SET_BLENDING_MODE,
-	AS_LAYER_GET_BLENDING_MODE,
-	AS_LAYER_SET_PEN_LOC,
-	AS_LAYER_GET_PEN_LOC,
-	AS_LAYER_SET_PEN_SIZE,
-	AS_LAYER_GET_PEN_SIZE,
-	AS_LAYER_SET_HIGH_COLOR,
-	AS_LAYER_SET_LOW_COLOR,
-	AS_LAYER_SET_VIEW_COLOR,
-	AS_LAYER_GET_HIGH_COLOR,
-	AS_LAYER_GET_LOW_COLOR,
-	AS_LAYER_GET_VIEW_COLOR,
-	AS_LAYER_PRINT_ALIASING,
-	AS_LAYER_CLIP_TO_PICTURE,
-	AS_LAYER_GET_CLIP_REGION,
-	AS_LAYER_DRAW_BITMAP,
-	AS_LAYER_SET_EVENT_MASK,
-	AS_LAYER_SET_MOUSE_EVENT_MASK,
+	AS_VIEW_GET_COORD,
+	AS_VIEW_SET_FLAGS,
+	AS_VIEW_SET_ORIGIN,
+	AS_VIEW_GET_ORIGIN,
+	AS_VIEW_RESIZE_MODE,
+	AS_VIEW_SET_CURSOR,
+	AS_VIEW_BEGIN_RECT_TRACK,
+	AS_VIEW_END_RECT_TRACK,
+	AS_VIEW_DRAG_RECT,
+	AS_VIEW_DRAG_IMAGE,
+	AS_VIEW_SCROLL,
+	AS_VIEW_SET_LINE_MODE,
+	AS_VIEW_GET_LINE_MODE,
+	AS_VIEW_PUSH_STATE,
+	AS_VIEW_POP_STATE,
+	AS_VIEW_SET_SCALE,
+	AS_VIEW_GET_SCALE,
+	AS_VIEW_SET_DRAWING_MODE,
+	AS_VIEW_GET_DRAWING_MODE,
+	AS_VIEW_SET_BLENDING_MODE,
+	AS_VIEW_GET_BLENDING_MODE,
+	AS_VIEW_SET_PEN_LOC,
+	AS_VIEW_GET_PEN_LOC,
+	AS_VIEW_SET_PEN_SIZE,
+	AS_VIEW_GET_PEN_SIZE,
+	AS_VIEW_SET_HIGH_COLOR,
+	AS_VIEW_SET_LOW_COLOR,
+	AS_VIEW_SET_VIEW_COLOR,
+	AS_VIEW_GET_HIGH_COLOR,
+	AS_VIEW_GET_LOW_COLOR,
+	AS_VIEW_GET_VIEW_COLOR,
+	AS_VIEW_PRINT_ALIASING,
+	AS_VIEW_CLIP_TO_PICTURE,
+	AS_VIEW_GET_CLIP_REGION,
+	AS_VIEW_DRAW_BITMAP,
+	AS_VIEW_SET_EVENT_MASK,
+	AS_VIEW_SET_MOUSE_EVENT_MASK,
 
-	AS_LAYER_DRAW_STRING,
-	AS_LAYER_SET_CLIP_REGION,
-	AS_LAYER_LINE_ARRAY,
-	AS_LAYER_BEGIN_PICTURE,
-	AS_LAYER_APPEND_TO_PICTURE,
-	AS_LAYER_END_PICTURE,
-	AS_LAYER_COPY_BITS,
-	AS_LAYER_DRAW_PICTURE,
-	AS_LAYER_INVALIDATE_RECT,
-	AS_LAYER_INVALIDATE_REGION,
-	AS_LAYER_INVERT_RECT,
-	AS_LAYER_MOVE_TO,
-	AS_LAYER_RESIZE_TO,
-	AS_LAYER_SET_STATE,
-	AS_LAYER_SET_FONT_STATE,
-	AS_LAYER_GET_STATE,
-	AS_LAYER_SET_VIEW_BITMAP,
-	AS_LAYER_SET_PATTERN,
-	AS_SET_CURRENT_LAYER,
+	AS_VIEW_DRAW_STRING,
+	AS_VIEW_SET_CLIP_REGION,
+	AS_VIEW_LINE_ARRAY,
+	AS_VIEW_BEGIN_PICTURE,
+	AS_VIEW_APPEND_TO_PICTURE,
+	AS_VIEW_END_PICTURE,
+	AS_VIEW_COPY_BITS,
+	AS_VIEW_DRAW_PICTURE,
+	AS_VIEW_INVALIDATE_RECT,
+	AS_VIEW_INVALIDATE_REGION,
+	AS_VIEW_INVERT_RECT,
+	AS_VIEW_MOVE_TO,
+	AS_VIEW_RESIZE_TO,
+	AS_VIEW_SET_STATE,
+	AS_VIEW_SET_FONT_STATE,
+	AS_VIEW_GET_STATE,
+	AS_VIEW_SET_VIEW_BITMAP,
+	AS_VIEW_SET_PATTERN,
+	AS_SET_CURRENT_VIEW,
 
 	// BDirectWindow codes
 	AS_DIRECT_WINDOW_GET_SYNC_DATA,

Modified: haiku/trunk/src/kits/interface/View.cpp
===================================================================
--- haiku/trunk/src/kits/interface/View.cpp	2008-03-08 15:28:31 UTC (rev 24305)
+++ haiku/trunk/src/kits/interface/View.cpp	2008-03-08 16:44:18 UTC (rev 24306)
@@ -1,5 +1,5 @@
 /*
- * Copyright 2001-2007, Haiku.
+ * Copyright 2001-2008, Haiku.
  * Distributed under the terms of the MIT License.
  *
  * Authors:
@@ -156,7 +156,7 @@
 void
 ViewState::UpdateServerFontState(BPrivate::PortLink &amp;link)
 {
-	link.StartMessage(AS_LAYER_SET_FONT_STATE);
+	link.StartMessage(AS_VIEW_SET_FONT_STATE);
 	link.Attach&lt;uint16&gt;(font_flags);
 		// always present
 
@@ -194,7 +194,7 @@
 {
 	UpdateServerFontState(link);
 
-	link.StartMessage(AS_LAYER_SET_STATE);
+	link.StartMessage(AS_VIEW_SET_STATE);
 	link.Attach&lt;BPoint&gt;(pen_location);
 	link.Attach&lt;float&gt;(pen_size);
 	link.Attach&lt;rgb_color&gt;(high_color);
@@ -232,7 +232,7 @@
 void
 ViewState::UpdateFrom(BPrivate::PortLink &amp;link)
 {
-	link.StartMessage(AS_LAYER_GET_STATE);
+	link.StartMessage(AS_VIEW_GET_STATE);
 
 	int32 code;
 	if (link.FlushWithReply(code) != B_OK
@@ -612,7 +612,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_FRAME_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_COORD);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_COORD);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -865,7 +865,7 @@
 					| B_FRAME_EVENTS | B_SUBPIXEL_PRECISE)) {
 			_CheckLockAndSwitchCurrent();
 
-			fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_FLAGS);
+			fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_FLAGS);
 			fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(flags);
 		}
 	}
@@ -897,7 +897,7 @@
 {
 	if (fOwner &amp;&amp; fShowLevel == 0) {
 		_CheckLockAndSwitchCurrent();
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_HIDE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_HIDE);
 	}
 	fShowLevel++;
 
@@ -912,7 +912,7 @@
 	fShowLevel--;
 	if (fOwner &amp;&amp; fShowLevel == 0) {
 		_CheckLockAndSwitchCurrent();
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SHOW);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SHOW);
 	}
 
 	if (fShowLevel == 0 &amp;&amp; fParent)
@@ -995,7 +995,7 @@
 	fState-&gt;origin.y = y;
 
 	if (_CheckOwnerLockAndSwitchCurrent()) {
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_ORIGIN);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_ORIGIN);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(x);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(y);
 
@@ -1015,7 +1015,7 @@
 		// we need to ask the server for the origin after PopState()
 		_CheckOwnerLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_ORIGIN);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_ORIGIN);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1036,7 +1036,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_RESIZE_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_RESIZE_MODE);
 		fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(mode);
 	}
 
@@ -1060,7 +1060,7 @@
 
 	_CheckLockAndSwitchCurrent();
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_CURSOR);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_CURSOR);
 	fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(cursor-&gt;fServerToken);
 	fOwner-&gt;fLink-&gt;Attach&lt;bool&gt;(sync);
 
@@ -1273,7 +1273,7 @@
 BView::BeginRectTracking(BRect startRect, uint32 style)
 {
 	if (_CheckOwnerLockAndSwitchCurrent()) {
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_BEGIN_RECT_TRACK);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_BEGIN_RECT_TRACK);
 		fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(startRect);
 		fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(style);
 	}
@@ -1284,7 +1284,7 @@
 BView::EndRectTracking()
 {
 	if (_CheckOwnerLockAndSwitchCurrent())
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_END_RECT_TRACK);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_END_RECT_TRACK);
 }
 
 
@@ -1395,7 +1395,7 @@
 	if (buffer) {
 		privateMessage.NativeFlatten(buffer, bufferSize);
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_DRAG_IMAGE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_DRAG_IMAGE);
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(image-&gt;_ServerToken());
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;((int32)dragMode);
 		fOwner-&gt;fLink-&gt;Attach&lt;BPoint&gt;(offset);
@@ -1556,7 +1556,7 @@
 
 	// if we're attached to a window tell app_server about this change
 	if (fOwner) {
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SCROLL);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SCROLL);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(deltaX);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(deltaY);
 
@@ -1597,7 +1597,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_EVENT_MASK);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_EVENT_MASK);
 		fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(mask);
 		fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(options);
 		fOwner-&gt;fLink-&gt;Flush();
@@ -1625,7 +1625,7 @@
 		_CheckLockAndSwitchCurrent();
 		fMouseEventOptions = options;
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_MOUSE_EVENT_MASK);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_MOUSE_EVENT_MASK);
 		fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(mask);
 		fOwner-&gt;fLink-&gt;Attach&lt;uint32&gt;(options);
 		fOwner-&gt;fLink-&gt;Flush();
@@ -1650,7 +1650,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_LINE_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_LINE_MODE);
 		fOwner-&gt;fLink-&gt;Attach&lt;int8&gt;((int8)lineCap);
 		fOwner-&gt;fLink-&gt;Attach&lt;int8&gt;((int8)lineJoin);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(miterLimit);
@@ -1694,7 +1694,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_LINE_MODES_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_LINE_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_LINE_MODE);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1720,7 +1720,7 @@
 {
 	_CheckOwnerLockAndSwitchCurrent();
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_PUSH_STATE);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_PUSH_STATE);
 
 	// initialize origin and scale
 	fState-&gt;valid_flags |= B_VIEW_SCALE_BIT | B_VIEW_ORIGIN_BIT;
@@ -1734,7 +1734,7 @@
 {
 	_CheckOwnerLockAndSwitchCurrent();
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_POP_STATE);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_POP_STATE);
 
 	// invalidate all flags (except those that are not part of pop/push)
 	fState-&gt;valid_flags = B_VIEW_VIEW_COLOR_BIT;
@@ -1750,7 +1750,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_SCALE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_SCALE);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(scale);
 
 		fState-&gt;valid_flags |= B_VIEW_SCALE_BIT;
@@ -1767,7 +1767,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_SCALE_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_SCALE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_SCALE);
 
  		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1791,7 +1791,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_DRAWING_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_DRAWING_MODE);
 		fOwner-&gt;fLink-&gt;Attach&lt;int8&gt;((int8)mode);
 
 		fState-&gt;valid_flags |= B_VIEW_DRAWING_MODE_BIT;
@@ -1808,7 +1808,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_DRAWING_MODE_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_DRAWING_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_DRAWING_MODE);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1836,7 +1836,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_BLENDING_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_BLENDING_MODE);
 		fOwner-&gt;fLink-&gt;Attach&lt;int8&gt;((int8)sourceAlpha);
 		fOwner-&gt;fLink-&gt;Attach&lt;int8&gt;((int8)alphaFunction);
 
@@ -1857,7 +1857,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_BLENDING_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_BLENDING_MODE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_BLENDING_MODE);
 
 		int32 code;
  		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1898,7 +1898,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_PEN_LOC);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_PEN_LOC);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(x);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(y);
 
@@ -1929,7 +1929,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_PEN_LOCATION_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_PEN_LOC);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_PEN_LOC);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1953,7 +1953,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_PEN_SIZE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_PEN_SIZE);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(size);
 
 		fState-&gt;valid_flags |= B_VIEW_PEN_SIZE_BIT;	
@@ -1970,7 +1970,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_PEN_SIZE_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_PEN_SIZE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_PEN_SIZE);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -1996,7 +1996,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_HIGH_COLOR);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_HIGH_COLOR);
 		fOwner-&gt;fLink-&gt;Attach&lt;rgb_color&gt;(color);
 
 		fState-&gt;valid_flags |= B_VIEW_HIGH_COLOR_BIT;	
@@ -2014,7 +2014,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_HIGH_COLOR_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_HIGH_COLOR);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_HIGH_COLOR);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -2039,7 +2039,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_LOW_COLOR);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_LOW_COLOR);
 		fOwner-&gt;fLink-&gt;Attach&lt;rgb_color&gt;(color);
 
 		fState-&gt;valid_flags |= B_VIEW_LOW_COLOR_BIT;
@@ -2057,7 +2057,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_LOW_COLOR_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_LOW_COLOR);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_LOW_COLOR);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -2081,7 +2081,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_VIEW_COLOR);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_VIEW_COLOR);
 		fOwner-&gt;fLink-&gt;Attach&lt;rgb_color&gt;(color);
 
 		fState-&gt;valid_flags |= B_VIEW_VIEW_COLOR_BIT;
@@ -2099,7 +2099,7 @@
 	if (!fState-&gt;IsValid(B_VIEW_VIEW_COLOR_BIT) &amp;&amp; fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_VIEW_COLOR);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_VIEW_COLOR);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -2123,7 +2123,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_PRINT_ALIASING);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_PRINT_ALIASING);
 		fOwner-&gt;fLink-&gt;Attach&lt;bool&gt;(enable);
 
 		fState-&gt;valid_flags |= B_VIEW_FONT_ALIASING_BIT;
@@ -2263,7 +2263,7 @@
 
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_CLIP_REGION);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_CLIP_REGION);
 
  		int32 code;
  		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -2279,7 +2279,7 @@
 BView::ConstrainClippingRegion(BRegion* region)
 {
 	if (_CheckOwnerLockAndSwitchCurrent()) {
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_CLIP_REGION);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_CLIP_REGION);
 
 		if (region) {
 			int32 count = region-&gt;CountRects();
@@ -2313,7 +2313,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_DRAW_BITMAP);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_DRAW_BITMAP);
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(bitmap-&gt;_ServerToken());
 		fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(dstRect);
 		fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(srcRect);
@@ -2346,7 +2346,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_DRAW_BITMAP);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_DRAW_BITMAP);
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(bitmap-&gt;_ServerToken());
 		BRect src = bitmap-&gt;Bounds().OffsetToCopy(B_ORIGIN);
 		BRect dst = src.OffsetToCopy(where);
@@ -3098,7 +3098,7 @@
 		picture-&gt;Usurp(cpicture);
 		cpicture = picture;
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_BEGIN_PICTURE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_BEGIN_PICTURE);
 	}
 }
 
@@ -3117,7 +3117,7 @@
 			picture-&gt;SetToken(-1);
 			picture-&gt;Usurp(cpicture);
 			cpicture = picture;			
-			fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_APPEND_TO_PICTURE);
+			fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_APPEND_TO_PICTURE);
 			fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(token);
 		}
 	}
@@ -3130,7 +3130,7 @@
 	if (_CheckOwnerLockAndSwitchCurrent() &amp;&amp; cpicture) {
 		int32 token;
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_END_PICTURE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_END_PICTURE);
 
 		int32 code;
 		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -3226,7 +3226,7 @@
 
 	_CheckLockAndSwitchCurrent();
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_COPY_BITS);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_COPY_BITS);
 	fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(src);
 	fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(dst);
 
@@ -3284,7 +3284,7 @@
 		return;
 
 	if (_CheckOwnerLockAndSwitchCurrent() &amp;&amp; picture-&gt;Token() &gt; 0) {
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_DRAW_PICTURE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_DRAW_PICTURE);
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(picture-&gt;Token());
 		fOwner-&gt;fLink-&gt;Attach&lt;BPoint&gt;(where);
 
@@ -3335,7 +3335,7 @@
 
 	_CheckLockAndSwitchCurrent();
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_INVALIDATE_RECT);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_INVALIDATE_RECT);
 	fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(invalRect);
 	fOwner-&gt;fLink-&gt;Flush();
 }
@@ -3349,7 +3349,7 @@
 
 	_CheckLockAndSwitchCurrent();
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_INVALIDATE_REGION);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_INVALIDATE_REGION);
 	fOwner-&gt;fLink-&gt;AttachRegion(*region);
 
 	fOwner-&gt;fLink-&gt;Flush();
@@ -3369,7 +3369,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_INVERT_RECT);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_INVERT_RECT);
 		fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(rect);
 
 		_FlushIfNotInTransaction();
@@ -3533,7 +3533,7 @@
 
 	if (owner != NULL &amp;&amp; !fTopLevelView) {
 		// the top level view is deleted by the app_server automatically
-		owner-&gt;fLink-&gt;StartMessage(AS_LAYER_DELETE);
+		owner-&gt;fLink-&gt;StartMessage(AS_VIEW_DELETE);
 		owner-&gt;fLink-&gt;Attach&lt;int32&gt;(_get_object_token_(this));
 	}
 
@@ -3603,7 +3603,7 @@
 
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_MOVE_TO);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_MOVE_TO);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(x);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(y);
 
@@ -3628,7 +3628,7 @@
 
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_RESIZE_TO);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_RESIZE_TO);
 
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(fBounds.Width() + deltaWidth);
 		fOwner-&gt;fLink-&gt;Attach&lt;float&gt;(fBounds.Height() + deltaHeight);
@@ -4300,7 +4300,7 @@
 		return;
 
 	if (_CheckOwnerLockAndSwitchCurrent()) {
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_CLIP_TO_PICTURE);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_CLIP_TO_PICTURE);
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(picture-&gt;Token());
 		fOwner-&gt;fLink-&gt;Attach&lt;BPoint&gt;(where);
 		fOwner-&gt;fLink-&gt;Attach&lt;bool&gt;(invert);
@@ -4397,14 +4397,14 @@
 bool
 BView::_CreateSelf()
 {
-	// AS_LAYER_CREATE &amp; AS_LAYER_CREATE_ROOT do not use the
+	// AS_VIEW_CREATE &amp; AS_VIEW_CREATE_ROOT do not use the
 	// current view mechanism via _CheckLockAndSwitchCurrent() - the token
 	// of the view and its parent are both send to the server.
 
 	if (fTopLevelView)
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_CREATE_ROOT);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_CREATE_ROOT);
 	else
- 		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_CREATE);
+ 		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_CREATE);
 
 	fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(_get_object_token_(this));
 	fOwner-&gt;fLink-&gt;AttachString(Name());
@@ -4700,7 +4700,7 @@
 
 	fState-&gt;UpdateFrom(*fOwner-&gt;fLink);
 //	if (!fState-&gt;IsValid(B_VIEW_FRAME_BIT)) {
-//		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_GET_COORD);
+//		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_GET_COORD);
 //
 //		status_t code;
 //		if (fOwner-&gt;fLink-&gt;FlushWithReply(code) == B_OK
@@ -4729,7 +4729,7 @@
 	if (fOwner) {
 		_CheckLockAndSwitchCurrent();
 
-		fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_PATTERN);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_PATTERN);
 		fOwner-&gt;fLink-&gt;Attach&lt; ::pattern&gt;(pattern);
 
 		fState-&gt;valid_flags |= B_VIEW_PATTERN_BIT;
@@ -4777,7 +4777,7 @@
 
 	int32 serverToken = bitmap ? bitmap-&gt;_ServerToken() : -1;
 
-	fOwner-&gt;fLink-&gt;StartMessage(AS_LAYER_SET_VIEW_BITMAP);
+	fOwner-&gt;fLink-&gt;StartMessage(AS_VIEW_SET_VIEW_BITMAP);
 	fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(serverToken);
 	fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(srcRect);
 	fOwner-&gt;fLink-&gt;Attach&lt;BRect&gt;(dstRect);
@@ -4849,7 +4849,7 @@
 
 	if (fOwner-&gt;fLastViewToken != serverToken) {
 		STRACE((&quot;contacting app_server... sending token: %ld\n&quot;, serverToken));
-		fOwner-&gt;fLink-&gt;StartMessage(AS_SET_CURRENT_LAYER);
+		fOwner-&gt;fLink-&gt;StartMessage(AS_SET_CURRENT_VIEW);
 		fOwner-&gt;fLink-&gt;Attach&lt;int32&gt;(serverToken);
 
 		fOwner-&gt;fLastViewToken = serverToken;

Modified: haiku/trunk/src/servers/app/ProfileMessageSupport.cpp
===================================================================
--- haiku/trunk/src/servers/app/ProfileMessageSupport.cpp	2008-03-08 15:28:31 UTC (rev 24305)
+++ haiku/trunk/src/servers/app/ProfileMessageSupport.cpp	2008-03-08 16:44:18 UTC (rev 24306)
@@ -206,73 +206,73 @@
 
 		case AS_SYNC: string = &quot;AS_SYNC&quot;; break;
 
-		case AS_LAYER_CREATE: string = &quot;AS_LAYER_CREATE&quot;; break;
-		case AS_LAYER_DELETE: string = &quot;AS_LAYER_DELETE&quot;; break;
-		case AS_LAYER_CREATE_ROOT: string = &quot;AS_LAYER_CREATE_ROOT&quot;; break;
-		case AS_LAYER_SHOW: string = &quot;AS_LAYER_SHOW&quot;; break;
-		case AS_LAYER_HIDE: string = &quot;AS_LAYER_HIDE&quot;; break;
-		case AS_LAYER_MOVE: string = &quot;AS_LAYER_MOVE&quot;; break;
-		case AS_LAYER_RESIZE: string = &quot;AS_LAYER_RESIZE&quot;; break;
-		case AS_LAYER_DRAW: string = &quot;AS_LAYER_DRAW&quot;; break;
+		case AS_VIEW_CREATE: string = &quot;AS_VIEW_CREATE&quot;; break;
+		case AS_VIEW_DELETE: string = &quot;AS_VIEW_DELETE&quot;; break;
+		case AS_VIEW_CREATE_ROOT: string = &quot;AS_VIEW_CREATE_ROOT&quot;; break;
+		case AS_VIEW_SHOW: string = &quot;AS_VIEW_SHOW&quot;; break;
+		case AS_VIEW_HIDE: string = &quot;AS_VIEW_HIDE&quot;; break;
+		case AS_VIEW_MOVE: string = &quot;AS_VIEW_MOVE&quot;; break;
+		case AS_VIEW_RESIZE: string = &quot;AS_VIEW_RESIZE&quot;; break;
+		case AS_VIEW_DRAW: string = &quot;AS_VIEW_DRAW&quot;; break;
 
 		// View definitions
-		case AS_LAYER_GET_COORD: string = &quot;AS_LAYER_GET_COORD&quot;; break;
-		case AS_LAYER_SET_FLAGS: string = &quot;AS_LAYER_SET_FLAGS&quot;; break;
-		case AS_LAYER_SET_ORIGIN: string = &quot;AS_LAYER_SET_ORIGIN&quot;; break;
-		case AS_LAYER_GET_ORIGIN: string = &quot;AS_LAYER_GET_ORIGIN&quot;; break;
-		case AS_LAYER_RESIZE_MODE: string = &quot;AS_LAYER_RESIZE_MODE&quot;; break;
-		case AS_LAYER_SET_CURSOR: string = &quot;AS_LAYER_SET_CURSOR&quot;; break;
-		case AS_LAYER_BEGIN_RECT_TRACK: string = &quot;AS_LAYER_BEGIN_RECT_TRACK&quot;; break;
-		case AS_LAYER_END_RECT_TRACK: string = &quot;AS_LAYER_END_RECT_TRACK&quot;; break;
-		case AS_LAYER_DRAG_RECT: string = &quot;AS_LAYER_DRAG_RECT&quot;; break;
-		case AS_LAYER_DRAG_IMAGE: string = &quot;AS_LAYER_DRAG_IMAGE&quot;; break;
-		case AS_LAYER_SCROLL: string = &quot;AS_LAYER_SCROLL&quot;; break;
-		case AS_LAYER_SET_LINE_MODE: string = &quot;AS_LAYER_SET_LINE_MODE&quot;; break;
-		case AS_LAYER_GET_LINE_MODE: string = &quot;AS_LAYER_GET_LINE_MODE&quot;; break;
-		case AS_LAYER_PUSH_STATE: string = &quot;AS_LAYER_PUSH_STATE&quot;; break;
-		case AS_LAYER_POP_STATE: string = &quot;AS_LAYER_POP_STATE&quot;; break;
-		case AS_LAYER_SET_SCALE: string = &quot;AS_LAYER_SET_SCALE&quot;; break;
-		case AS_LAYER_GET_SCALE: string = &quot;AS_LAYER_GET_SCALE&quot;; break;
-		case AS_LAYER_SET_DRAWING_MODE: string = &quot;AS_LAYER_SET_DRAWING_MODE&quot;; break;
-		case AS_LAYER_GET_DRAWING_MODE: string = &quot;AS_LAYER_GET_DRAWING_MODE&quot;; break;
-		case AS_LAYER_SET_BLENDING_MODE: string = &quot;AS_LAYER_SET_BLENDING_MODE&quot;; break;
-		case AS_LAYER_GET_BLENDING_MODE: string = &quot;AS_LAYER_GET_BLENDING_MODE&quot;; break;
-		case AS_LAYER_SET_PEN_LOC: string = &quot;AS_LAYER_SET_PEN_LOC&quot;; break;
-		case AS_LAYER_GET_PEN_LOC: string = &quot;AS_LAYER_GET_PEN_LOC&quot;; break;
-		case AS_LAYER_SET_PEN_SIZE: string = &quot;AS_LAYER_SET_PEN_SIZE&quot;; break;
-		case AS_LAYER_GET_PEN_SIZE: string = &quot;AS_LAYER_GET_PEN_SIZE&quot;; break;
-		case AS_LAYER_SET_HIGH_COLOR: string = &quot;AS_LAYER_SET_HIGH_COLOR&quot;; break;
-		case AS_LAYER_SET_LOW_COLOR: string = &quot;AS_LAYER_SET_LOW_COLOR&quot;; break;
-		case AS_LAYER_SET_VIEW_COLOR: string = &quot;AS_LAYER_SET_VIEW_COLOR&quot;; break;
-		case AS_LAYER_GET_HIGH_COLOR: string = &quot;AS_LAYER_GET_HIGH_COLOR&quot;; break;
-		case AS_LAYER_GET_LOW_COLOR: string = &quot;AS_LAYER_GET_LOW_COLOR&quot;; break;
-		case AS_LAYER_GET_VIEW_COLOR: string = &quot;AS_LAYER_GET_VIEW_COLOR&quot;; break;
-		case AS_LAYER_PRINT_ALIASING: string = &quot;AS_LAYER_PRINT_ALIASING&quot;; break;
-		case AS_LAYER_CLIP_TO_PICTURE: string = &quot;AS_LAYER_CLIP_TO_PICTURE&quot;; break;
-		case AS_LAYER_GET_CLIP_REGION: string = &quot;AS_LAYER_GET_CLIP_REGION&quot;; break;
-		case AS_LAYER_DRAW_BITMAP: string = &quot;AS_LAYER_DRAW_BITMAP&quot;; break;
-		case AS_LAYER_SET_EVENT_MASK: string = &quot;AS_LAYER_SET_EVENT_MASK&quot;; break;
-		case AS_LAYER_SET_MOUSE_EVENT_MASK: string = &quot;AS_LAYER_SET_MOUSE_EVENT_MASK&quot;; break;
+		case AS_VIEW_GET_COORD: string = &quot;AS_VIEW_GET_COORD&quot;; break;
+		case AS_VIEW_SET_FLAGS: string = &quot;AS_VIEW_SET_FLAGS&quot;; break;
+		case AS_VIEW_SET_ORIGIN: string = &quot;AS_VIEW_SET_ORIGIN&quot;; break;
+		case AS_VIEW_GET_ORIGIN: string = &quot;AS_VIEW_GET_ORIGIN&quot;; break;
+		case AS_VIEW_RESIZE_MODE: string = &quot;AS_VIEW_RESIZE_MODE&quot;; break;
+		case AS_VIEW_SET_CURSOR: string = &quot;AS_VIEW_SET_CURSOR&quot;; break;
+		case AS_VIEW_BEGIN_RECT_TRACK: string = &quot;AS_VIEW_BEGIN_RECT_TRACK&quot;; break;
+		case AS_VIEW_END_RECT_TRACK: string = &quot;AS_VIEW_END_RECT_TRACK&quot;; break;
+		case AS_VIEW_DRAG_RECT: string = &quot;AS_VIEW_DRAG_RECT&quot;; break;
+		case AS_VIEW_DRAG_IMAGE: string = &quot;AS_VIEW_DRAG_IMAGE&quot;; break;
+		case AS_VIEW_SCROLL: string = &quot;AS_VIEW_SCROLL&quot;; break;
+		case AS_VIEW_SET_LINE_MODE: string = &quot;AS_VIEW_SET_LINE_MODE&quot;; break;
+		case AS_VIEW_GET_LINE_MODE: string = &quot;AS_VIEW_GET_LINE_MODE&quot;; break;
+		case AS_VIEW_PUSH_STATE: string = &quot;AS_VIEW_PUSH_STATE&quot;; break;
+		case AS_VIEW_POP_STATE: string = &quot;AS_VIEW_POP_STATE&quot;; break;
+		case AS_VIEW_SET_SCALE: string = &quot;AS_VIEW_SET_SCALE&quot;; break;
+		case AS_VIEW_GET_SCALE: string = &quot;AS_VIEW_GET_SCALE&quot;; break;
+		case AS_VIEW_SET_DRAWING_MODE: string = &quot;AS_VIEW_SET_DRAWING_MODE&quot;; break;
+		case AS_VIEW_GET_DRAWING_MODE: string = &quot;AS_VIEW_GET_DRAWING_MODE&quot;; break;
+		case AS_VIEW_SET_BLENDING_MODE: string = &quot;AS_VIEW_SET_BLENDING_MODE&quot;; break;
+		case AS_VIEW_GET_BLENDING_MODE: string = &quot;AS_VIEW_GET_BLENDING_MODE&quot;; break;
+		case AS_VIEW_SET_PEN_LOC: string = &quot;AS_VIEW_SET_PEN_LOC&quot;; break;
+		case AS_VIEW_GET_PEN_LOC: string = &quot;AS_VIEW_GET_PEN_LOC&quot;; break;
+		case AS_VIEW_SET_PEN_SIZE: string = &quot;AS_VIEW_SET_PEN_SIZE&quot;; break;
+		case AS_VIEW_GET_PEN_SIZE: string = &quot;AS_VIEW_GET_PEN_SIZE&quot;; break;
+		case AS_VIEW_SET_HIGH_COLOR: string = &quot;AS_VIEW_SET_HIGH_COLOR&quot;; break;
+		case AS_VIEW_SET_LOW_COLOR: string = &quot;AS_VIEW_SET_LOW_COLOR&quot;; break;
+		case AS_VIEW_SET_VIEW_COLOR: string = &quot;AS_VIEW_SET_VIEW_COLOR&quot;; break;
+		case AS_VIEW_GET_HIGH_COLOR: string = &quot;AS_VIEW_GET_HIGH_COLOR&quot;; break;
+		case AS_VIEW_GET_LOW_COLOR: string = &quot;AS_VIEW_GET_LOW_COLOR&quot;; break;
+		case AS_VIEW_GET_VIEW_COLOR: string = &quot;AS_VIEW_GET_VIEW_COLOR&quot;; break;
+		case AS_VIEW_PRINT_ALIASING: string = &quot;AS_VIEW_PRINT_ALIASING&quot;; break;
+		case AS_VIEW_CLIP_TO_PICTURE: string = &quot;AS_VIEW_CLIP_TO_PICTURE&quot;; break;
+		case AS_VIEW_GET_CLIP_REGION: string = &quot;AS_VIEW_GET_CLIP_REGION&quot;; break;
+		case AS_VIEW_DRAW_BITMAP: string = &quot;AS_VIEW_DRAW_BITMAP&quot;; break;
+		case AS_VIEW_SET_EVENT_MASK: string = &quot;AS_VIEW_SET_EVENT_MASK&quot;; break;
+		case AS_VIEW_SET_MOUSE_EVENT_MASK: string = &quot;AS_VIEW_SET_MOUSE_EVENT_MASK&quot;; break;
 
-		case AS_LAYER_DRAW_STRING: string = &quot;AS_LAYER_DRAW_STRING&quot;; break;
-		case AS_LAYER_SET_CLIP_REGION: string = &quot;AS_LAYER_SET_CLIP_REGION&quot;; break;
-		case AS_LAYER_LINE_ARRAY: string = &quot;AS_LAYER_LINE_ARRAY&quot;; break;
-		case AS_LAYER_BEGIN_PICTURE: string = &quot;AS_LAYER_BEGIN_PICTURE&quot;; break;
-		case AS_LAYER_APPEND_TO_PICTURE: string = &quot;AS_LAYER_APPEND_TO_PICTURE&quot;; break;
-		case AS_LAYER_END_PICTURE: string = &quot;AS_LAYER_END_PICTURE&quot;; break;
-		case AS_LAYER_COPY_BITS: string = &quot;AS_LAYER_COPY_BITS&quot;; break;
-		case AS_LAYER_DRAW_PICTURE: string = &quot;AS_LAYER_DRAW_PICTURE&quot;; break;
-		case AS_LAYER_INVALIDATE_RECT: string = &quot;AS_LAYER_INVALIDATE_RECT&quot;; break;
-		case AS_LAYER_INVALIDATE_REGION: string = &quot;AS_LAYER_INVALIDATE_REGION&quot;; break;
-		case AS_LAYER_INVERT_RECT: string = &quot;AS_LAYER_INVERT_RECT&quot;; break;
-		case AS_LAYER_MOVE_TO: string = &quot;AS_LAYER_MOVE_TO&quot;; break;
-		case AS_LAYER_RESIZE_TO: string = &quot;AS_LAYER_RESIZE_TO&quot;; break;
-		case AS_LAYER_SET_STATE: string = &quot;AS_LAYER_SET_STATE&quot;; break;
-		case AS_LAYER_SET_FONT_STATE: string = &quot;AS_LAYER_SET_FONT_STATE&quot;; break;
-		case AS_LAYER_GET_STATE: string = &quot;AS_LAYER_GET_STATE&quot;; break;
-		case AS_LAYER_SET_VIEW_BITMAP: string = &quot;AS_LAYER_SET_VIEW_BITMAP&quot;; break;
-		case AS_LAYER_SET_PATTERN: string = &quot;AS_LAYER_SET_PATTERN&quot;; break;
-		case AS_SET_CURRENT_LAYER: string = &quot;AS_SET_CURRENT_LAYER&quot;; break;
+		case AS_VIEW_DRAW_STRING: string = &quot;AS_VIEW_DRAW_STRING&quot;; break;
+		case AS_VIEW_SET_CLIP_REGION: string = &quot;AS_VIEW_SET_CLIP_REGION&quot;; break;
+		case AS_VIEW_LINE_ARRAY: string = &quot;AS_VIEW_LINE_ARRAY&quot;; break;
+		case AS_VIEW_BEGIN_PICTURE: string = &quot;AS_VIEW_BEGIN_PICTURE&quot;; break;
+		case AS_VIEW_APPEND_TO_PICTURE: string = &quot;AS_VIEW_APPEND_TO_PICTURE&quot;; break;
+		case AS_VIEW_END_PICTURE: string = &quot;AS_VIEW_END_PICTURE&quot;; break;
+		case AS_VIEW_COPY_BITS: string = &quot;AS_VIEW_COPY_BITS&quot;; break;
+		case AS_VIEW_DRAW_PICTURE: string = &quot;AS_VIEW_DRAW_PICTURE&quot;; break;
+		case AS_VIEW_INVALIDATE_RECT: string = &quot;AS_VIEW_INVALIDATE_RECT&quot;; break;
+		case AS_VIEW_INVALIDATE_REGION: string = &quot;AS_VIEW_INVALIDATE_REGION&quot;; break;
+		case AS_VIEW_INVERT_RECT: string = &quot;AS_VIEW_INVERT_RECT&quot;; break;
+		case AS_VIEW_MOVE_TO: string = &quot;AS_VIEW_MOVE_TO&quot;; break;
+		case AS_VIEW_RESIZE_TO: string = &quot;AS_VIEW_RESIZE_TO&quot;; break;
+		case AS_VIEW_SET_STATE: string = &quot;AS_VIEW_SET_STATE&quot;; break;
+		case AS_VIEW_SET_FONT_STATE: string = &quot;AS_VIEW_SET_FONT_STATE&quot;; break;
+		case AS_VIEW_GET_STATE: string = &quot;AS_VIEW_GET_STATE&quot;; break;
+		case AS_VIEW_SET_VIEW_BITMAP: string = &quot;AS_VIEW_SET_VIEW_BITMAP&quot;; break;
+		case AS_VIEW_SET_PATTERN: string = &quot;AS_VIEW_SET_PATTERN&quot;; break;
+		case AS_SET_CURRENT_VIEW: string = &quot;AS_SET_CURRENT_VIEW&quot;; break;
 
 		// BDirectWindow codes
 		case AS_DIRECT_WINDOW_GET_SYNC_DATA: string = &quot;AS_DIRECT_WINDOW_GET_SYNC_DATA&quot;; break;

Modified: haiku/trunk/src/servers/app/ServerWindow.cpp
===================================================================
--- haiku/trunk/src/servers/app/ServerWindow.cpp	2008-03-08 15:28:31 UTC (rev 24305)
+++ haiku/trunk/src/servers/app/ServerWindow.cpp	2008-03-08 16:44:18 UTC (rev 24306)
@@ -1115,7 +1115,7 @@
 
 		// View creation and destruction (don't need a valid fCurrentView)
 
-		case AS_SET_CURRENT_LAYER:
+		case AS_SET_CURRENT_VIEW:
 		{
 			int32 token;
 			if (link.Read&lt;int32&gt;(&amp;token) != B_OK)
@@ -1126,23 +1126,23 @@
 					(void**)&amp;current) != B_OK
 				|| current-&gt;Window()-&gt;ServerWindow() != this) {
 				// ToDo: if this happens, we probably want to kill the app and clean up
-				fprintf(stderr, &quot;ServerWindow %s: Message AS_SET_CURRENT_LAYER: view not found, token %ld\n&quot;, fTitle, token);
+				fprintf(stderr, &quot;ServerWindow %s: Message AS_SET_CURRENT_VIEW: view not found, token %ld\n&quot;, fTitle, token);
 				current = NULL;
 			} else {
-				DTRACE((&quot;ServerWindow %s: Message AS_SET_CURRENT_LAYER: %s, token %ld\n&quot;, fTitle, current-&gt;Name(), token));
+				DTRACE((&quot;ServerWindow %s: Message AS_SET_CURRENT_VIEW: %s, token %ld\n&quot;, fTitle, current-&gt;Name(), token));
 				_SetCurrentView(current);
 			}
 			break;
 		}
 
-		case AS_LAYER_CREATE_ROOT:
+		case AS_VIEW_CREATE_ROOT:
 		{
-			STRACE((&quot;ServerWindow %s: Message AS_LAYER_CREATE_ROOT\n&quot;, fTitle));
+			STRACE((&quot;ServerWindow %s: Message AS_VIEW_CREATE_ROOT\n&quot;, fTitle));
 
 			// Start receiving top_view data -- pass NULL as the parent view.
 			// This should be the *only* place where this happens.
 			if (fCurrentView != NULL) {
-				fprintf(stderr, &quot;ServerWindow %s: Message AS_LAYER_CREATE_ROOT: fCurrentView already set!!\n&quot;, fTitle);
+				fprintf(stderr, &quot;ServerWindow %s: Message AS_VIEW_CREATE_ROOT: fCurrentView already set!!\n&quot;, fTitle);
 				break;
 			}
 
@@ -1151,16 +1151,16 @@
 			break;
 		}
 
-		case AS_LAYER_CREATE:
+		case AS_VIEW_CREATE:
 		{
-			STRACE((&quot;ServerWindow %s: Message AS_LAYER_CREATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
+			STRACE((&quot;ServerWindow %s: Message AS_VIEW_CREATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
 
 			View* parent = NULL;
 			View* newView = _CreateView(link, &amp;parent);
 			if (parent != NULL &amp;&amp; newView != NULL)
 				parent-&gt;AddChild(newView);
 			else
-				fprintf(stderr, &quot;ServerWindow %s: Message AS_LAYER_CREATE: parent or newView NULL!!\n&quot;, fTitle);
+				fprintf(stderr, &quot;ServerWindow %s: Message AS_VIEW_CREATE: parent or newView NULL!!\n&quot;, fTitle);
 			break;
 		}
 
@@ -1198,9 +1198,9 @@
 		return;
 
 	switch (code) {
-		case AS_LAYER_SCROLL:
+		case AS_VIEW_SCROLL:
 		{
-			DTRACE((&quot;ServerWindow %s: Message AS_LAYER_SCROLL: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
+			DTRACE((&quot;ServerWindow %s: Message AS_VIEW_SCROLL: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
 			float dh;
 			float dv;
 
@@ -1209,7 +1209,7 @@
 			fWindow-&gt;ScrollViewBy(fCurrentView, dh, dv);
 			break;
 		}
-		case AS_LAYER_COPY_BITS:
+		case AS_VIEW_COPY_BITS:
 		{
 			BRect src;
 			BRect dst;
@@ -1223,7 +1223,7 @@
 			fCurrentView-&gt;CopyBits(src, dst, contentRegion);
 			break;
 		}
-		case AS_LAYER_DELETE:
+		case AS_VIEW_DELETE:
 		{
 			// Received when a view is detached from a window
 
@@ -1237,7 +1237,7 @@
 				&amp;&amp; view-&gt;Window()-&gt;ServerWindow() == this) {
 				View* parent = view-&gt;Parent();
 
-				STRACE((&quot;ServerWindow %s: AS_LAYER_DELETE view: %p, parent: %p\n&quot;,
+				STRACE((&quot;ServerWindow %s: AS_VIEW_DELETE view: %p, parent: %p\n&quot;,
 					fTitle, view, parent));
 
 				if (parent != NULL) {
@@ -1260,9 +1260,9 @@
 			}
 			break;
 		}
-		case AS_LAYER_SET_STATE:
+		case AS_VIEW_SET_STATE:
 		{
-			DTRACE((&quot;ServerWindow %s: Message AS_LAYER_SET_STATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
+			DTRACE((&quot;ServerWindow %s: Message AS_VIEW_SET_STATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
 
 			fCurrentView-&gt;CurrentState()-&gt;ReadFromLink(link);
 			// TODO: When is this used?!?
@@ -1271,17 +1271,17 @@
 
 			break;
 		}
-		case AS_LAYER_SET_FONT_STATE:
+		case AS_VIEW_SET_FONT_STATE:
 		{
-			DTRACE((&quot;ServerWindow %s: Message AS_LAYER_SET_FONT_STATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
+			DTRACE((&quot;ServerWindow %s: Message AS_VIEW_SET_FONT_STATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
 			fCurrentView-&gt;CurrentState()-&gt;ReadFontFromLink(link);
 			fWindow-&gt;GetDrawingEngine()-&gt;SetFont(
 				fCurrentView-&gt;CurrentState());
 			break;
 		}
-		case AS_LAYER_GET_STATE:
+		case AS_VIEW_GET_STATE:
 		{
-			DTRACE((&quot;ServerWindow %s: Message AS_LAYER_GET_STATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
+			DTRACE((&quot;ServerWindow %s: Message AS_VIEW_GET_STATE: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));
 
 			fLink.StartMessage(B_OK);
 
@@ -1290,9 +1290,9 @@
 			fLink.Flush();
 			break;
 		}
-		case AS_LAYER_SET_EVENT_MASK:
+		case AS_VIEW_SET_EVENT_MASK:
 		{
-			STRACE((&quot;ServerWindow %s: Message AS_LAYER_SET_EVENT_MASK: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));			
+			STRACE((&quot;ServerWindow %s: Message AS_VIEW_SET_EVENT_MASK: View name: %s\n&quot;, fTitle, fCurrentView-&gt;Name()));			
 			uint32 eventMask, options;
 

[... truncated: 764 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006647.html">[Haiku-commits] r24305 - in haiku/trunk/src: servers/app	tests/servers/app
</A></li>
	<LI>Next message: <A HREF="006651.html">[Haiku-commits] r24307 - haiku/trunk/src/servers/app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6649">[ date ]</a>
              <a href="thread.html#6649">[ thread ]</a>
              <a href="subject.html#6649">[ subject ]</a>
              <a href="author.html#6649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
