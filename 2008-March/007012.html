<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24520 - in buildtools/trunk/legacy/binutils: . bfd	binutils gas gprof ld opcodes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24520%20-%20in%20buildtools/trunk/legacy/binutils%3A%20.%20bfd%0A%09binutils%20gas%20gprof%20ld%20opcodes&In-Reply-To=%3C200803220217.m2M2HDEL018711%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007011.html">
   <LINK REL="Next"  HREF="007013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24520 - in buildtools/trunk/legacy/binutils: . bfd	binutils gas gprof ld opcodes</H1>
    <B>bonefish at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24520%20-%20in%20buildtools/trunk/legacy/binutils%3A%20.%20bfd%0A%09binutils%20gas%20gprof%20ld%20opcodes&In-Reply-To=%3C200803220217.m2M2HDEL018711%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r24520 - in buildtools/trunk/legacy/binutils: . bfd	binutils gas gprof ld opcodes">bonefish at mail.berlios.de
       </A><BR>
    <I>Sat Mar 22 03:17:13 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="007011.html">[Haiku-commits] r24519 -	buildtools/trunk/legacy/binutils/ld/emulparams
</A></li>
        <LI>Next message: <A HREF="007013.html">[Haiku-commits] r24521 - buildtools/trunk/legacy/gcc/gcc/fixinc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7012">[ date ]</a>
              <a href="thread.html#7012">[ thread ]</a>
              <a href="subject.html#7012">[ subject ]</a>
              <a href="author.html#7012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bonefish
Date: 2008-03-22 03:17:10 +0100 (Sat, 22 Mar 2008)
New Revision: 24520
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=24520&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=24520&amp;view=rev</A>

Modified:
   buildtools/trunk/legacy/binutils/bfd/configure
   buildtools/trunk/legacy/binutils/binutils/configure
   buildtools/trunk/legacy/binutils/config.guess
   buildtools/trunk/legacy/binutils/configure
   buildtools/trunk/legacy/binutils/configure.in
   buildtools/trunk/legacy/binutils/gas/configure
   buildtools/trunk/legacy/binutils/gprof/configure
   buildtools/trunk/legacy/binutils/ld/Makefile.in
   buildtools/trunk/legacy/binutils/ld/configure
   buildtools/trunk/legacy/binutils/ltcf-c.sh
   buildtools/trunk/legacy/binutils/ltcf-cxx.sh
   buildtools/trunk/legacy/binutils/ltcf-gcj.sh
   buildtools/trunk/legacy/binutils/ltconfig
   buildtools/trunk/legacy/binutils/ltmain.sh
   buildtools/trunk/legacy/binutils/opcodes/configure
Log:
Manually updated the generated build system files.


Modified: buildtools/trunk/legacy/binutils/bfd/configure
===================================================================
--- buildtools/trunk/legacy/binutils/bfd/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/bfd/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -2836,7 +2836,7 @@
 
 # Define the identity of the package.
  PACKAGE=bfd
- VERSION=2.17-beos-20070218
+ VERSION=2.17-haiku-20080322
 
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
@@ -3493,6 +3493,10 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
+haiku*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
   lt_cv_file_magic_cmd='/usr/bin/file -L'

Modified: buildtools/trunk/legacy/binutils/binutils/configure
===================================================================
--- buildtools/trunk/legacy/binutils/binutils/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/binutils/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -3328,6 +3328,10 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
+haiku*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
   lt_cv_file_magic_cmd='/usr/bin/file -L'

Modified: buildtools/trunk/legacy/binutils/config.guess
===================================================================
--- buildtools/trunk/legacy/binutils/config.guess	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/config.guess	2008-03-22 02:17:10 UTC (rev 24520)
@@ -1178,6 +1178,12 @@
     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
 	echo i586-pc-beos
 	exit ;;
+    BeMac:Haiku:*:*)
+	echo powerpc-apple-haiku
+	exit ;;
+    BePC:Haiku:*:*)
+	echo i586-pc-haiku
+	exit ;;
     SX-4:SUPER-UX:*:*)
 	echo sx4-nec-superux${UNAME_RELEASE}
 	exit ;;

Modified: buildtools/trunk/legacy/binutils/configure
===================================================================
--- buildtools/trunk/legacy/binutils/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -1080,6 +1080,9 @@
   i[3456789]86-*-beos*)
     noconfigdirs=&quot;$noconfigdirs tk itcl libgui gdb&quot;
     ;;
+  i[3456789]86-*-haiku*)
+    noconfigdirs=&quot;$noconfigdirs tk itcl libgui gdb&quot;
+    ;;
   *-*-cygwin*)
     noconfigdirs=&quot;$noconfigdirs autoconf automake send-pr rcs guile perl&quot;
     ;;
@@ -1486,6 +1489,9 @@
   i[3456789]86-*-beos*)
     noconfigdirs=&quot;$noconfigdirs gdb target-newlib target-libgloss ${libgcj}&quot;
     ;;
+  i[3456789]86-*-haiku*)
+    noconfigdirs=&quot;$noconfigdirs gdb target-newlib target-libgloss ${libgcj}&quot;
+    ;;
   i[3456789]86-*-rdos*)
     noconfigdirs=&quot;$noconfigdirs gdb target-newlib target-libgloss&quot;
     ;;

Modified: buildtools/trunk/legacy/binutils/configure.in
===================================================================
--- buildtools/trunk/legacy/binutils/configure.in	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/configure.in	2008-03-22 02:17:10 UTC (rev 24520)
@@ -285,6 +285,9 @@
   i[[3456789]]86-*-beos*)
     noconfigdirs=&quot;$noconfigdirs tk itcl libgui gdb&quot;
     ;;
+  i[[3456789]]86-*-haiku*)
+    noconfigdirs=&quot;$noconfigdirs tk itcl libgui gdb&quot;
+    ;;
   *-*-cygwin*)
     noconfigdirs=&quot;$noconfigdirs autoconf automake send-pr rcs guile perl&quot;
     ;;
@@ -678,6 +681,9 @@
   i[[3456789]]86-*-beos*)
     noconfigdirs=&quot;$noconfigdirs gdb target-newlib target-libgloss ${libgcj}&quot;
     ;;
+  i[[3456789]]86-*-haiku*)
+    noconfigdirs=&quot;$noconfigdirs gdb target-newlib target-libgloss ${libgcj}&quot;
+    ;;
   i[[3456789]]86-*-rdos*)
     noconfigdirs=&quot;$noconfigdirs gdb target-newlib target-libgloss&quot;
     ;;

Modified: buildtools/trunk/legacy/binutils/gas/configure
===================================================================
--- buildtools/trunk/legacy/binutils/gas/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/gas/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -3328,6 +3328,10 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
+haiku*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
   lt_cv_file_magic_cmd='/usr/bin/file -L'
@@ -10210,7 +10214,7 @@
 yes)
   LIBM=
 case $host in
-*-*-beos* | *-*-cygwin* | *-*-pw32* | *-*-darwin*)
+*-*-beos* | *-*-cygwin* | *-*-pw32* | *-*-darwin* | *-*-haiku*)
   # These system don't have libm
   # on darwin the libm is a symbolic link to libSystem.dylib
   ;;

Modified: buildtools/trunk/legacy/binutils/gprof/configure
===================================================================
--- buildtools/trunk/legacy/binutils/gprof/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/gprof/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -3327,6 +3327,10 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
+haiku*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
   lt_cv_file_magic_cmd='/usr/bin/file -L'

Modified: buildtools/trunk/legacy/binutils/ld/Makefile.in
===================================================================
--- buildtools/trunk/legacy/binutils/ld/Makefile.in	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ld/Makefile.in	2008-03-22 02:17:10 UTC (rev 24520)
@@ -422,6 +422,8 @@
 	eelf_i386_fbsd.o \
 	eelf_i386_ldso.o \
 	eelf_i386_vxworks.o \
+	eelf_i386_haiku.o \
+	eelf_ppc_haiku.o \
 	eelf_s390.o \
 	egld960.o \
 	egld960coff.o \
@@ -1743,6 +1745,12 @@
 eelf_s390.c: $(srcdir)/emulparams/elf_s390.sh \
   $(srcdir)/emultempl/elf32.em $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
 	${GENSCRIPTS} elf_s390 &quot;$(tdir_elf_s390)&quot;
+eelf_i386_haiku.c: $(srcdir)/emulparams/elf_i386_haiku.sh \
+  $(srcdir)/emultempl/elf32.em $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
+	${GENSCRIPTS} elf_i386_haiku &quot;$(tdir_elf_i386_haiku)&quot;
+eelf_ppc_haiku.c: $(srcdir)/emulparams/elf_ppc_haiku.sh \
+  $(srcdir)/emultempl/elf32.em $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
+	${GENSCRIPTS} elf_ppc_haiku &quot;$(tdir_elf_ppc_haiku)&quot;
 egld960.c: $(srcdir)/emulparams/gld960.sh \
   $(srcdir)/emultempl/gld960.em $(srcdir)/scripttempl/i960.sc ${GEN_DEPENDS}
 	${GENSCRIPTS} gld960 &quot;$(tdir_gld960)&quot;

Modified: buildtools/trunk/legacy/binutils/ld/configure
===================================================================
--- buildtools/trunk/legacy/binutils/ld/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ld/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -3330,6 +3330,10 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
+haiku*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
   lt_cv_file_magic_cmd='/usr/bin/file -L'

Modified: buildtools/trunk/legacy/binutils/ltcf-c.sh
===================================================================
--- buildtools/trunk/legacy/binutils/ltcf-c.sh	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ltcf-c.sh	2008-03-22 02:17:10 UTC (rev 24520)
@@ -98,6 +98,11 @@
     fi
     ;;
 
+  haiku*)
+    allow_undefined_flag=unsupported
+    archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+    ;;
+
   cygwin* | mingw*)
     # hardcode_libdir_flag_spec is actually meaningless, as there is
     # no search path for DLLs.
@@ -663,7 +668,7 @@
       # like `-m68040'.
       ac_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
       ;;
-    beos* | irix5* | irix6* | osf3* | osf4* | osf5*)
+    beos* | irix5* | irix6* | osf3* | osf4* | osf5* | haiku*)
       # PIC is the default for these OSes.
       ;;
     cygwin* | mingw* | os2*)

Modified: buildtools/trunk/legacy/binutils/ltcf-cxx.sh
===================================================================
--- buildtools/trunk/legacy/binutils/ltcf-cxx.sh	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ltcf-cxx.sh	2008-03-22 02:17:10 UTC (rev 24520)
@@ -704,7 +704,7 @@
     # like `-m68040'.
     ac_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
     ;;
-  beos* | irix5* | irix6* | osf3* | osf4* | osf5*)
+  beos* | irix5* | irix6* | osf3* | osf4* | osf5* | haiku*)
     # PIC is the default for these OSes.
     ;;
   cygwin* | mingw* | os2*)

Modified: buildtools/trunk/legacy/binutils/ltcf-gcj.sh
===================================================================
--- buildtools/trunk/legacy/binutils/ltcf-gcj.sh	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ltcf-gcj.sh	2008-03-22 02:17:10 UTC (rev 24520)
@@ -101,6 +101,12 @@
     fi
     ;;
 
+  haiku*)
+    allow_undefined_flag=unsupported
+    archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+    fi
+    ;;
+
   cygwin* | mingw*)
     # hardcode_libdir_flag_spec is actually meaningless, as there is
     # no search path for DLLs.
@@ -607,7 +613,7 @@
     ac_cv_prog_cc_static='-static'
 
     case $host_os in
-    beos* | irix5* | irix6* | osf3* | osf4* | osf5*)
+    beos* | irix5* | irix6* | osf3* | osf4* | osf5* | haiku*)
       # PIC is the default for these OSes.
       ;;
     aix*)

Modified: buildtools/trunk/legacy/binutils/ltconfig
===================================================================
--- buildtools/trunk/legacy/binutils/ltconfig	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ltconfig	2008-03-22 02:17:10 UTC (rev 24520)
@@ -1052,6 +1052,12 @@
   lt_cv_dlopen_self=yes
   ;;
 
+haiku*)
+  library_names_spec='${libname}.so'
+  dynamic_linker=&quot;$host_os runtime_loader&quot;
+  shlibpath_var=LIBRARY_PATH
+  ;;
+
 bsdi4*)
   version_type=linux
   need_version=no

Modified: buildtools/trunk/legacy/binutils/ltmain.sh
===================================================================
--- buildtools/trunk/legacy/binutils/ltmain.sh	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/ltmain.sh	2008-03-22 02:17:10 UTC (rev 24520)
@@ -1216,7 +1216,7 @@
       -l*)
 	if test &quot;X$arg&quot; = &quot;X-lc&quot; || test &quot;X$arg&quot; = &quot;X-lm&quot;; then
 	  case $host in
-	  *-*-cygwin* | *-*-pw32* | *-*-beos*)
+	  *-*-cygwin* | *-*-pw32* | *-*-beos* | *-*-haiku)
 	    # These systems don't actually have a C or math library (as such)
 	    continue
 	    ;;
@@ -2746,7 +2746,8 @@
       if test &quot;$build_libtool_libs&quot; = yes; then
 	if test -n &quot;$rpath&quot;; then
 	  case $host in
-	  *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-*-beos*)
+	  *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-*-beos* \
+	  | *-*-haiku*)
 	    # these systems don't actually have a c library (as such)!
 	    ;;
 	  *-*-rhapsody* | *-*-darwin1.[012])

Modified: buildtools/trunk/legacy/binutils/opcodes/configure
===================================================================
--- buildtools/trunk/legacy/binutils/opcodes/configure	2008-03-22 02:16:24 UTC (rev 24519)
+++ buildtools/trunk/legacy/binutils/opcodes/configure	2008-03-22 02:17:10 UTC (rev 24520)
@@ -3496,6 +3496,10 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
+haiku*)
+  lt_cv_deplibs_check_method=pass_all
+  ;;
+
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
   lt_cv_file_magic_cmd='/usr/bin/file -L'


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007011.html">[Haiku-commits] r24519 -	buildtools/trunk/legacy/binutils/ld/emulparams
</A></li>
	<LI>Next message: <A HREF="007013.html">[Haiku-commits] r24521 - buildtools/trunk/legacy/gcc/gcc/fixinc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7012">[ date ]</a>
              <a href="thread.html#7012">[ thread ]</a>
              <a href="subject.html#7012">[ subject ]</a>
              <a href="author.html#7012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
