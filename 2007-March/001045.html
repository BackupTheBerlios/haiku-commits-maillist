<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r20329 - in haiku/trunk: headers/os/drivers	headers/private/kernel src/add-ons/kernel/file_systems/bfs	src/add-ons/kernel/file_systems/dos	src/add-ons/kernel/file_systems/googlefs	src/add-ons/kernel/file_systems/iso9660	src/add-ons/kernel/file_systems/nfs	src/add-ons/kernel/file_systems/ntfs	src/add-ons/kernel/file_systems/userlandfs/kernel_add_on	src/system/kernel/fs	src/tests/add-ons/kernel/file_systems/bfs/bfs_shell
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20329%20-%20in%20haiku/trunk%3A%20headers/os/drivers%0A%09headers/private/kernel%20src/add-ons/kernel/file_systems/bfs%0A%09src/add-ons/kernel/file_systems/dos%0A%09src/add-ons/kernel/file_systems/googlefs%0A%09src/add-ons/kernel/file_systems/iso9660%0A%09src/add-ons/kernel/file_systems/nfs%0A%09src/add-ons/kernel/file_systems/ntfs%0A%09src/add-ons/kernel/file_systems/userlandfs/kernel_add_on%0A%09src/system/kernel/fs%0A%09src/tests/add-ons/kernel/file_systems/bfs/bfs_shell&In-Reply-To=%3C200703050046.l250kxMJ028453%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001044.html">
   <LINK REL="Next"  HREF="001046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r20329 - in haiku/trunk: headers/os/drivers	headers/private/kernel src/add-ons/kernel/file_systems/bfs	src/add-ons/kernel/file_systems/dos	src/add-ons/kernel/file_systems/googlefs	src/add-ons/kernel/file_systems/iso9660	src/add-ons/kernel/file_systems/nfs	src/add-ons/kernel/file_systems/ntfs	src/add-ons/kernel/file_systems/userlandfs/kernel_add_on	src/system/kernel/fs	src/tests/add-ons/kernel/file_systems/bfs/bfs_shell</H1>
    <B>bonefish at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20329%20-%20in%20haiku/trunk%3A%20headers/os/drivers%0A%09headers/private/kernel%20src/add-ons/kernel/file_systems/bfs%0A%09src/add-ons/kernel/file_systems/dos%0A%09src/add-ons/kernel/file_systems/googlefs%0A%09src/add-ons/kernel/file_systems/iso9660%0A%09src/add-ons/kernel/file_systems/nfs%0A%09src/add-ons/kernel/file_systems/ntfs%0A%09src/add-ons/kernel/file_systems/userlandfs/kernel_add_on%0A%09src/system/kernel/fs%0A%09src/tests/add-ons/kernel/file_systems/bfs/bfs_shell&In-Reply-To=%3C200703050046.l250kxMJ028453%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r20329 - in haiku/trunk: headers/os/drivers	headers/private/kernel src/add-ons/kernel/file_systems/bfs	src/add-ons/kernel/file_systems/dos	src/add-ons/kernel/file_systems/googlefs	src/add-ons/kernel/file_systems/iso9660	src/add-ons/kernel/file_systems/nfs	src/add-ons/kernel/file_systems/ntfs	src/add-ons/kernel/file_systems/userlandfs/kernel_add_on	src/system/kernel/fs	src/tests/add-ons/kernel/file_systems/bfs/bfs_shell">bonefish at mail.berlios.de
       </A><BR>
    <I>Mon Mar  5 01:46:59 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001044.html">[Haiku-commits] r20328 -	haiku/trunk/src/add-ons/kernel/file_systems/userlandfs/kernel_add_on
</A></li>
        <LI>Next message: <A HREF="001046.html">[Haiku-commits] r20330 - in haiku/trunk: headers/os/drivers	src/system/kernel/fs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1045">[ date ]</a>
              <a href="thread.html#1045">[ thread ]</a>
              <a href="subject.html#1045">[ subject ]</a>
              <a href="author.html#1045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bonefish
Date: 2007-03-05 01:46:57 +0100 (Mon, 05 Mar 2007)
New Revision: 20329
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=20329&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=20329&amp;view=rev</A>

Removed:
   haiku/trunk/src/system/kernel/fs/message.c
Modified:
   haiku/trunk/headers/os/drivers/fs_interface.h
   haiku/trunk/headers/private/kernel/syscalls.h
   haiku/trunk/src/add-ons/kernel/file_systems/bfs/kernel_interface.cpp
   haiku/trunk/src/add-ons/kernel/file_systems/dos/dosfs.c
   haiku/trunk/src/add-ons/kernel/file_systems/googlefs/googlefs.c
   haiku/trunk/src/add-ons/kernel/file_systems/iso9660/kernel_interface.cpp
   haiku/trunk/src/add-ons/kernel/file_systems/nfs/nfs_add_on.c
   haiku/trunk/src/add-ons/kernel/file_systems/ntfs/kernel_interface.c
   haiku/trunk/src/add-ons/kernel/file_systems/userlandfs/kernel_add_on/kernel_interface.cpp
   haiku/trunk/src/system/kernel/fs/Jamfile
   haiku/trunk/src/system/kernel/fs/devfs.cpp
   haiku/trunk/src/system/kernel/fs/node_monitor.cpp
   haiku/trunk/src/system/kernel/fs/pipefs.cpp
   haiku/trunk/src/system/kernel/fs/rootfs.c
   haiku/trunk/src/system/kernel/fs/vfs.cpp
   haiku/trunk/src/tests/add-ons/kernel/file_systems/bfs/bfs_shell/Jamfile
Log:
* Removed write_link from the FS module interface. Adjusted all FS
  add-ons accordingly and removed the syscall.
* Removed send_notification().
* Reimplemented notify_listener(). It used the unimplemented
  send_notification(). Now it has a chance to work. Note that
  notify_listener() is obsolete. I would already have removed it, if
  there weren't lots of FS implementations still using it (Hint!).


Modified: haiku/trunk/headers/os/drivers/fs_interface.h
===================================================================
--- haiku/trunk/headers/os/drivers/fs_interface.h	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/headers/os/drivers/fs_interface.h	2007-03-05 00:46:57 UTC (rev 20329)
@@ -115,7 +115,6 @@
 
 	status_t (*read_link)(fs_volume fs, fs_vnode link, char *buffer,
 				size_t *_bufferSize);
-	status_t (*write_link)(fs_volume fs, fs_vnode link, char *toPath);
 	status_t (*create_symlink)(fs_volume fs, fs_vnode dir, const char *name,
 				const char *path, int mode);
 
@@ -269,11 +268,9 @@
 extern status_t get_vnode_removed(mount_id mountID, vnode_id vnodeID,
 					bool* removed);
 
+// Deprecated! Will disappear soon!
 extern status_t notify_listener(int op, mount_id device, vnode_id parentNode,
 					vnode_id toParentNode, vnode_id node, const char *name);
-extern status_t send_notification(port_id port, long token, ulong what, long op,
-					mount_id device, mount_id toDevice, vnode_id parentNode,
-					vnode_id toParentNode, vnode_id node, const char *name);
 
 extern status_t notify_entry_created(mount_id device, vnode_id directory,
 					const char *name, vnode_id node);

Modified: haiku/trunk/headers/private/kernel/syscalls.h
===================================================================
--- haiku/trunk/headers/private/kernel/syscalls.h	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/headers/private/kernel/syscalls.h	2007-03-05 00:46:57 UTC (rev 20329)
@@ -149,7 +149,6 @@
 extern status_t		_kern_remove_dir(int fd, const char *path);
 extern status_t		_kern_read_link(int fd, const char *path, char *buffer,
 						size_t *_bufferSize);
-extern status_t		_kern_write_link(const char *path, const char *toPath);
 extern status_t		_kern_create_symlink(int fd, const char *path,
 						const char *toPath, int mode);
 extern status_t		_kern_create_link(const char *path, const char *toPath);

Modified: haiku/trunk/src/add-ons/kernel/file_systems/bfs/kernel_interface.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/bfs/kernel_interface.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/bfs/kernel_interface.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -2098,7 +2098,6 @@
 	&amp;bfs_fsync,
 
 	&amp;bfs_read_link,
-	NULL,						// write link
 	&amp;bfs_create_symlink,
 
 	&amp;bfs_link,

Modified: haiku/trunk/src/add-ons/kernel/file_systems/dos/dosfs.c
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/dos/dosfs.c	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/dos/dosfs.c	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1226,7 +1226,6 @@
 	&amp;dosfs_fsync,
 
 	&amp;dosfs_readlink,
-	NULL,						// write link
 	NULL,	//&amp;fs_create_symlink,
 
 	NULL,	//&amp;fs_link,

Modified: haiku/trunk/src/add-ons/kernel/file_systems/googlefs/googlefs.c
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/googlefs/googlefs.c	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/googlefs/googlefs.c	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1654,7 +1654,6 @@
 	NULL, 	// &amp;googlefs_fsync
 
 	NULL,	// &amp;googlefs_read_link,
-	NULL,	// write link
 	NULL, 	// &amp;googlefs_create_symlink,
 
 	NULL, 	// &amp;googlefs_link,

Modified: haiku/trunk/src/add-ons/kernel/file_systems/iso9660/kernel_interface.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/iso9660/kernel_interface.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/iso9660/kernel_interface.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1006,7 +1006,6 @@
 	NULL, 	// &amp;fs_fsync
 
 	&amp;fs_read_link,
-	NULL,	// write link
 	NULL, 	// &amp;fs_create_symlink,
 
 	NULL, 	// &amp;fs_link,

Modified: haiku/trunk/src/add-ons/kernel/file_systems/nfs/nfs_add_on.c
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/nfs/nfs_add_on.c	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/nfs/nfs_add_on.c	2007-03-05 00:46:57 UTC (rev 20329)
@@ -2460,7 +2460,6 @@
 	NULL, 	// &amp;fs_fsync
 
 	&amp;fs_readlink,
-	NULL,	// &amp;fs_write link,
 	&amp;fs_symlink,
 
 	NULL,	// &amp;fs_link,

Modified: haiku/trunk/src/add-ons/kernel/file_systems/ntfs/kernel_interface.c
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/ntfs/kernel_interface.c	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/ntfs/kernel_interface.c	2007-03-05 00:46:57 UTC (rev 20329)
@@ -138,9 +138,7 @@
 	NULL,
 	NULL,
 	NULL,
-	NULL,
 #else	
-	NULL,	// write link
 	&amp;fs_create_symlink,
 	NULL, 	// &amp;fs_link,
 	&amp;fs_unlink,

Modified: haiku/trunk/src/add-ons/kernel/file_systems/userlandfs/kernel_add_on/kernel_interface.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/userlandfs/kernel_add_on/kernel_interface.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/add-ons/kernel/file_systems/userlandfs/kernel_add_on/kernel_interface.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1036,7 +1036,6 @@
 	&amp;userlandfs_fsync,
 
 	&amp;userlandfs_read_symlink,
-	NULL,						// write link
 	&amp;userlandfs_create_symlink,
 
 	&amp;userlandfs_link,

Modified: haiku/trunk/src/system/kernel/fs/Jamfile
===================================================================
--- haiku/trunk/src/system/kernel/fs/Jamfile	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/system/kernel/fs/Jamfile	2007-03-05 00:46:57 UTC (rev 20329)
@@ -13,7 +13,6 @@
 	vfs.cpp
 	vfs_boot.cpp
 	vfs_select.cpp
-	message.c
 	node_monitor.cpp
 	IOScheduler.cpp
 	KPath.cpp

Modified: haiku/trunk/src/system/kernel/fs/devfs.cpp
===================================================================
--- haiku/trunk/src/system/kernel/fs/devfs.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/system/kernel/fs/devfs.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1890,7 +1890,6 @@
 	&amp;devfs_fsync,
 
 	&amp;devfs_read_link,
-	NULL,	// write_link
 	NULL,	// symlink
 	NULL,	// link
 	NULL,	// unlink

Deleted: haiku/trunk/src/system/kernel/fs/message.c

Modified: haiku/trunk/src/system/kernel/fs/node_monitor.cpp
===================================================================
--- haiku/trunk/src/system/kernel/fs/node_monitor.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/system/kernel/fs/node_monitor.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -687,78 +687,37 @@
 notify_listener(int op, mount_id device, vnode_id parentNode, vnode_id toParentNode,
 	vnode_id node, const char *name)
 {
-	monitor_listener *listener;
-	node_monitor *monitor;
-
 	TRACE((&quot;notify_listener(op = %d, device = %ld, node = %Ld, parent = %Ld, toParent = %Ld&quot;
 		&quot;, name = \&quot;%s\&quot;\n&quot;, op, device, node, parentNode, toParentNode, name));
 
-	mutex_lock(&amp;gMonitorMutex);
+	switch (op) {
+		case B_ENTRY_CREATED:
+			return notify_entry_created(device, parentNode, name, node);
 
-	// check the main &quot;node&quot;
+		case B_ENTRY_REMOVED:
+			return notify_entry_removed(device, parentNode, name, node);
 
-	if ((op == B_ENTRY_MOVED
-		|| op == B_ENTRY_REMOVED
-		|| op == B_STAT_CHANGED
-		|| op == B_ATTR_CHANGED)
-		&amp;&amp; (monitor = get_monitor_for(device, node)) != NULL) {
-		// iterate over all listeners for this monitor, and see
-		// if we have to send anything
-		listener = NULL;
-		while ((listener = (monitor_listener*)list_get_next_item(
-				&amp;monitor-&gt;listeners, listener)) != NULL) {
-			// do we have a reason to notify this listener?
-			if (((listener-&gt;flags &amp; B_WATCH_NAME) != 0
-				&amp;&amp; (op == B_ENTRY_MOVED || op == B_ENTRY_REMOVED))
-				|| ((listener-&gt;flags &amp; B_WATCH_STAT) != 0
-				&amp;&amp; op == B_STAT_CHANGED)
-				|| ((listener-&gt;flags &amp; B_WATCH_ATTR) != 0
-				&amp;&amp; op == B_ATTR_CHANGED)) {
-				// then do it!
-				send_notification(listener-&gt;port, listener-&gt;token, B_NODE_MONITOR,
-					op, device, 0, parentNode, toParentNode, node, name);
-			}
-		}
-	}
+		case B_ENTRY_MOVED:
+			// no fromName -- use an empty string
+			return notify_entry_moved(device, parentNode, &quot;&quot;, toParentNode,
+				name, node);
 
-	// check its parent directory
-
-	if ((op == B_ENTRY_MOVED
-		|| op == B_ENTRY_REMOVED
-		|| op == B_ENTRY_CREATED)
-		&amp;&amp; (monitor = get_monitor_for(device, parentNode)) != NULL) {
-		// iterate over all listeners for this monitor, and see
-		// if we have to send anything
-		listener = NULL;
-		while ((listener = (monitor_listener*)list_get_next_item(
-				&amp;monitor-&gt;listeners, listener)) != NULL) {
-			// do we have a reason to notify this listener?
-			if ((listener-&gt;flags &amp; B_WATCH_DIRECTORY) != 0) {
-				send_notification(listener-&gt;port, listener-&gt;token, B_NODE_MONITOR,
-					op, device, 0, parentNode, toParentNode, node, name);
-			}
+		case B_STAT_CHANGED:
+		{
+			// no statFields -- consider all stat fields changed
+			uint32 statFields = B_STAT_MODE | B_STAT_UID | B_STAT_GID
+				| B_STAT_SIZE | B_STAT_ACCESS_TIME | B_STAT_MODIFICATION_TIME
+				| B_STAT_CREATION_TIME | B_STAT_CHANGE_TIME;
+			return notify_stat_changed(device, node, statFields);
 		}
-	}
 
-	// check its new target parent directory
+		case B_ATTR_CHANGED:
+			// no cause -- use B_ATTR_CHANGED
+			return notify_attribute_changed(device, node, name, B_ATTR_CHANGED);
 
-	if (op == B_ENTRY_MOVED
-		&amp;&amp; (monitor = get_monitor_for(device, toParentNode)) != NULL) {
-		// iterate over all listeners for this monitor, and see
-		// if we have to send anything
-		listener = NULL;
-		while ((listener = (monitor_listener*)list_get_next_item(
-				&amp;monitor-&gt;listeners, listener)) != NULL) {
-			// do we have a reason to notify this listener?
-			if ((listener-&gt;flags &amp; B_WATCH_DIRECTORY) != 0) {
-				send_notification(listener-&gt;port, listener-&gt;token, B_NODE_MONITOR,
-					B_ENTRY_MOVED, device, 0, parentNode, toParentNode, node, name);
-			}
-		}
+		default:
+			return B_BAD_VALUE;
 	}
-
-	mutex_unlock(&amp;gMonitorMutex);
-	return B_OK;
 }
 
 

Modified: haiku/trunk/src/system/kernel/fs/pipefs.cpp
===================================================================
--- haiku/trunk/src/system/kernel/fs/pipefs.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/system/kernel/fs/pipefs.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1724,7 +1724,6 @@
 	&amp;pipefs_fsync,
 
 	NULL,	// fs_read_link()
-	NULL,	// fs_write_link()
 	NULL,	// fs_symlink()
 	NULL,	// fs_link()
 	&amp;pipefs_unlink,

Modified: haiku/trunk/src/system/kernel/fs/rootfs.c
===================================================================
--- haiku/trunk/src/system/kernel/fs/rootfs.c	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/system/kernel/fs/rootfs.c	2007-03-05 00:46:57 UTC (rev 20329)
@@ -1066,7 +1066,6 @@
 	&amp;rootfs_fsync,
 
 	&amp;rootfs_read_link,
-	NULL,	// fs_write_link()
 	&amp;rootfs_symlink,
 	NULL,	// fs_link()
 	&amp;rootfs_unlink,

Modified: haiku/trunk/src/system/kernel/fs/vfs.cpp
===================================================================
--- haiku/trunk/src/system/kernel/fs/vfs.cpp	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/system/kernel/fs/vfs.cpp	2007-03-05 00:46:57 UTC (rev 20329)
@@ -4356,27 +4356,6 @@
 
 
 static status_t
-common_write_link(char *path, char *toPath, bool kernel)
-{
-	struct vnode *vnode;
-	status_t status;
-
-	status = path_to_vnode(path, false, &amp;vnode, NULL, kernel);
-	if (status &lt; B_OK)
-		return status;
-
-	if (FS_CALL(vnode, write_link) != NULL)
-		status = FS_CALL(vnode, write_link)(vnode-&gt;mount-&gt;cookie, vnode-&gt;private_node, toPath);
-	else
-		status = EOPNOTSUPP;
-
-	put_vnode(vnode);
-
-	return status;
-}
-
-
-static status_t
 common_create_symlink(int fd, char *path, const char *toPath, int mode,
 	bool kernel)
 {
@@ -6210,24 +6189,6 @@
 }
 
 
-status_t
-_kern_write_link(const char *path, const char *toPath)
-{
-	KPath pathBuffer(path, false, B_PATH_NAME_LENGTH + 1);
-	KPath toPathBuffer(toPath, false, B_PATH_NAME_LENGTH + 1);
-	if (pathBuffer.InitCheck() != B_OK || toPathBuffer.InitCheck() != B_OK)
-		return B_NO_MEMORY;
-
-	char *toBuffer = toPathBuffer.LockBuffer();
-
-	status_t status = check_path(toBuffer);
-	if (status &lt; B_OK)
-		return status;
-
-	return common_write_link(pathBuffer.LockBuffer(), toBuffer, true);
-}
-
-
 /**	\brief Creates a symlink specified by a FD + path pair.
  *
  *	\a path must always be specified (it contains the name of the new symlink
@@ -7072,31 +7033,6 @@
 
 
 status_t
-_user_write_link(const char *userPath, const char *userToPath)
-{
-	KPath pathBuffer(B_PATH_NAME_LENGTH + 1);
-	KPath toPathBuffer(B_PATH_NAME_LENGTH + 1);
-	if (pathBuffer.InitCheck() != B_OK || toPathBuffer.InitCheck() != B_OK)
-		return B_NO_MEMORY;
-
-	char *path = pathBuffer.LockBuffer();
-	char *toPath = toPathBuffer.LockBuffer();
-
-	if (!IS_USER_ADDRESS(userPath)
-		|| !IS_USER_ADDRESS(userToPath)
-		|| user_strlcpy(path, userPath, B_PATH_NAME_LENGTH) &lt; B_OK
-		|| user_strlcpy(toPath, userToPath, B_PATH_NAME_LENGTH) &lt; B_OK)
-		return B_BAD_ADDRESS;
-
-	status_t status = check_path(toPath);
-	if (status &lt; B_OK)
-		return status;
-
-	return common_write_link(path, toPath, false);
-}
-
-
-status_t
 _user_create_symlink(int fd, const char *userPath, const char *userToPath,
 	int mode)
 {

Modified: haiku/trunk/src/tests/add-ons/kernel/file_systems/bfs/bfs_shell/Jamfile
===================================================================
--- haiku/trunk/src/tests/add-ons/kernel/file_systems/bfs/bfs_shell/Jamfile	2007-03-04 23:11:02 UTC (rev 20328)
+++ haiku/trunk/src/tests/add-ons/kernel/file_systems/bfs/bfs_shell/Jamfile	2007-03-05 00:46:57 UTC (rev 20329)
@@ -54,6 +54,7 @@
 			fstat=build_platform_fstat
 			read_pos=build_platform_read_pos
 			ioctl=build_platform_ioctl
+			&quot;send_notification\\(...\\)=&quot;
 		;
 	}
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001044.html">[Haiku-commits] r20328 -	haiku/trunk/src/add-ons/kernel/file_systems/userlandfs/kernel_add_on
</A></li>
	<LI>Next message: <A HREF="001046.html">[Haiku-commits] r20330 - in haiku/trunk: headers/os/drivers	src/system/kernel/fs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1045">[ date ]</a>
              <a href="thread.html#1045">[ thread ]</a>
              <a href="subject.html#1045">[ subject ]</a>
              <a href="author.html#1045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
