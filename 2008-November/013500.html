<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r28636 - in	haiku/trunk/src/add-ons/kernel/drivers/network:	broadcom440x/dev/mii broadcom570x/dev broadcom570x/dev/bce	broadcom570x/dev/mii
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28636%20-%20in%0A%09haiku/trunk/src/add-ons/kernel/drivers/network%3A%0A%09broadcom440x/dev/mii%20broadcom570x/dev%20broadcom570x/dev/bce%0A%09broadcom570x/dev/mii&In-Reply-To=%3C200811122221.mACMLE2u023316%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013499.html">
   <LINK REL="Next"  HREF="013501.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r28636 - in	haiku/trunk/src/add-ons/kernel/drivers/network:	broadcom440x/dev/mii broadcom570x/dev broadcom570x/dev/bce	broadcom570x/dev/mii</H1>
    <B>korli at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28636%20-%20in%0A%09haiku/trunk/src/add-ons/kernel/drivers/network%3A%0A%09broadcom440x/dev/mii%20broadcom570x/dev%20broadcom570x/dev/bce%0A%09broadcom570x/dev/mii&In-Reply-To=%3C200811122221.mACMLE2u023316%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r28636 - in	haiku/trunk/src/add-ons/kernel/drivers/network:	broadcom440x/dev/mii broadcom570x/dev broadcom570x/dev/bce	broadcom570x/dev/mii">korli at mail.berlios.de
       </A><BR>
    <I>Wed Nov 12 23:21:14 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="013499.html">[Haiku-commits] r28635 - haiku/vendor/freebsd/current/dev/mii
</A></li>
        <LI>Next message: <A HREF="013501.html">[Haiku-commits] r28637 -	haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13500">[ date ]</a>
              <a href="thread.html#13500">[ thread ]</a>
              <a href="subject.html#13500">[ subject ]</a>
              <a href="author.html#13500">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: korli
Date: 2008-11-12 23:21:13 +0100 (Wed, 12 Nov 2008)
New Revision: 28636
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=28636&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=28636&amp;view=rev</A>

Added:
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bce/
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bce/if_bcereg.h
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/mii/brgphy.c
Removed:
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom440x/dev/mii/miidevs.h
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/mii/miidevs.h
Modified:
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom440x/dev/mii/Jamfile
   haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/mii/Jamfile
Log:
* removed miidevs.h as it's now generated
* added brgphy.c it seems to be useful for bcm570x


Modified: haiku/trunk/src/add-ons/kernel/drivers/network/broadcom440x/dev/mii/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/network/broadcom440x/dev/mii/Jamfile	2008-11-12 22:17:04 UTC (rev 28635)
+++ haiku/trunk/src/add-ons/kernel/drivers/network/broadcom440x/dev/mii/Jamfile	2008-11-12 22:21:13 UTC (rev 28636)
@@ -12,3 +12,6 @@
 	bmtphy.c
 	;
 
+ObjectHdrs [ FGristFiles bmtphy$(SUFOBJ) ]
+	: [ FDirName $(TARGET_COMMON_DEBUG_OBJECT_DIR) libs compat freebsd_network ] ;
+Includes [ FGristFiles bmtphy.c ] : &lt;src!libs!compat!freebsd_network&gt;miidevs.h ;
\ No newline at end of file

Deleted: haiku/trunk/src/add-ons/kernel/drivers/network/broadcom440x/dev/mii/miidevs.h

Added: haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bce/if_bcereg.h
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bce/if_bcereg.h	2008-11-12 22:17:04 UTC (rev 28635)
+++ haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bce/if_bcereg.h	2008-11-12 22:21:13 UTC (rev 28636)
@@ -0,0 +1,6694 @@
+/*-
+ * Copyright (c) 2006-2008 Broadcom Corporation
+ *	David Christensen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">davidch at broadcom.com</A>&gt;.  All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. Neither the name of Broadcom Corporation nor the name of its contributors
+ *    may be used to endorse or promote products derived from this software
+ *    without specific prior written consent.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS'
+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
+ * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
+ * THE POSSIBILITY OF SUCH DAMAGE.
+ *
+ * $FreeBSD: src/sys/dev/bce/if_bcereg.h,v 1.21 2008/08/27 18:47:24 davidch Exp $
+ */
+
+#ifndef	_BCE_H_DEFINED
+#define _BCE_H_DEFINED
+
+#ifdef HAVE_KERNEL_OPTION_HEADERS
+#include &quot;opt_device_polling.h&quot;
+#endif
+
+#include &lt;sys/param.h&gt;
+#include &lt;sys/endian.h&gt;
+#include &lt;sys/systm.h&gt;
+#include &lt;sys/sockio.h&gt;
+#include &lt;sys/mbuf.h&gt;
+#include &lt;sys/malloc.h&gt;
+#include &lt;sys/kernel.h&gt;
+#include &lt;sys/module.h&gt;
+#include &lt;sys/socket.h&gt;
+#include &lt;sys/sysctl.h&gt;
+#include &lt;sys/queue.h&gt;
+
+#include &lt;net/bpf.h&gt;
+#include &lt;net/ethernet.h&gt;
+#include &lt;net/if.h&gt;
+#include &lt;net/if_arp.h&gt;
+#include &lt;net/if_dl.h&gt;
+#include &lt;net/if_media.h&gt;
+
+#include &lt;net/if_types.h&gt;
+#include &lt;net/if_vlan_var.h&gt;
+
+#include &lt;netinet/in_systm.h&gt;
+#include &lt;netinet/in.h&gt;
+#include &lt;netinet/if_ether.h&gt;
+#include &lt;netinet/ip.h&gt;
+#include &lt;netinet/ip6.h&gt;
+#include &lt;netinet/tcp.h&gt;
+#include &lt;netinet/udp.h&gt;
+
+#include &lt;machine/bus.h&gt;
+#include &lt;machine/resource.h&gt;
+#include &lt;sys/bus.h&gt;
+#include &lt;sys/rman.h&gt;
+
+#include &lt;dev/mii/mii.h&gt;
+#include &lt;dev/mii/miivar.h&gt;
+#include &quot;miidevs.h&quot;
+#include &lt;dev/mii/brgphyreg.h&gt;
+
+#include &lt;dev/pci/pcireg.h&gt;
+#include &lt;dev/pci/pcivar.h&gt;
+
+#include &quot;miibus_if.h&quot;
+
+/****************************************************************************/
+/* Conversion to FreeBSD type definitions.                                  */
+/****************************************************************************/
+#define u64 uint64_t
+#define u32	uint32_t
+#define u16	uint16_t
+#define u8	uint8_t
+
+#if BYTE_ORDER == BIG_ENDIAN
+#define __BIG_ENDIAN 1
+#undef  __LITTLE_ENDIAN
+#else
+#undef  __BIG_ENDIAN
+#define __LITTLE_ENDIAN 1
+#endif
+
+#define BCE_DWORD_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\40b31&quot;				\
+	&quot;\37b30&quot;				\
+	&quot;\36b29&quot;				\
+	&quot;\35b28&quot;				\
+	&quot;\34b27&quot;				\
+	&quot;\33b26&quot;				\
+	&quot;\32b25&quot;				\
+	&quot;\31b24&quot;				\
+	&quot;\30b23&quot;				\
+	&quot;\27b22&quot;				\
+	&quot;\26b21&quot;				\
+	&quot;\25b20&quot;				\
+	&quot;\24b19&quot;				\
+	&quot;\23b18&quot;				\
+	&quot;\22b17&quot;				\
+	&quot;\21b16&quot;				\
+	&quot;\20b15&quot;				\
+	&quot;\17b14&quot;				\
+	&quot;\16b13&quot;				\
+	&quot;\15b12&quot;				\
+	&quot;\14b11&quot;				\
+	&quot;\13b10&quot;				\
+	&quot;\12b9&quot;					\
+	&quot;\11b8&quot;					\
+	&quot;\10b7&quot;					\
+	&quot;\07b6&quot;					\
+	&quot;\06b5&quot;					\
+	&quot;\05b4&quot;					\
+	&quot;\04b3&quot;					\
+	&quot;\03b2&quot;					\
+	&quot;\02b1&quot;					\
+	&quot;\01b0&quot;
+
+/* MII Control Register 0x0 */
+#define BCE_BMCR_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20Reset&quot;				\
+	&quot;\17Loopback&quot;			\
+	&quot;\16Spd0&quot;				\
+	&quot;\15AnegEna&quot;			\
+	&quot;\14PwrDn&quot;				\
+	&quot;\13Isolate&quot;			\
+	&quot;\12RstrtAneg&quot;			\
+	&quot;\11FD&quot;					\
+	&quot;\10CollTst&quot;			\
+	&quot;\07Spd1&quot;				\
+	&quot;\06Rsrvd&quot;				\
+	&quot;\05Rsrvd&quot;				\
+	&quot;\04Rsrvd&quot;				\
+	&quot;\03Rsrvd&quot;				\
+	&quot;\02Rsrvd&quot;				\
+	&quot;\01Rsrvd&quot;
+
+/* MII Status Register 0x1 */
+#define BCE_BMSR_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20Cap100T4&quot;			\
+	&quot;\17Cap100XFD&quot;			\
+	&quot;\16Cap100XHD&quot;			\
+	&quot;\15Cap10FD&quot;			\
+	&quot;\14Cap10HD&quot;			\
+	&quot;\13Cap100T2FD&quot;			\
+	&quot;\12Cap100T2HD&quot;			\
+	&quot;\11ExtStsPrsnt&quot;		\
+	&quot;\10Rsrvd&quot;				\
+	&quot;\07PrmblSupp&quot;			\
+	&quot;\06AnegCmpl&quot;			\
+	&quot;\05RemFaultDet&quot;		\
+	&quot;\04AnegCap&quot;			\
+	&quot;\03LnkUp&quot;				\
+	&quot;\02JabberDet&quot;			\
+	&quot;\01ExtCapSupp&quot;
+
+/* MII Autoneg Advertisement Register 0x4 */
+#define BCE_ANAR_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20AdvNxtPg&quot;			\
+	&quot;\17Rsrvd&quot;				\
+	&quot;\16AdvRemFault&quot;		\
+	&quot;\15Rsrvd&quot;				\
+	&quot;\14AdvAsymPause&quot;		\
+	&quot;\13AdvPause&quot;			\
+	&quot;\12Adv100T4&quot;			\
+	&quot;\11Adv100FD&quot;			\
+	&quot;\10Adv100HD&quot;			\
+	&quot;\07Adv10FD&quot;			\
+	&quot;\06Adv10HD&quot;			\
+	&quot;\05Rsrvd&quot;				\
+	&quot;\04Rsrvd&quot;				\
+	&quot;\03Rsrvd&quot;				\
+	&quot;\02Rsrvd&quot;				\
+	&quot;\01Adv802.3&quot;
+
+/* MII Autoneg Link Partner Ability Register 0x5 */
+#define BCE_ANLPAR_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20CapNxtPg&quot;			\
+	&quot;\17Ack&quot;				\
+	&quot;\16CapRemFault&quot;	 	\
+	&quot;\15Rsrvd&quot;				\
+	&quot;\14CapAsymPause&quot;		\
+	&quot;\13CapPause&quot;			\
+	&quot;\12Cap100T4&quot;			\
+	&quot;\11Cap100FD&quot;			\
+	&quot;\10Cap100HD&quot;			\
+	&quot;\07Cap10FD&quot;			\
+	&quot;\06Cap10HD&quot;			\
+	&quot;\05Rsrvd&quot;				\
+	&quot;\04Rsrvd&quot;				\
+	&quot;\03Rsrvd&quot;				\
+	&quot;\02Rsrvd&quot;				\
+	&quot;\01Cap802.3&quot;
+
+/* 1000Base-T Control Register 0x09 */
+#define BCE_1000CTL_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20Test3&quot;				\
+	&quot;\17Test2&quot;				\
+	&quot;\16Test1&quot;				\
+	&quot;\15MasterSlave&quot;		\
+	&quot;\14ForceMaster&quot;		\
+	&quot;\13SwitchDev&quot; 			\
+	&quot;\12Adv1000TFD&quot;			\
+	&quot;\11Adv1000THD&quot;			\
+	&quot;\10Rsrvd&quot;				\
+	&quot;\07Rsrvd&quot;				\
+	&quot;\06Rsrvd&quot;				\
+	&quot;\05Rsrvd&quot;				\
+	&quot;\04Rsrvd&quot;				\
+	&quot;\03Rsrvd&quot;				\
+	&quot;\02Rsrvd&quot;				\
+	&quot;\01Rsrvd&quot;
+
+/* MII 1000Base-T Status Register 0x0a */
+#define BCE_1000STS_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20MstrSlvFault&quot;		\
+	&quot;\17Master&quot;				\
+	&quot;\16LclRcvrOk&quot;			\
+	&quot;\15RemRcvrOk&quot;			\
+	&quot;\14Cap1000FD&quot;			\
+	&quot;\13Cpa1000HD&quot;			\
+	&quot;\12Rsrvd&quot;				\
+	&quot;\11Rsrvd&quot;
+
+/* MII Extended Status Register 0x0f */
+#define BCE_EXTSTS_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20b15&quot;				\
+	&quot;\17b14&quot;				\
+	&quot;\16b13&quot;				\
+	&quot;\15b12&quot;				\
+	&quot;\14Rsrvd&quot;				\
+	&quot;\13Rsrvd&quot;				\
+	&quot;\12Rsrvd&quot;				\
+	&quot;\11Rsrvd&quot;				\
+	&quot;\10Rsrvd&quot;				\
+	&quot;\07Rsrvd&quot;				\
+	&quot;\06Rsrvd&quot; 				\
+	&quot;\05Rsrvd&quot;				\
+	&quot;\04Rsrvd&quot;				\
+	&quot;\03Rsrvd&quot;				\
+	&quot;\02Rsrvd&quot;				\
+	&quot;\01Rsrvd&quot;
+
+/* MII Autoneg Link Partner Ability Register 0x19 */
+#define BCE_AUXSTS_PRINTFB	\
+	&quot;\020&quot;					\
+	&quot;\20AnegCmpl&quot;			\
+	&quot;\17AnegCmplAck&quot;		\
+	&quot;\16AnegAckDet&quot;			\
+	&quot;\15AnegAblDet&quot;			\
+	&quot;\14AnegNextPgWait&quot;		\
+	&quot;\13HCD&quot;				\
+	&quot;\12HCD&quot; 				\
+	&quot;\11HCD&quot; 				\
+	&quot;\10PrlDetFault&quot;		\
+	&quot;\07RemFault&quot;			\
+	&quot;\06PgRcvd&quot;				\
+	&quot;\05LnkPrtnrAnegAbl&quot;	\
+	&quot;\04LnkPrtnrNPAbl&quot;		\
+	&quot;\03LnkUp&quot;				\
+	&quot;\02EnaPauseRcv&quot;		\
+	&quot;\01EnaPausXmit&quot;
+
+/* Remove before release. */
+/* #define BCE_DEBUG 1 */
+/* #define BCE_NVRAM_WRITE_SUPPORT */
+
+/****************************************************************************/
+/* Debugging macros and definitions.                                        */
+/****************************************************************************/
+
+#define BCE_CP_LOAD 			0x00000001
+#define BCE_CP_SEND		 		0x00000002
+#define BCE_CP_RECV				0x00000004
+#define BCE_CP_INTR				0x00000008
+#define BCE_CP_UNLOAD			0x00000010
+#define BCE_CP_RESET			0x00000020
+#define BCE_CP_PHY				0x00000040
+#define BCE_CP_NVRAM			0x00000080
+#define BCE_CP_FIRMWARE			0x00000100
+#define BCE_CP_CTX				0x00000200
+#define BCE_CP_REG				0x00000400
+#define BCE_CP_MISC				0x00400000
+#define BCE_CP_SPECIAL			0x00800000
+#define BCE_CP_ALL				0x00FFFFFF
+
+#define BCE_CP_MASK				0x00FFFFFF
+
+#define BCE_LEVEL_FATAL			0x00000000
+#define BCE_LEVEL_WARN			0x01000000
+#define BCE_LEVEL_INFO			0x02000000
+#define BCE_LEVEL_VERBOSE		0x03000000
+#define BCE_LEVEL_EXTREME		0x04000000
+#define BCE_LEVEL_INSANE		0x05000000
+
+#define BCE_LEVEL_MASK			0xFF000000
+
+#define BCE_WARN_LOAD			(BCE_CP_LOAD | BCE_LEVEL_WARN)
+#define BCE_INFO_LOAD			(BCE_CP_LOAD | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_LOAD		(BCE_CP_LOAD | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_LOAD		(BCE_CP_LOAD | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_LOAD			(BCE_CP_LOAD | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_SEND			(BCE_CP_SEND | BCE_LEVEL_WARN)
+#define BCE_INFO_SEND			(BCE_CP_SEND | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_SEND		(BCE_CP_SEND | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_SEND		(BCE_CP_SEND | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_SEND			(BCE_CP_SEND | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_RECV			(BCE_CP_RECV | BCE_LEVEL_WARN)
+#define BCE_INFO_RECV			(BCE_CP_RECV | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_RECV		(BCE_CP_RECV | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_RECV		(BCE_CP_RECV | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_RECV			(BCE_CP_RECV | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_INTR			(BCE_CP_INTR | BCE_LEVEL_WARN)
+#define BCE_INFO_INTR			(BCE_CP_INTR | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_INTR		(BCE_CP_INTR | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_INTR		(BCE_CP_INTR | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_INTR			(BCE_CP_INTR | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_UNLOAD			(BCE_CP_UNLOAD | BCE_LEVEL_WARN)
+#define BCE_INFO_UNLOAD			(BCE_CP_UNLOAD | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_UNLOAD		(BCE_CP_UNLOAD | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_UNLOAD		(BCE_CP_UNLOAD | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_UNLOAD		(BCE_CP_UNLOAD | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_RESET			(BCE_CP_RESET | BCE_LEVEL_WARN)
+#define BCE_INFO_RESET			(BCE_CP_RESET | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_RESET		(BCE_CP_RESET | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_RESET		(BCE_CP_RESET | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_RESET		(BCE_CP_RESET | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_PHY			(BCE_CP_PHY | BCE_LEVEL_WARN)
+#define BCE_INFO_PHY			(BCE_CP_PHY | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_PHY			(BCE_CP_PHY | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_PHY			(BCE_CP_PHY | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_PHY			(BCE_CP_PHY | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_NVRAM			(BCE_CP_NVRAM | BCE_LEVEL_WARN)
+#define BCE_INFO_NVRAM			(BCE_CP_NVRAM | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_NVRAM		(BCE_CP_NVRAM | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_NVRAM		(BCE_CP_NVRAM | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_NVRAM		(BCE_CP_NVRAM | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_FIRMWARE		(BCE_CP_FIRMWARE | BCE_LEVEL_WARN)
+#define BCE_INFO_FIRMWARE		(BCE_CP_FIRMWARE | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_FIRMWARE	(BCE_CP_FIRMWARE | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_FIRMWARE	(BCE_CP_FIRMWARE | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_FIRMWARE		(BCE_CP_FIRMWARE | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_CTX			(BCE_CP_CTX | BCE_LEVEL_WARN)
+#define BCE_INFO_CTX			(BCE_CP_CTX | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_CTX			(BCE_CP_CTX | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_CTX			(BCE_CP_CTX | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_CTX			(BCE_CP_CTX | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_REG			(BCE_CP_REG | BCE_LEVEL_WARN)
+#define BCE_INFO_REG			(BCE_CP_REG | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_REG			(BCE_CP_REG | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_REG			(BCE_CP_REG | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_REG			(BCE_CP_REG | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_MISC			(BCE_CP_MISC | BCE_LEVEL_WARN)
+#define BCE_INFO_MISC			(BCE_CP_MISC | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_MISC		(BCE_CP_MISC | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_MISC		(BCE_CP_MISC | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_MISC			(BCE_CP_MISC | BCE_LEVEL_INSANE)
+
+#define BCE_WARN_SPECIAL		(BCE_CP_SPECIAL | BCE_LEVEL_WARN)
+#define BCE_INFO_SPECIAL		(BCE_CP_SPECIAL | BCE_LEVEL_INFO)
+#define BCE_VERBOSE_SPECIAL		(BCE_CP_SPECIAL | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME_SPECIAL		(BCE_CP_SPECIAL | BCE_LEVEL_EXTREME)
+#define BCE_INSANE_SPECIAL		(BCE_CP_SPECIAL | BCE_LEVEL_INSANE)
+
+#define BCE_FATAL				(BCE_CP_ALL | BCE_LEVEL_FATAL)
+#define BCE_WARN				(BCE_CP_ALL | BCE_LEVEL_WARN)
+#define BCE_INFO				(BCE_CP_ALL | BCE_LEVEL_INFO)
+#define BCE_VERBOSE				(BCE_CP_ALL | BCE_LEVEL_VERBOSE)
+#define BCE_EXTREME				(BCE_CP_ALL | BCE_LEVEL_EXTREME)
+#define BCE_INSANE				(BCE_CP_ALL | BCE_LEVEL_INSANE)
+
+#define BCE_CODE_PATH(cp)		((cp &amp; BCE_CP_MASK) &amp; bce_debug)
+#define BCE_MSG_LEVEL(lv)		((lv &amp; BCE_LEVEL_MASK) &lt;= (bce_debug &amp; BCE_LEVEL_MASK))
+#define BCE_LOG_MSG(m)			(BCE_CODE_PATH(m) &amp;&amp; BCE_MSG_LEVEL(m))
+
+#ifdef BCE_DEBUG
+
+/*
+ * Calculate the time delta between two reads
+ * of the 25MHz free running clock.
+ */
+#define BCE_TIME_DELTA(start, end)	(start &gt; end ? (start - end) : \
+	(~start + end + 1))
+
+/* Print a message based on the logging level and code path. */
+#define DBPRINT(sc, level, format, args...)					\
+	if (BCE_LOG_MSG(level)) {							\
+		device_printf(sc-&gt;bce_dev, format, ## args);						\
+	}
+
+/* Runs a particular command when debugging is enabled. */
+#define DBRUN(args...)			\
+	do {						\
+		args;					\
+	} while (0)
+
+/* Runs a particular command based on the logging level and code path. */
+#define DBRUNMSG(msg, args...)	\
+	if (BCE_LOG_MSG(msg)) {		\
+		args;					\
+	}
+
+/* Runs a particular command based on the logging level. */
+#define DBRUNLV(level, args...) \
+	if (BCE_MSG_LEVEL(level)) { \
+		args;					\
+	}
+
+/* Runs a particular command based on the code path. */
+#define DBRUNCP(cp, args...) 	\
+	if (BCE_CODE_PATH(cp)) { 	\
+		args; 					\
+	}
+
+/* Runs a particular command based on a condition. */
+#define DBRUNIF(cond, args...)									\
+	if (cond) {													\
+		args;													\
+	}
+
+/* Announces function entry. */
+#if 0
+#define DBENTER(cond)								 			\
+	u32 start_time = REG_RD(sc, BCE_TIMER_25MHZ_FREE_RUN);		\
+	u32 end_time;										  		\
+	DBPRINT(sc, (cond), &quot;%s(enter)\n&quot;, __FUNCTION__);
+#endif
+
+#define DBENTER(cond)									  		\
+	DBPRINT(sc, (cond), &quot;%s(enter)\n&quot;, __FUNCTION__)
+
+/* Announces function exit. */
+#if 0
+#define DBEXIT(cond, val)								  		\
+	end_time = REG_RD(sc, BCE_TIMER_25MHZ_FREE_RUN);	  		\
+	val += (u64) BCE_TIME_DELTA(start_time, end_time);			\
+	DBPRINT(sc, (cond), &quot;%s(exit)\n&quot;, __FUNCTION__);
+#endif
+
+#define DBEXIT(cond)											\
+	DBPRINT(sc, (cond), &quot;%s(exit)\n&quot;, __FUNCTION__)
+
+/* Temporarily override the debug level. */
+#define DBPUSH(cond)											\
+	u32 bce_debug_temp = bce_debug;								\
+	bce_debug |= cond;
+
+/* Restore the previously overriden debug level. */
+#define DBPOP()							\
+	bce_debug = bce_debug_temp;
+
+/* Needed for random() function which is only used in debugging. */
+#include &lt;sys/random.h&gt;
+
+/* Returns FALSE in &quot;defects&quot; per 2^31 - 1 calls, otherwise returns TRUE. */
+#define DB_RANDOMFALSE(defects)        (random() &gt; defects)
+#define DB_OR_RANDOMFALSE(defects)  || (random() &gt; defects)
+#define DB_AND_RANDOMFALSE(defects) &amp;&amp; (random() &gt; ddfects)
+
+/* Returns TRUE in &quot;defects&quot; per 2^31 - 1 calls, otherwise returns FALSE. */
+#define DB_RANDOMTRUE(defects)         (random() &lt; defects)
+#define DB_OR_RANDOMTRUE(defects)   || (random() &lt; defects)
+#define DB_AND_RANDOMTRUE(defects)  &amp;&amp; (random() &lt; defects)
+
+#define DB_PRINT_PHY_REG(reg, val)											\
+	switch(reg) {															\
+		case 0x00: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (BMCR   ), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_BMCR_PRINTFB); break;										\
+		case 0x01: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (BMSR   ), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_BMSR_PRINTFB); break;										\
+		case 0x04: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (ANAR   ), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_ANAR_PRINTFB); break;										\
+		case 0x05: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (ANLPAR ), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_ANLPAR_PRINTFB); break;										\
+		case 0x09: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (1000CTL), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_1000CTL_PRINTFB); break;									\
+		case 0x0a: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (1000STS), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_1000STS_PRINTFB); break;									\
+		case 0x0f: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (EXTSTS ), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_EXTSTS_PRINTFB); break;										\
+		case 0x19: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X (AUXSTS ), val = 0x%b\n&quot;,			\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff,		\
+			BCE_AUXSTS_PRINTFB); break;										\
+		default: DBPRINT(sc, BCE_INSANE_PHY,								\
+			&quot;%s(): phy = %d, reg = 0x%04X, val = 0x%04X\n&quot;,					\
+			__FUNCTION__, phy, (u16) reg &amp; 0xffff, (u16) val &amp; 0xffff);		\
+	}
+
+#else
+
+#define DBPRINT(level, format, args...)
+#define DBRUN(args...)
+#define DBRUNMSG(msg, args...)
+#define DBRUNLV(level, args...)
+#define DBRUNCP(cp, args...)
+#define DBRUNIF(cond, args...)
+#define DBENTER(cond)
+#define DBEXIT(cond)
+#define DBPUSH(cond)
+#define DBPOP()
+#define DB_RANDOMFALSE(defects)
+#define DB_OR_RANDOMFALSE(percent)
+#define DB_AND_RANDOMFALSE(percent)
+#define DB_RANDOMTRUE(defects)
+#define DB_OR_RANDOMTRUE(percent)
+#define DB_AND_RANDOMTRUE(percent)
+#define DB_PRINT_PHY_REG(reg, val)
+
+#endif /* BCE_DEBUG */
+
+#if defined(__i386__) || defined(__amd64__)
+#define mb()    __asm volatile(&quot;mfence&quot; ::: &quot;memory&quot;)
+#define wmb()   __asm volatile(&quot;sfence&quot; ::: &quot;memory&quot;)
+#define rmb()   __asm volatile(&quot;lfence&quot; ::: &quot;memory&quot;)
+#else
+#define mb()
+#define rmb()
+#define wmb()
+#endif
+
+/****************************************************************************/
+/* Device identification definitions.                                       */
+/****************************************************************************/
+#define BRCM_VENDORID				0x14E4
+#define BRCM_DEVICEID_BCM5706		0x164A
+#define BRCM_DEVICEID_BCM5706S		0x16AA
+#define BRCM_DEVICEID_BCM5708		0x164C
+#define BRCM_DEVICEID_BCM5708S		0x16AC
+#define BRCM_DEVICEID_BCM5709		0x1639
+#define BRCM_DEVICEID_BCM5709S		0x163A
+#define BRCM_DEVICEID_BCM5716		0x163B
+
+#define HP_VENDORID					0x103C
+
+#define PCI_ANY_ID					(u_int16_t) (~0U)
+
+/* chip num:16-31, rev:12-15, metal:4-11, bond_id:0-3 */
+
+#define BCE_CHIP_NUM(sc)			(((sc)-&gt;bce_chipid) &amp; 0xffff0000)
+#define BCE_CHIP_NUM_5706			0x57060000
+#define BCE_CHIP_NUM_5708			0x57080000
+#define BCE_CHIP_NUM_5709			0x57090000
+#define BCE_CHIP_NUM_5716			0x57160000
+
+#define BCE_CHIP_REV(sc)			(((sc)-&gt;bce_chipid) &amp; 0x0000f000)
+#define BCE_CHIP_REV_Ax				0x00000000
+#define BCE_CHIP_REV_Bx				0x00001000
+#define BCE_CHIP_REV_Cx				0x00002000
+
+#define BCE_CHIP_METAL(sc)			(((sc)-&gt;bce_chipid) &amp; 0x00000ff0)
+#define BCE_CHIP_BOND(bp)			(((sc)-&gt;bce_chipid) &amp; 0x0000000f)
+
+#define BCE_CHIP_ID(sc)				(((sc)-&gt;bce_chipid) &amp; 0xfffffff0)
+#define BCE_CHIP_ID_5706_A0			0x57060000
+#define BCE_CHIP_ID_5706_A1			0x57060010
+#define BCE_CHIP_ID_5706_A2			0x57060020
+#define BCE_CHIP_ID_5706_A3			0x57060030
+#define BCE_CHIP_ID_5708_A0			0x57080000
+#define BCE_CHIP_ID_5708_B0			0x57081000
+#define BCE_CHIP_ID_5708_B1			0x57081010
+#define BCE_CHIP_ID_5708_B2			0x57081020
+#define BCE_CHIP_ID_5709_A0			0x57090000
+#define BCE_CHIP_ID_5709_A1			0x57090010
+#define BCE_CHIP_ID_5709_B0			0x57091000
+#define BCE_CHIP_ID_5709_B1			0x57091010
+#define BCE_CHIP_ID_5709_B2			0x57091020
+#define BCE_CHIP_ID_5709_C0			0x57092000
+#define BCE_CHIP_ID_5716_C0			0x57162000
+
+#define BCE_CHIP_BOND_ID(sc)		(((sc)-&gt;bce_chipid) &amp; 0xf)
+
+/* A serdes chip will have the first bit of the bond id set. */
+#define BCE_CHIP_BOND_ID_SERDES_BIT		0x01
+
+
+/* shorthand one */
+#define BCE_ASICREV(x)			((x) &gt;&gt; 28)
+#define BCE_ASICREV_BCM5700		0x06
+
+/* chip revisions */
+#define BCE_CHIPREV(x)			((x) &gt;&gt; 24)
+#define BCE_CHIPREV_5700_AX		0x70
+#define BCE_CHIPREV_5700_BX		0x71
+#define BCE_CHIPREV_5700_CX		0x72
+#define BCE_CHIPREV_5701_AX		0x00
+
+struct bce_type {
+	u_int16_t		bce_vid;
+	u_int16_t		bce_did;
+	u_int16_t		bce_svid;
+	u_int16_t		bce_sdid;
+	char			*bce_name;
+};
+
+/****************************************************************************/
+/* Byte order conversions.                                                  */
+/****************************************************************************/
+#if __FreeBSD_version &gt;= 500000
+#define bce_htobe16(x) htobe16(x)
+#define bce_htobe32(x) htobe32(x)
+#define bce_htobe64(x) htobe64(x)
+#define bce_htole16(x) htole16(x)
+#define bce_htole32(x) htole32(x)
+#define bce_htole64(x) htole64(x)
+
+#define bce_be16toh(x) be16toh(x)
+#define bce_be32toh(x) be32toh(x)
+#define bce_be64toh(x) be64toh(x)
+#define bce_le16toh(x) le16toh(x)
+#define bce_le32toh(x) le32toh(x)
+#define bce_le64toh(x) le64toh(x)
+#else
+#define bce_htobe16(x) (x)
+#define bce_htobe32(x) (x)
+#define bce_htobe64(x) (x)
+#define bce_htole16(x) (x)
+#define bce_htole32(x) (x)
+#define bce_htole64(x) (x)
+
+#define bce_be16toh(x) (x)
+#define bce_be32toh(x) (x)
+#define bce_be64toh(x) (x)
+#define bce_le16toh(x) (x)
+#define bce_le32toh(x) (x)
+#define bce_le64toh(x) (x)
+#endif
+
+
+/****************************************************************************/
+/* NVRAM Access                                                             */
+/****************************************************************************/
+
+/* Buffered flash (Atmel: AT45DB011B) specific information */
+#define SEEPROM_PAGE_BITS				2
+#define SEEPROM_PHY_PAGE_SIZE			(1 &lt;&lt; SEEPROM_PAGE_BITS)
+#define SEEPROM_BYTE_ADDR_MASK			(SEEPROM_PHY_PAGE_SIZE-1)
+#define SEEPROM_PAGE_SIZE				4
+#define SEEPROM_TOTAL_SIZE				65536
+
+#define BUFFERED_FLASH_PAGE_BITS		9
+#define BUFFERED_FLASH_PHY_PAGE_SIZE	(1 &lt;&lt; BUFFERED_FLASH_PAGE_BITS)
+#define BUFFERED_FLASH_BYTE_ADDR_MASK	(BUFFERED_FLASH_PHY_PAGE_SIZE-1)
+#define BUFFERED_FLASH_PAGE_SIZE		264
+#define BUFFERED_FLASH_TOTAL_SIZE		0x21000
+
+#define SAIFUN_FLASH_PAGE_BITS			8
+#define SAIFUN_FLASH_PHY_PAGE_SIZE		(1 &lt;&lt; SAIFUN_FLASH_PAGE_BITS)
+#define SAIFUN_FLASH_BYTE_ADDR_MASK		(SAIFUN_FLASH_PHY_PAGE_SIZE-1)
+#define SAIFUN_FLASH_PAGE_SIZE			256
+#define SAIFUN_FLASH_BASE_TOTAL_SIZE	65536
+
+#define ST_MICRO_FLASH_PAGE_BITS		8
+#define ST_MICRO_FLASH_PHY_PAGE_SIZE	(1 &lt;&lt; ST_MICRO_FLASH_PAGE_BITS)
+#define ST_MICRO_FLASH_BYTE_ADDR_MASK	(ST_MICRO_FLASH_PHY_PAGE_SIZE-1)
+#define ST_MICRO_FLASH_PAGE_SIZE		256
+#define ST_MICRO_FLASH_BASE_TOTAL_SIZE	65536
+
+#define BCM5709_FLASH_PAGE_BITS			8
+#define BCM5709_FLASH_PHY_PAGE_SIZE		(1 &lt;&lt; BCM5709_FLASH_PAGE_BITS)
+#define BCM5709_FLASH_BYTE_ADDR_MASK	(BCM5709_FLASH_PHY_PAGE_SIZE-1)
+#define BCM5709_FLASH_PAGE_SIZE			256
+
+#define NVRAM_TIMEOUT_COUNT				30000
+#define BCE_FLASHDESC_MAX				64
+
+#define FLASH_STRAP_MASK				(BCE_NVM_CFG1_FLASH_MODE | \
+										 BCE_NVM_CFG1_BUFFER_MODE  | \
+										 BCE_NVM_CFG1_PROTECT_MODE | \
+										 BCE_NVM_CFG1_FLASH_SIZE)
+
+#define FLASH_BACKUP_STRAP_MASK			(0xf &lt;&lt; 26)
+
+struct flash_spec {
+	u32 strapping;
+	u32 config1;
+	u32 config2;
+	u32 config3;
+	u32 write1;
+#define BCE_NV_BUFFERED		0x00000001
+#define BCE_NV_TRANSLATE	0x00000002
+#define BCE_NV_WREN			0x00000004
+	u32 flags;
+	u32 page_bits;
+	u32 page_size;
+	u32 addr_mask;
+	u32 total_size;
+	u8  *name;
+};
+
+
+/****************************************************************************/
+/* Shared Memory layout                                                     */
+/* The BCE bootcode will initialize this data area with port configurtion   */
+/* information which can be accessed by the driver.                         */
+/****************************************************************************/
+
+/*
+ * This value (in milliseconds) determines the frequency of the driver
+ * issuing the PULSE message code.  The firmware monitors this periodic
+ * pulse to determine when to switch to an OS-absent mode.
+ */
+#define DRV_PULSE_PERIOD_MS                 250
+
+/*
+ * This value (in milliseconds) determines how long the driver should
+ * wait for an acknowledgement from the firmware before timing out.  Once
+ * the firmware has timed out, the driver will assume there is no firmware
+ * running and there won't be any firmware-driver synchronization during a
+ * driver reset.
+ */
+#define FW_ACK_TIME_OUT_MS                  1000
+
+
+#define BCE_DRV_RESET_SIGNATURE				0x00000000
+#define BCE_DRV_RESET_SIGNATURE_MAGIC		0x4841564b /* HAVK */
+
+#define BCE_DRV_MB							0x00000004
+#define BCE_DRV_MSG_CODE			 		0xff000000
+#define BCE_DRV_MSG_CODE_RESET			 	0x01000000
+#define BCE_DRV_MSG_CODE_UNLOAD		 		0x02000000
+#define BCE_DRV_MSG_CODE_SHUTDOWN		 	0x03000000
+#define BCE_DRV_MSG_CODE_SUSPEND_WOL		0x04000000
+#define BCE_DRV_MSG_CODE_FW_TIMEOUT		 	0x05000000
+#define BCE_DRV_MSG_CODE_PULSE			 	0x06000000
+#define BCE_DRV_MSG_CODE_DIAG			 	0x07000000
+#define BCE_DRV_MSG_CODE_SUSPEND_NO_WOL	 	0x09000000
+#define BCE_DRV_MSG_CODE_UNLOAD_LNK_DN		0x0b000000
+#define BCE_DRV_MSG_CODE_CMD_SET_LINK		0x10000000
+
+#define BCE_DRV_MSG_DATA			 		0x00ff0000
+#define BCE_DRV_MSG_DATA_WAIT0			 	0x00010000
+#define BCE_DRV_MSG_DATA_WAIT1				0x00020000
+#define BCE_DRV_MSG_DATA_WAIT2				0x00030000
+#define BCE_DRV_MSG_DATA_WAIT3				0x00040000
+
+#define BCE_DRV_MSG_SEQ						0x0000ffff
+
+#define BCE_FW_MB				0x00000008
+#define BCE_FW_MSG_ACK				 0x0000ffff
+#define BCE_FW_MSG_STATUS_MASK			 0x00ff0000
+#define BCE_FW_MSG_STATUS_OK			 0x00000000
+#define BCE_FW_MSG_STATUS_FAILURE		 0x00ff0000
+
+#define BCE_LINK_STATUS			0x0000000c
+#define BCE_LINK_STATUS_INIT_VALUE		 0xffffffff
+#define BCE_LINK_STATUS_LINK_UP		 0x1
+#define BCE_LINK_STATUS_LINK_DOWN		 0x0
+#define BCE_LINK_STATUS_SPEED_MASK		 0x1e
+#define BCE_LINK_STATUS_AN_INCOMPLETE		 (0&lt;&lt;1)
+#define BCE_LINK_STATUS_10HALF			 (1&lt;&lt;1)
+#define BCE_LINK_STATUS_10FULL			 (2&lt;&lt;1)
+#define BCE_LINK_STATUS_100HALF		 (3&lt;&lt;1)
+#define BCE_LINK_STATUS_100BASE_T4		 (4&lt;&lt;1)
+#define BCE_LINK_STATUS_100FULL		 (5&lt;&lt;1)
+#define BCE_LINK_STATUS_1000HALF		 (6&lt;&lt;1)
+#define BCE_LINK_STATUS_1000FULL		 (7&lt;&lt;1)
+#define BCE_LINK_STATUS_2500HALF		 (8&lt;&lt;1)
+#define BCE_LINK_STATUS_2500FULL		 (9&lt;&lt;1)
+#define BCE_LINK_STATUS_AN_ENABLED		 (1&lt;&lt;5)
+#define BCE_LINK_STATUS_AN_COMPLETE		 (1&lt;&lt;6)
+#define BCE_LINK_STATUS_PARALLEL_DET		 (1&lt;&lt;7)
+#define BCE_LINK_STATUS_RESERVED		 (1&lt;&lt;8)
+#define BCE_LINK_STATUS_PARTNER_AD_1000FULL	 (1&lt;&lt;9)
+#define BCE_LINK_STATUS_PARTNER_AD_1000HALF	 (1&lt;&lt;10)
+#define BCE_LINK_STATUS_PARTNER_AD_100BT4	 (1&lt;&lt;11)
+#define BCE_LINK_STATUS_PARTNER_AD_100FULL	 (1&lt;&lt;12)
+#define BCE_LINK_STATUS_PARTNER_AD_100HALF	 (1&lt;&lt;13)
+#define BCE_LINK_STATUS_PARTNER_AD_10FULL	 (1&lt;&lt;14)
+#define BCE_LINK_STATUS_PARTNER_AD_10HALF	 (1&lt;&lt;15)
+#define BCE_LINK_STATUS_TX_FC_ENABLED		 (1&lt;&lt;16)
+#define BCE_LINK_STATUS_RX_FC_ENABLED		 (1&lt;&lt;17)
+#define BCE_LINK_STATUS_PARTNER_SYM_PAUSE_CAP	 (1&lt;&lt;18)
+#define BCE_LINK_STATUS_PARTNER_ASYM_PAUSE_CAP	 (1&lt;&lt;19)
+#define BCE_LINK_STATUS_SERDES_LINK		 (1&lt;&lt;20)
+#define BCE_LINK_STATUS_PARTNER_AD_2500FULL	 (1&lt;&lt;21)
+#define BCE_LINK_STATUS_PARTNER_AD_2500HALF	 (1&lt;&lt;22)
+
+#define BCE_DRV_PULSE_MB			0x00000010
+#define BCE_DRV_PULSE_SEQ_MASK			 0x00007fff
+
+#define BCE_MB_ARGS_0				0x00000014
+#define BCE_MB_ARGS_1				0x00000018
+
+/* Indicate to the firmware not to go into the
+ * OS absent when it is not getting driver pulse.
+ * This is used for debugging. */
+#define BCE_DRV_MSG_DATA_PULSE_CODE_ALWAYS_ALIVE	 0x00080000
+
+#define BCE_DEV_INFO_SIGNATURE			0x00000020
+#define BCE_DEV_INFO_SIGNATURE_MAGIC		 0x44564900
+#define BCE_DEV_INFO_SIGNATURE_MAGIC_MASK	 0xffffff00
+#define BCE_DEV_INFO_FEATURE_CFG_VALID		 0x01
+#define BCE_DEV_INFO_SECONDARY_PORT		 0x80
+#define BCE_DEV_INFO_DRV_ALWAYS_ALIVE		 0x40
+
+#define BCE_SHARED_HW_CFG_PART_NUM		0x00000024
+
+#define BCE_SHARED_HW_CFG_POWER_DISSIPATED	0x00000034
+#define BCE_SHARED_HW_CFG_POWER_STATE_D3_MASK	 0xff000000
+#define BCE_SHARED_HW_CFG_POWER_STATE_D2_MASK	 0xff0000
+#define BCE_SHARED_HW_CFG_POWER_STATE_D1_MASK	 0xff00
+#define BCE_SHARED_HW_CFG_POWER_STATE_D0_MASK	 0xff
+
+#define BCE_SHARED_HW_CFG_POWER_CONSUMED	0x00000038
+#define BCE_SHARED_HW_CFG_CONFIG		0x0000003c
+#define BCE_SHARED_HW_CFG_DESIGN_NIC		 0
+#define BCE_SHARED_HW_CFG_DESIGN_LOM		 0x1
+#define BCE_SHARED_HW_CFG_PHY_COPPER		 0
+#define BCE_SHARED_HW_CFG_PHY_FIBER		 0x2
+#define BCE_SHARED_HW_CFG_PHY_2_5G		 0x20
+#define BCE_SHARED_HW_CFG_PHY_BACKPLANE	 0x40
+#define BCE_SHARED_HW_CFG_LED_MODE_SHIFT_BITS	 8
+#define BCE_SHARED_HW_CFG_LED_MODE_MASK	 0x300
+#define BCE_SHARED_HW_CFG_LED_MODE_MAC		 0
+#define BCE_SHARED_HW_CFG_LED_MODE_GPHY1	 0x100
+#define BCE_SHARED_HW_CFG_LED_MODE_GPHY2	 0x200
+
+#define BCE_SHARED_HW_CFG_CONFIG2		0x00000040
+#define BCE_SHARED_HW_CFG2_NVM_SIZE_MASK	 0x00fff000
+
+#define BCE_DEV_INFO_BC_REV			0x0000004c
+
+#define BCE_PORT_HW_CFG_MAC_UPPER		0x00000050
+#define BCE_PORT_HW_CFG_UPPERMAC_MASK		 0xffff
+
+#define BCE_PORT_HW_CFG_MAC_LOWER		0x00000054
+#define BCE_PORT_HW_CFG_CONFIG			0x00000058
+#define BCE_PORT_HW_CFG_CFG_TXCTL3_MASK	 0x0000ffff
+#define BCE_PORT_HW_CFG_CFG_DFLT_LINK_MASK	 0x001f0000
+#define BCE_PORT_HW_CFG_CFG_DFLT_LINK_AN	 0x00000000
+#define BCE_PORT_HW_CFG_CFG_DFLT_LINK_1G	 0x00030000
+#define BCE_PORT_HW_CFG_CFG_DFLT_LINK_2_5G	 0x00040000
+
+#define BCE_PORT_HW_CFG_IMD_MAC_A_UPPER	0x00000068
+#define BCE_PORT_HW_CFG_IMD_MAC_A_LOWER	0x0000006c
+#define BCE_PORT_HW_CFG_IMD_MAC_B_UPPER	0x00000070
+#define BCE_PORT_HW_CFG_IMD_MAC_B_LOWER	0x00000074
+#define BCE_PORT_HW_CFG_ISCSI_MAC_UPPER	0x00000078
+#define BCE_PORT_HW_CFG_ISCSI_MAC_LOWER	0x0000007c
+
+#define BCE_DEV_INFO_PER_PORT_HW_CONFIG2	0x000000b4
+
+#define BCE_DEV_INFO_FORMAT_REV		0x000000c4
+#define BCE_DEV_INFO_FORMAT_REV_MASK		 0xff000000
+#define BCE_DEV_INFO_FORMAT_REV_ID		 ('A' &lt;&lt; 24)
+
+#define BCE_SHARED_FEATURE			0x000000c8
+#define BCE_SHARED_FEATURE_MASK		 0xffffffff
+
+#define BCE_PORT_FEATURE			0x000000d8
+#define BCE_PORT2_FEATURE			0x00000014c
+#define BCE_PORT_FEATURE_WOL_ENABLED		 0x01000000
+#define BCE_PORT_FEATURE_MBA_ENABLED		 0x02000000
+#define BCE_PORT_FEATURE_ASF_ENABLED		 0x04000000
+#define BCE_PORT_FEATURE_IMD_ENABLED		 0x08000000
+#define BCE_PORT_FEATURE_BAR1_SIZE_MASK	 0xf
+#define BCE_PORT_FEATURE_BAR1_SIZE_DISABLED	 0x0
+#define BCE_PORT_FEATURE_BAR1_SIZE_64K		 0x1
+#define BCE_PORT_FEATURE_BAR1_SIZE_128K	 0x2
+#define BCE_PORT_FEATURE_BAR1_SIZE_256K	 0x3
+#define BCE_PORT_FEATURE_BAR1_SIZE_512K	 0x4
+#define BCE_PORT_FEATURE_BAR1_SIZE_1M		 0x5
+#define BCE_PORT_FEATURE_BAR1_SIZE_2M		 0x6
+#define BCE_PORT_FEATURE_BAR1_SIZE_4M		 0x7
+#define BCE_PORT_FEATURE_BAR1_SIZE_8M		 0x8
+#define BCE_PORT_FEATURE_BAR1_SIZE_16M		 0x9
+#define BCE_PORT_FEATURE_BAR1_SIZE_32M		 0xa
+#define BCE_PORT_FEATURE_BAR1_SIZE_64M		 0xb
+#define BCE_PORT_FEATURE_BAR1_SIZE_128M	 0xc
+#define BCE_PORT_FEATURE_BAR1_SIZE_256M	 0xd
+#define BCE_PORT_FEATURE_BAR1_SIZE_512M	 0xe
+#define BCE_PORT_FEATURE_BAR1_SIZE_1G		 0xf
+
+#define BCE_PORT_FEATURE_WOL			0xdc
+#define BCE_PORT2_FEATURE_WOL			0x150
+#define BCE_PORT_FEATURE_WOL_DEFAULT_SHIFT_BITS	 4
+#define BCE_PORT_FEATURE_WOL_DEFAULT_MASK	 0x30
+#define BCE_PORT_FEATURE_WOL_DEFAULT_DISABLE	 0
+#define BCE_PORT_FEATURE_WOL_DEFAULT_MAGIC	 0x10
+#define BCE_PORT_FEATURE_WOL_DEFAULT_ACPI	 0x20
+#define BCE_PORT_FEATURE_WOL_DEFAULT_MAGIC_AND_ACPI	 0x30
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_MASK	 0xf
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_AUTONEG	 0
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_10HALF	 1
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_10FULL	 2
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_100HALF 3
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_100FULL 4
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_1000HALF	 5
+#define BCE_PORT_FEATURE_WOL_LINK_SPEED_1000FULL	 6
+#define BCE_PORT_FEATURE_WOL_AUTONEG_ADVERTISE_1000	 0x40
+#define BCE_PORT_FEATURE_WOL_RESERVED_PAUSE_CAP 0x400
+#define BCE_PORT_FEATURE_WOL_RESERVED_ASYM_PAUSE_CAP	 0x800
+
+#define BCE_PORT_FEATURE_MBA			0xe0
+#define BCE_PORT2_FEATURE_MBA			0x154
+#define BCE_PORT_FEATURE_MBA_BOOT_AGENT_TYPE_SHIFT_BITS	 0
+#define BCE_PORT_FEATURE_MBA_BOOT_AGENT_TYPE_MASK	 0x3
+#define BCE_PORT_FEATURE_MBA_BOOT_AGENT_TYPE_PXE	 0
+#define BCE_PORT_FEATURE_MBA_BOOT_AGENT_TYPE_RPL	 1
+#define BCE_PORT_FEATURE_MBA_BOOT_AGENT_TYPE_BOOTP	 2
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_SHIFT_BITS	 2
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_MASK	 0x3c
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_AUTONEG	 0
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_10HALF	 0x4
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_10FULL	 0x8
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_100HALF	 0xc
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_100FULL	 0x10
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_1000HALF	 0x14
+#define BCE_PORT_FEATURE_MBA_LINK_SPEED_1000FULL	 0x18
+#define BCE_PORT_FEATURE_MBA_SETUP_PROMPT_ENABLE	 0x40
+#define BCE_PORT_FEATURE_MBA_HOTKEY_CTRL_S	 0
+#define BCE_PORT_FEATURE_MBA_HOTKEY_CTRL_B	 0x80
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_SHIFT_BITS	 8
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_MASK	 0xff00
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_DISABLED	 0
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_1K	 0x100
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_2K	 0x200
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_4K	 0x300
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_8K	 0x400
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_16K	 0x500
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_32K	 0x600
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_64K	 0x700
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_128K	 0x800
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_256K	 0x900
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_512K	 0xa00
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_1M	 0xb00
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_2M	 0xc00
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_4M	 0xd00
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_8M	 0xe00
+#define BCE_PORT_FEATURE_MBA_EXP_ROM_SIZE_16M	 0xf00
+#define BCE_PORT_FEATURE_MBA_MSG_TIMEOUT_SHIFT_BITS	 16

[... truncated: 6786 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013499.html">[Haiku-commits] r28635 - haiku/vendor/freebsd/current/dev/mii
</A></li>
	<LI>Next message: <A HREF="013501.html">[Haiku-commits] r28637 -	haiku/trunk/src/add-ons/kernel/drivers/network/broadcom570x/dev/bge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13500">[ date ]</a>
              <a href="thread.html#13500">[ thread ]</a>
              <a href="subject.html#13500">[ subject ]</a>
              <a href="author.html#13500">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
