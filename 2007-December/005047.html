<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r23129 - in haiku/vendor/coreutils/current: . doc	lib man src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23129%20-%20in%20haiku/vendor/coreutils/current%3A%20.%20doc%0A%09lib%20man%20src&In-Reply-To=%3C200712161810.lBGIAmhE002562%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005045.html">
   <LINK REL="Next"  HREF="005048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r23129 - in haiku/vendor/coreutils/current: . doc	lib man src</H1>
    <B>korli at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23129%20-%20in%20haiku/vendor/coreutils/current%3A%20.%20doc%0A%09lib%20man%20src&In-Reply-To=%3C200712161810.lBGIAmhE002562%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r23129 - in haiku/vendor/coreutils/current: . doc	lib man src">korli at mail.berlios.de
       </A><BR>
    <I>Sun Dec 16 19:10:48 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="005045.html">[Haiku-commits] r23128 - haiku/trunk/src/bin/coreutils/src
</A></li>
        <LI>Next message: <A HREF="005048.html">[Haiku-commits] r23130 - haiku/vendor/coreutils
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5047">[ date ]</a>
              <a href="thread.html#5047">[ thread ]</a>
              <a href="subject.html#5047">[ subject ]</a>
              <a href="author.html#5047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: korli
Date: 2007-12-16 19:08:56 +0100 (Sun, 16 Dec 2007)
New Revision: 23129
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=23129&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=23129&amp;view=rev</A>

Added:
   haiku/vendor/coreutils/current/lib/acl-internal.h
   haiku/vendor/coreutils/current/lib/acl_entries.c
   haiku/vendor/coreutils/current/lib/c-ctype.c
   haiku/vendor/coreutils/current/lib/c-ctype.h
   haiku/vendor/coreutils/current/lib/c-strcase.h
   haiku/vendor/coreutils/current/lib/c-strcasecmp.c
   haiku/vendor/coreutils/current/lib/c-strncasecmp.c
   haiku/vendor/coreutils/current/lib/dirent_.h
   haiku/vendor/coreutils/current/lib/fchdir.c
   haiku/vendor/coreutils/current/lib/fchownat.c
   haiku/vendor/coreutils/current/lib/file-has-acl.c
   haiku/vendor/coreutils/current/lib/mbscasecmp.c
   haiku/vendor/coreutils/current/lib/mpsort.c
   haiku/vendor/coreutils/current/lib/mpsort.h
   haiku/vendor/coreutils/current/lib/netinet_in_.h
   haiku/vendor/coreutils/current/lib/stdio_.h
   haiku/vendor/coreutils/current/lib/stdlib_.h
   haiku/vendor/coreutils/current/lib/string_.h
   haiku/vendor/coreutils/current/lib/sys_time_.h
   haiku/vendor/coreutils/current/lib/time_.h
   haiku/vendor/coreutils/current/lib/unistd_.h
   haiku/vendor/coreutils/current/lib/wchar_.h
   haiku/vendor/coreutils/current/lib/wctype_.h
   haiku/vendor/coreutils/current/lib/xreadlink-with-size.c
Removed:
   haiku/vendor/coreutils/current/lib/exit.h
   haiku/vendor/coreutils/current/lib/fchdir-stub.c
   haiku/vendor/coreutils/current/lib/getcwd.h
   haiku/vendor/coreutils/current/lib/mempcpy.h
   haiku/vendor/coreutils/current/lib/memrchr.h
   haiku/vendor/coreutils/current/lib/mkstemp.h
   haiku/vendor/coreutils/current/lib/snprintf.h
   haiku/vendor/coreutils/current/lib/stpcpy.h
   haiku/vendor/coreutils/current/lib/strcase.h
   haiku/vendor/coreutils/current/lib/strcasecmp.c
   haiku/vendor/coreutils/current/lib/strdup.h
   haiku/vendor/coreutils/current/lib/strncasecmp.c
   haiku/vendor/coreutils/current/lib/strndup.h
   haiku/vendor/coreutils/current/lib/strnlen.h
   haiku/vendor/coreutils/current/lib/strpbrk.h
   haiku/vendor/coreutils/current/lib/time_r.h
Modified:
   haiku/vendor/coreutils/current/ChangeLog
   haiku/vendor/coreutils/current/Makefile.am
   haiku/vendor/coreutils/current/Makefile.cfg
   haiku/vendor/coreutils/current/Makefile.in
   haiku/vendor/coreutils/current/Makefile.maint
   haiku/vendor/coreutils/current/NEWS
   haiku/vendor/coreutils/current/README
   haiku/vendor/coreutils/current/THANKS
   haiku/vendor/coreutils/current/TODO
   haiku/vendor/coreutils/current/aclocal.m4
   haiku/vendor/coreutils/current/bootstrap
   haiku/vendor/coreutils/current/bootstrap.conf
   haiku/vendor/coreutils/current/configure
   haiku/vendor/coreutils/current/configure.ac
   haiku/vendor/coreutils/current/doc/ChangeLog
   haiku/vendor/coreutils/current/doc/Makefile.in
   haiku/vendor/coreutils/current/doc/coreutils.info
   haiku/vendor/coreutils/current/doc/coreutils.texi
   haiku/vendor/coreutils/current/doc/stamp-vti
   haiku/vendor/coreutils/current/doc/version.texi
   haiku/vendor/coreutils/current/lib/ChangeLog
   haiku/vendor/coreutils/current/lib/Makefile.in
   haiku/vendor/coreutils/current/lib/acl.c
   haiku/vendor/coreutils/current/lib/acl.h
   haiku/vendor/coreutils/current/lib/allocsa.h
   haiku/vendor/coreutils/current/lib/argmatch.c
   haiku/vendor/coreutils/current/lib/backupfile.c
   haiku/vendor/coreutils/current/lib/base64.c
   haiku/vendor/coreutils/current/lib/base64.h
   haiku/vendor/coreutils/current/lib/canon-host.c
   haiku/vendor/coreutils/current/lib/canonicalize.c
   haiku/vendor/coreutils/current/lib/canonicalize.h
   haiku/vendor/coreutils/current/lib/chdir-long.c
   haiku/vendor/coreutils/current/lib/chown.c
   haiku/vendor/coreutils/current/lib/config.hin
   haiku/vendor/coreutils/current/lib/dirname.h
   haiku/vendor/coreutils/current/lib/dup-safer.c
   haiku/vendor/coreutils/current/lib/dup2.c
   haiku/vendor/coreutils/current/lib/exclude.c
   haiku/vendor/coreutils/current/lib/exitfail.c
   haiku/vendor/coreutils/current/lib/fcntl_.h
   haiku/vendor/coreutils/current/lib/fnmatch.c
   haiku/vendor/coreutils/current/lib/fnmatch_.h
   haiku/vendor/coreutils/current/lib/fnmatch_loop.c
   haiku/vendor/coreutils/current/lib/fsusage.c
   haiku/vendor/coreutils/current/lib/ftruncate.c
   haiku/vendor/coreutils/current/lib/fts.c
   haiku/vendor/coreutils/current/lib/fts_.h
   haiku/vendor/coreutils/current/lib/gai_strerror.c
   haiku/vendor/coreutils/current/lib/getaddrinfo.c
   haiku/vendor/coreutils/current/lib/getcwd.c
   haiku/vendor/coreutils/current/lib/getdate.c
   haiku/vendor/coreutils/current/lib/getdate.h
   haiku/vendor/coreutils/current/lib/getdate.y
   haiku/vendor/coreutils/current/lib/gethrxtime.c
   haiku/vendor/coreutils/current/lib/getopt_.h
   haiku/vendor/coreutils/current/lib/getpagesize.h
   haiku/vendor/coreutils/current/lib/gettime.c
   haiku/vendor/coreutils/current/lib/gettimeofday.c
   haiku/vendor/coreutils/current/lib/gnulib.mk
   haiku/vendor/coreutils/current/lib/hard-locale.c
   haiku/vendor/coreutils/current/lib/inttypes_.h
   haiku/vendor/coreutils/current/lib/mbchar.h
   haiku/vendor/coreutils/current/lib/mbswidth.c
   haiku/vendor/coreutils/current/lib/mbswidth.h
   haiku/vendor/coreutils/current/lib/mbuiter.h
   haiku/vendor/coreutils/current/lib/mempcpy.c
   haiku/vendor/coreutils/current/lib/memrchr.c
   haiku/vendor/coreutils/current/lib/mkdir-p.c
   haiku/vendor/coreutils/current/lib/mkstemp-safer.c
   haiku/vendor/coreutils/current/lib/mkstemp.c
   haiku/vendor/coreutils/current/lib/mktime.c
   haiku/vendor/coreutils/current/lib/mountlist.c
   haiku/vendor/coreutils/current/lib/nanosleep.c
   haiku/vendor/coreutils/current/lib/openat-proc.c
   haiku/vendor/coreutils/current/lib/openat.c
   haiku/vendor/coreutils/current/lib/posixtm.c
   haiku/vendor/coreutils/current/lib/posixtm.h
   haiku/vendor/coreutils/current/lib/printf-args.c
   haiku/vendor/coreutils/current/lib/printf-args.h
   haiku/vendor/coreutils/current/lib/printf-parse.c
   haiku/vendor/coreutils/current/lib/putenv.c
   haiku/vendor/coreutils/current/lib/quotearg.c
   haiku/vendor/coreutils/current/lib/randperm.c
   haiku/vendor/coreutils/current/lib/readlink.c
   haiku/vendor/coreutils/current/lib/readutmp.h
   haiku/vendor/coreutils/current/lib/regcomp.c
   haiku/vendor/coreutils/current/lib/regex.h
   haiku/vendor/coreutils/current/lib/regex_internal.c
   haiku/vendor/coreutils/current/lib/regex_internal.h
   haiku/vendor/coreutils/current/lib/regexec.c
   haiku/vendor/coreutils/current/lib/safe-read.h
   haiku/vendor/coreutils/current/lib/savedir.c
   haiku/vendor/coreutils/current/lib/savewd.c
   haiku/vendor/coreutils/current/lib/setenv.c
   haiku/vendor/coreutils/current/lib/setenv.h
   haiku/vendor/coreutils/current/lib/settime.c
   haiku/vendor/coreutils/current/lib/snprintf.c
   haiku/vendor/coreutils/current/lib/socket_.h
   haiku/vendor/coreutils/current/lib/stat-time.h
   haiku/vendor/coreutils/current/lib/stdbool_.h
   haiku/vendor/coreutils/current/lib/stdint_.h
   haiku/vendor/coreutils/current/lib/stdlib--.h
   haiku/vendor/coreutils/current/lib/strdup.c
   haiku/vendor/coreutils/current/lib/strftime.c
   haiku/vendor/coreutils/current/lib/strndup.c
   haiku/vendor/coreutils/current/lib/strnlen.c
   haiku/vendor/coreutils/current/lib/strtol.c
   haiku/vendor/coreutils/current/lib/tempname.c
   haiku/vendor/coreutils/current/lib/time_r.c
   haiku/vendor/coreutils/current/lib/timespec.h
   haiku/vendor/coreutils/current/lib/userspec.c
   haiku/vendor/coreutils/current/lib/utime.c
   haiku/vendor/coreutils/current/lib/utimecmp.c
   haiku/vendor/coreutils/current/lib/utimens.c
   haiku/vendor/coreutils/current/lib/utimens.h
   haiku/vendor/coreutils/current/lib/vasnprintf.c
   haiku/vendor/coreutils/current/lib/vasnprintf.h
   haiku/vendor/coreutils/current/lib/vasprintf.h
   haiku/vendor/coreutils/current/lib/version-etc.c
   haiku/vendor/coreutils/current/lib/wcwidth.h
   haiku/vendor/coreutils/current/lib/xalloc.h
   haiku/vendor/coreutils/current/lib/xfts.c
   haiku/vendor/coreutils/current/lib/xgetcwd.c
   haiku/vendor/coreutils/current/lib/xnanosleep.c
   haiku/vendor/coreutils/current/lib/xreadlink.c
   haiku/vendor/coreutils/current/lib/xreadlink.h
   haiku/vendor/coreutils/current/lib/xstrndup.c
   haiku/vendor/coreutils/current/lib/yesno.c
   haiku/vendor/coreutils/current/man/Makefile.am
   haiku/vendor/coreutils/current/man/Makefile.in
   haiku/vendor/coreutils/current/man/base64.1
   haiku/vendor/coreutils/current/man/basename.1
   haiku/vendor/coreutils/current/man/cat.1
   haiku/vendor/coreutils/current/man/chgrp.1
   haiku/vendor/coreutils/current/man/chmod.1
   haiku/vendor/coreutils/current/man/chown.1
   haiku/vendor/coreutils/current/man/chroot.1
   haiku/vendor/coreutils/current/man/cksum.1
   haiku/vendor/coreutils/current/man/comm.1
   haiku/vendor/coreutils/current/man/cp.1
   haiku/vendor/coreutils/current/man/csplit.1
   haiku/vendor/coreutils/current/man/cut.1
   haiku/vendor/coreutils/current/man/date.1
   haiku/vendor/coreutils/current/man/dd.1
   haiku/vendor/coreutils/current/man/df.1
   haiku/vendor/coreutils/current/man/dir.1
   haiku/vendor/coreutils/current/man/dircolors.1
   haiku/vendor/coreutils/current/man/dirname.1
   haiku/vendor/coreutils/current/man/du.1
   haiku/vendor/coreutils/current/man/echo.1
   haiku/vendor/coreutils/current/man/env.1
   haiku/vendor/coreutils/current/man/expand.1
   haiku/vendor/coreutils/current/man/expr.1
   haiku/vendor/coreutils/current/man/factor.1
   haiku/vendor/coreutils/current/man/false.1
   haiku/vendor/coreutils/current/man/fmt.1
   haiku/vendor/coreutils/current/man/fold.1
   haiku/vendor/coreutils/current/man/groups.1
   haiku/vendor/coreutils/current/man/head.1
   haiku/vendor/coreutils/current/man/hostid.1
   haiku/vendor/coreutils/current/man/hostname.1
   haiku/vendor/coreutils/current/man/id.1
   haiku/vendor/coreutils/current/man/install.1
   haiku/vendor/coreutils/current/man/join.1
   haiku/vendor/coreutils/current/man/kill.1
   haiku/vendor/coreutils/current/man/link.1
   haiku/vendor/coreutils/current/man/ln.1
   haiku/vendor/coreutils/current/man/logname.1
   haiku/vendor/coreutils/current/man/ls.1
   haiku/vendor/coreutils/current/man/md5sum.1
   haiku/vendor/coreutils/current/man/mkdir.1
   haiku/vendor/coreutils/current/man/mkfifo.1
   haiku/vendor/coreutils/current/man/mknod.1
   haiku/vendor/coreutils/current/man/mv.1
   haiku/vendor/coreutils/current/man/nice.1
   haiku/vendor/coreutils/current/man/nl.1
   haiku/vendor/coreutils/current/man/nohup.1
   haiku/vendor/coreutils/current/man/od.1
   haiku/vendor/coreutils/current/man/paste.1
   haiku/vendor/coreutils/current/man/pathchk.1
   haiku/vendor/coreutils/current/man/pinky.1
   haiku/vendor/coreutils/current/man/pr.1
   haiku/vendor/coreutils/current/man/printenv.1
   haiku/vendor/coreutils/current/man/printf.1
   haiku/vendor/coreutils/current/man/ptx.1
   haiku/vendor/coreutils/current/man/pwd.1
   haiku/vendor/coreutils/current/man/readlink.1
   haiku/vendor/coreutils/current/man/rm.1
   haiku/vendor/coreutils/current/man/rmdir.1
   haiku/vendor/coreutils/current/man/seq.1
   haiku/vendor/coreutils/current/man/sha1sum.1
   haiku/vendor/coreutils/current/man/sha224sum.1
   haiku/vendor/coreutils/current/man/sha256sum.1
   haiku/vendor/coreutils/current/man/sha384sum.1
   haiku/vendor/coreutils/current/man/sha512sum.1
   haiku/vendor/coreutils/current/man/shred.1
   haiku/vendor/coreutils/current/man/shuf.1
   haiku/vendor/coreutils/current/man/sleep.1
   haiku/vendor/coreutils/current/man/sort.1
   haiku/vendor/coreutils/current/man/split.1
   haiku/vendor/coreutils/current/man/stat.1
   haiku/vendor/coreutils/current/man/stty.1
   haiku/vendor/coreutils/current/man/su.1
   haiku/vendor/coreutils/current/man/sum.1
   haiku/vendor/coreutils/current/man/sync.1
   haiku/vendor/coreutils/current/man/tac.1
   haiku/vendor/coreutils/current/man/tail.1
   haiku/vendor/coreutils/current/man/tee.1
   haiku/vendor/coreutils/current/man/test.1
   haiku/vendor/coreutils/current/man/touch.1
   haiku/vendor/coreutils/current/man/tr.1
   haiku/vendor/coreutils/current/man/true.1
   haiku/vendor/coreutils/current/man/tsort.1
   haiku/vendor/coreutils/current/man/tty.1
   haiku/vendor/coreutils/current/man/uname.1
   haiku/vendor/coreutils/current/man/unexpand.1
   haiku/vendor/coreutils/current/man/uniq.1
   haiku/vendor/coreutils/current/man/unlink.1
   haiku/vendor/coreutils/current/man/uptime.1
   haiku/vendor/coreutils/current/man/users.1
   haiku/vendor/coreutils/current/man/vdir.1
   haiku/vendor/coreutils/current/man/wc.1
   haiku/vendor/coreutils/current/man/who.1
   haiku/vendor/coreutils/current/man/whoami.1
   haiku/vendor/coreutils/current/man/yes.1
   haiku/vendor/coreutils/current/src/Makefile.am
   haiku/vendor/coreutils/current/src/Makefile.in
   haiku/vendor/coreutils/current/src/base64.c
   haiku/vendor/coreutils/current/src/c99-to-c89.diff
   haiku/vendor/coreutils/current/src/chgrp.c
   haiku/vendor/coreutils/current/src/chmod.c
   haiku/vendor/coreutils/current/src/chown-core.c
   haiku/vendor/coreutils/current/src/chown.c
   haiku/vendor/coreutils/current/src/copy.c
   haiku/vendor/coreutils/current/src/cp.c
   haiku/vendor/coreutils/current/src/csplit.c
   haiku/vendor/coreutils/current/src/cut.c
   haiku/vendor/coreutils/current/src/date.c
   haiku/vendor/coreutils/current/src/dd.c
   haiku/vendor/coreutils/current/src/df.c
   haiku/vendor/coreutils/current/src/dircolors.c
   haiku/vendor/coreutils/current/src/dircolors.h
   haiku/vendor/coreutils/current/src/dircolors.hin
   haiku/vendor/coreutils/current/src/du.c
   haiku/vendor/coreutils/current/src/env.c
   haiku/vendor/coreutils/current/src/expr.c
   haiku/vendor/coreutils/current/src/fmt.c
   haiku/vendor/coreutils/current/src/groups.sh
   haiku/vendor/coreutils/current/src/install.c
   haiku/vendor/coreutils/current/src/join.c
   haiku/vendor/coreutils/current/src/ls.c
   haiku/vendor/coreutils/current/src/mv.c
   haiku/vendor/coreutils/current/src/nl.c
   haiku/vendor/coreutils/current/src/od.c
   haiku/vendor/coreutils/current/src/pr.c
   haiku/vendor/coreutils/current/src/printf.c
   haiku/vendor/coreutils/current/src/readlink.c
   haiku/vendor/coreutils/current/src/remove.c
   haiku/vendor/coreutils/current/src/remove.h
   haiku/vendor/coreutils/current/src/rm.c
   haiku/vendor/coreutils/current/src/shuf.c
   haiku/vendor/coreutils/current/src/sort.c
   haiku/vendor/coreutils/current/src/stat.c
   haiku/vendor/coreutils/current/src/system.h
   haiku/vendor/coreutils/current/src/tail.c
   haiku/vendor/coreutils/current/src/tee.c
   haiku/vendor/coreutils/current/src/uniq.c
Log:
updating coreutils vendor with version 6.9 (with c99-to-c89.diff patch)


Modified: haiku/vendor/coreutils/current/ChangeLog
===================================================================
--- haiku/vendor/coreutils/current/ChangeLog	2007-12-16 17:40:14 UTC (rev 23128)
+++ haiku/vendor/coreutils/current/ChangeLog	2007-12-16 18:08:56 UTC (rev 23129)
@@ -1,3 +1,1098 @@
+2007-03-22  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Version 6.9.
+	* NEWS: Record release date and new version number.
+	* configure.ac (AC_INIT): New version number.
+
+	* tests/mv/hard-3: Correct the preceding change: $3 -&gt; $2.
+
+2007-03-22  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Improve a test script.
+	* tests/mv/hard-3: Check for 'ls' failure, too.
+	Generate more-useful debugging output when 'ls' fails.
+
+2007-03-21  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Fix a test script not to claim an ext2 file system is of type xfs.
+	* tests/du/slink: When using df --local and df --type=TYPE,
+	test only the exit code.  Don't bother with stdout.
+	Prompted by a report by Thomas Schwinge of an inaccurate diagnostic.
+
+	* gl/lib/savewd.c: Remove this file, since the savewd_save change
+	is now in gnulib.  The other wasn't useful.
+
+2007-03-20  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* gl/lib/acl.c: Remove this file, now that gnulib's version subsumes it.
+
+	Skip part of this test when &quot;.&quot; is not a local file system.
+	* tests/install/basic-1: Otherwise, it would fail on some NFS
+	file systems.
+	* tests/mkdir/p-3: Likewise.
+
+2007-03-19  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* src/Makefile.am (dir_LDADD, ls_LDADD, vdir_LDADD):
+	Add $(LIB_ACL_TRIVIAL).
+
+2007-03-18  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Fix a generic NFS-related test failure.
+	* tests/mkdir/p-3: When setting up an unreadable &quot;.&quot; in an
+	inaccessible parent, make the parent inaccessible *after* making &quot;.&quot;
+	unreadable.  Otherwise, running &quot;chmod a-r .&quot; in an already-
+	inaccessible parent would fail on NFS with &quot;Stale NFS file handle&quot;.
+
+	Fix a bug in how pr -m -s works.
+	* NEWS: Describe how the fix affects pr.
+	* src/pr.c (init_parameters): The --merge (-m) option does
+	not imply --expand-tabs (-e), so don't set &quot;untabify_input&quot;.
+	Reported by Wis Macomson.
+	* tests/misc/pr: New file.  Test for the above fix.
+	* tests/misc/Makefile.am (TESTS): Add pr.
+	* THANKS: Update.
+
+2007-03-17  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Detect use of AC_CONFIG_AUX_DIR also when its argument is quoted.
+	* bootstrap: Put &quot;&quot;s around use of $build_aux, in case
+	someone uses a name containing shell meta-characters.
+	Reported by Alfred M. Szmidt.
+	* tests/misc/tty-eof: Add shuf to the list of tested commands.
+
+	Avoid test failure on NFS-mounted Solaris ZFS file system.
+	* tests/du/basic: Skip a test if &quot;.&quot; is on a non-local file system.
+
+	Avoid an obscure build failure, prefer waitpid over wait.
+	* src/install.c (strip): Use waitpid, not wait.  It's equivalent,
+	but feels less obsolescent.
+
+	* bootstrap: Don't use \&gt; in grep regexp.  For HP-UX.
+
+2007-03-16  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Begin adding support for Solaris ZFS (4 entries per trivial ACL)
+	* gl/lib/acl.c (ACL_NOT_WELL_SUPPORTED): New macro.
+	(file_has_acl, copy_acl): Use it, rather than enumerating errno values.
+	(is_trivial_acl): New function.  Incomplete, for now.
+	(file_has_acl, copy_acl): Use the new function, rather than
+	counting the number of entries in an ACL.
+
+	* bootstrap: Update from gnulib.
+
+	* .x-sc_prohibit_atoi_atof: Add TODO here, too.
+
+2007-03-16  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* src/copy.c: Include filemode.h.
+	(overwrite_prompt): Say &quot;try to overwrite&quot;, not &quot;overwrite&quot;, to
+	make it clearer that the attempt may fail.  Problem reported by
+	Dan Jacobson in:
+	<A HREF="http://lists.gnu.org/archive/html/bug-coreutils/2007-03/msg00130.html">http://lists.gnu.org/archive/html/bug-coreutils/2007-03/msg00130.html</A>
+	Output symbolic mode as well as numeric.
+	* tests/mv/i-2 (fail): Adjust to new prompt format.
+
+2007-03-15  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Enforce policy: don't use *scanf functions.
+	* Makefile.maint (sc_prohibit_atoi_atof): Add to regexp and diagnostic.
+	* .x-sc_prohibit_atoi_atof: Give stty a temporary pass.
+	* TODO: note that stty.c needs this small clean-up.
+
+2007-03-13  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Prepare to work on ACL-related failure when using Solaris ZFS.
+	* gl/lib/acl.c: New file, copied from gnulib.
+
+	Work around a failing test due to an NFS-based race condition.
+	* tests/cp/sparse: Accept a report that the copy is *smaller*.
+
+2007-03-12  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Make bootstrap.conf a tiny bit more generic.
+	* bootstrap.conf (XGETTEXT_OPTIONS): Exclude gettext-related .m4
+	files when e.g., AM_GNU_GETTEXT([external] appears in configure.ac.
+
+2007-03-10  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Try to fix today's NFS-related failure: Treat ESTALE like EACCES.
+	* gl/lib/savewd.c: Copy this file from gnulib, then change
+	&quot;errno != EACCES&quot; to (errno != EACCES &amp;&amp; errno != ESTALE).
+	The symptom was this failure in tests/install/basic-1:
+	ginstall: cannot create directory `rel/a': Stale NFS file handle
+
+	The preceding change solved part of the problem.  Now ginstall fails.
+	* tests/install/basic-1: Temporarily, don't redirect ginstall's
+	stderr to /dev/null, so I can see why the NFS autobuilder's NFS test
+	is failing.
+
+	* tests/install/basic-1: When setting up an unreadable &quot;.&quot; in an
+	inaccessible parent, make the parent inaccessible *after* making &quot;.&quot;
+	unreadable.  Otherwise, running &quot;chmod a-r .&quot; in an already-
+	inaccessible parent would fail on NFS with &quot;Stale NFS file handle&quot;.
+	Reported by Bob Proulx.
+
+	* Makefile.maint (po-check): Exclude c99-to-c89.diff.
+
+2007-03-09  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Avoid test failures on Darwin 7.9.0 (MacOS X 10.3.9)
+	* tests/chgrp/basic: Don't let failure by chgrp to set the
+	group of a symlink make this test fail.  Do give a diagnostic.
+	In the chgrp-no-change-ctime test, add darwin7.9.0 as another
+	known-failing system.
+	When failing on some other system, print $host_triplet, too.
+	Also avoid test failures on Darwin 8.8.x (MacOS X 10.4).
+	Reported by Peter Fales.
+
+2007-03-08  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/c99-to-c89.diff: Reflect the new c99'ism, update offsets.
+
+2007-03-08  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	rm without -f: give a better diagnostic when euidaccess fails.
+	* src/remove.c (write_protected_non_symlink): Return int, not bool,
+	so that we can indicate failure too (as a postive error number).
+	(prompt): If write_protected_non_symlink fails, report that error
+	number and fail rather than charging ahead and removing the dubious
+	entry.  Redo the logic of printing a diagnostic so that we need to
+	invoke quote (full_filename (...)) only once.  More details at:
+	&lt;<A HREF="http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9952/focus=9996">http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9952/focus=9996</A>&gt;
+
+2007-03-08  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Generalize a few more cvs-isms.
+	* bootstrap (checkout_only_file): Rename from CVS_only_file.
+	Change comments and diagnostics not to say &quot;CVS&quot;.
+
+	* bootstrap: Run libtool, if necessary.
+
+	Make bootstrap a little more general.
+	* bootstrap (build_aux): Factor out/use this definition.
+	Formally require a &quot;AC_CONFIG_AUX_DIR($build_aux)&quot; line in configure.ac.
+	(insert_sorted_if_absent): Move function definition &quot;up&quot;, to
+	precede new first use.
+	If $build_aux/ doesn't exist initially, create it, and
+	mark it as ignored.
+
+2007-03-03  Andrew Church  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">achurch at achurch.org</A>&gt;  (tiny change)
+	    Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Fix a bug: cp -x would fail to set mount point permissions.
+	* NEWS: mention cp -x bug fix
+	* src/copy.c (copy_internal): Don't return immediately after
+	copying a mount point that we do not intend to recurse under.
+	Based on a patch by Andrew Church.
+
+2007-03-03  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	pwd-unreadable-parent: Skip test on ia64/Linux, too.
+	* tests/misc/pwd-unreadable-parent: Also skip when $REPLACE_GETCWD.
+	Reported by Bob Proulx.
+
+2007-03-02  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	pwd-unreadable-parent: Skip test on non-Linux/GNU systems.
+	* tests/misc/pwd-unreadable-parent: Rather than trying to decide
+	whether this test has a chance of succeeding, run it only when
+	$(host_os) is linux-gnu.  It was failing on powerpc-apple-darwin8.8.0
+	* tests/misc/Makefile.am (TESTS_ENVIRONMENT): Add host_os=$(host_os).
+
+	* tests/misc/pwd-long: Also allow &quot;+&quot; in $PWD.
+
+	Remove another coreutils-ism.  Formatting cleanup.
+	* Makefile.maint (my-distcheck): Update an outdated comment.
+	(emit_upload_commands): Use $(PACKAGE) rather than &quot;coreutils&quot;.
+	(my-distcheck): Skip the c99/c89 check if there's no such .diff file.
+
+2007-03-01  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* Makefile.maint (warn_cflags): Hoist, adding &quot;-Dlint -O&quot;.
+	(my-distcheck): Use the new variable, instead of too-long literal.
+
+	Make &quot;make syntax-check&quot; rules less coreutils-specific.
+	* Makefile.maint (sc_cast_of_x_alloc_return_value): Use CVS_LIST_EXCEPT.
+	(sc_cast_of_alloca_return_value): Likewise.
+	(sc_root_tests): Do nothing if there is no check-root target
+	in tests/Makefile.am.
+
+	Run the writable-files check only for release-building targets.
+	* Makefile.maint (local-checks-available): Remove writable-files.
+	(alpha beta major): Put it here, instead.
+
+	&quot;make syntax-check&quot; now runs only Makefile.cfg-selected tests
+	* Makefile.maint (syntax-check-rules): Hoist this definition so that
+	it precedes the indirect use in the definition of $(local-check).
+	(local-check): Use :=, not just &quot;=&quot;.
+	(syntax-check): Depend on $(local-check), not $(syntax-check-rules).
+
+2007-02-28  Bruno Haible  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bruno at clisp.org</A>&gt;
+
+	* bootstrap.conf (gnulib_modules): Replace xreadlink with
+	xreadlink-with-size. Add xreadlink.
+	* src/copy.c (copy_internal): Update.
+	* src/ls.c (is_directory): Update.
+	* src/stat.c (print_stat): Update.
+	* src/readlink.c (main): Use the one-argument xreadlink function.
+
+2007-02-28  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* doc/coreutils.texi (Common options): --si outputs &quot;M&quot;, not &quot;MB&quot;.
+	Problem reported by Philip Rowlands in
+	&lt;<A HREF="http://lists.gnu.org/archive/html/bug-coreutils/2007-02/msg00283.html">http://lists.gnu.org/archive/html/bug-coreutils/2007-02/msg00283.html</A>&gt;.
+
+2007-02-28  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* .x-sc_file_system: Add the new test, tests/misc/df-P, to this
+	list of exceptions, for the &quot;make distcheck&quot; sc_file_system rule.
+
+	* Makefile.maint (gnulib_snapshot_date): Remove now-unused definition.
+
+2007-02-27  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Make df -P immune to effects of e.g., the BLOCK_SIZE envvar.
+	* NEWS: With -P, the default block size and output format is not
+	affected by DF_BLOCK_SIZE, BLOCK_SIZE, or BLOCKSIZE.
+	* src/df.c (main): Implement this.
+
+2007-02-27  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Add a test for the above.
+	* tests/misc/df-P: New file.
+	* tests/misc/Makefile.am (TESTS): Add df-P.
+
+2007-02-25  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* Makefile.maint (announcement): Adjust so that it works with
+	announce-gen's --gnulib-snapshot-time-stamp option.
+	Indent one of the command lines using TAB, not 8 spaces.
+
+	Post-release version change.
+	* NEWS: Add a line for 6.8+.
+	* configure.ac (AC_INIT): Set new version string.
+
+2007-02-24  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Version 6.8.
+	* NEWS: Record release date and new version number.
+	* configure.ac (AC_INIT): New version number.
+
+	Don't skip this test on new-enough Linux/GNU systems.
+	* tests/misc/pwd-unreadable-parent: Test $REPLACE_GETCWD = 0,
+	rather than for __GETCWD_PREFIX in config.h (the latter is no
+	longer defined, ever, due to gnulib changes).
+	* tests/misc/Makefile.am (TESTS_ENVIRONMENT): Define REPLACE_GETCWD.
+
+	Remove the &quot;gnits&quot; option; it prohibits my using &quot;+&quot; as a version
+	string suffix, and all it does (beyond the default &quot;gnu&quot; option)
+	is to _require_ the THANKS file.
+	* configure.ac (AM_INIT_AUTOMAKE): Remove it.
+
+	Remove all AUTOMAKE_OPTIONS settings in Makefile.am files.
+	* tests/chgrp/Makefile.am, tests/chmod/Makefile.am:
+	* tests/chown/Makefile.am, tests/cp/Makefile.am:
+	* tests/du/Makefile.am, tests/expr/Makefile.am:
+	* tests/factor/Makefile.am, tests/general/Makefile.am:
+	* tests/install/Makefile.am, tests/ln/Makefile.am:
+	* tests/ls/Makefile.am, tests/mkdir/Makefile.am:
+	* tests/mv/Makefile.am, tests/readlink/Makefile.am:
+	* tests/rm/Makefile.am, tests/rmdir/Makefile.am:
+	* tests/seq/Makefile.am, tests/stty/Makefile.am:
+	* tests/tee/Makefile.am, tests/touch/Makefile.am:
+
+	* README: Document the OSF/1 4.0d build failure and work-around.
+	Reported by Bruno Haible.
+
+	* NEWS: Use a simple &quot;+&quot; suffix to denote pre-release, not &quot;-dirty&quot;.
+	Nicer connotations.
+	* configure.ac: Use 6.7+, not 6.7-dirty.
+
+2007-02-24  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* NEWS: sort no longer compresses temporaries by default.
+	* bootstrap.conf: Remove findprog.
+	* doc/coreutils.texi (sort invocation): The default is to not
+	compress.  Don't treat &quot;&quot; specially.
+	* src/sort.c: Don't include findprog.h.
+	(create_temp): Compress only if the user specified --compress-program.
+	* tests/misc/sort-compress: Adjusts tests to match new behavior.
+
+2007-02-24  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Avoid a shell syntax error, when building with an inadequate Perl.
+	* man/Makefile.am (.x.1): Add quotes around $(PERL) in case, since
+	it can expand to &quot;/.../missing perl&quot;.
+
+	* man/Makefile.am (.x.1): Warn when unable to update a man page.
+	Suggestion from Bruno Haible.
+
+2007-02-23  Bruno Haible  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bruno at clisp.org</A>&gt;
+
+	Handle better the combination of old Perl and a pre-c99 compiler.
+	* man/Makefile.am (.x.1): If the autoconf test has determined that
+	perl is missing or not a sufficient version, do nothing.
+
+	* tests/readlink/can-e: Put the closing double-quote at the end of a
+	backquoted word, not in the middle. Works around a bug in sh on
+	OSF/1 4.0d.
+	* tests/readlink/can-f: Likewise.
+	* tests/readlink/can-m: Likewise.
+
+	* tests/du/slink: Skip the test if executing on an nfsv3 file system.
+	This avoids a test failure at least on OSF/1 4.0d.
+
+2007-02-23  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/date.c (usage): Split a diagnostic that had grown to be
+	longer than the C89 maximum of 509 bytes.
+
+2007-02-23  Ed Santiago &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">ed at edsantiago.com</A>&gt;
+
+	* src/date.c (usage): Mention that --rfc-3339 uses space, not 'T',
+	for a separator.  Include sample RFC 2822 and 3339 output.
+
+2007-02-23  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	With -Dlint, make shuf free all heap-allocated storage.
+	* src/shuf.c (main): Move declaration of input_lines to
+	function scope, and initialize to NULL, so we can free it.
+	[lint]: Free all malloc'd memory.
+	* tests/misc/shuf: Also test shuf's -e and -i options.
+
+2007-02-22  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Merge in a change from some other incarnation of this file (gzip?)
+	* bootstrap (gnulib_tool): Skip get_translations if there is no po/ dir.
+
+	Adjust preceding change not to perform an unaligned access.
+	* src/copy.c (copy_reg): Undo previous change.  Instead, make
+	it clearer that we're using a single-byte sentinel, and
+	[lint]: Initialize sizeof (uintptr_t) - 1 bytes after the sentinel.
+	Reported by Andreas Schwab.
+
+	Placate valgrind, wrt ./cp --sparse=always
+	* src/copy.c (copy_reg): Place the sentinel by setting a
+	full word's worth of bits, not just a single byte's worth.
+	This avoids a harmless (but distracting) case of memory being
+	used-uninitialized.
+
+2007-02-21  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Honor dd's noatime flag if possible, even if not supported on build fs
+	* doc/coreutils.texi (dd invocation): Warn that noatime might not be
+	reliable.
+	* src/dd.c (flags, usage): Look at O_NOATIME, not
+	HAVE_WORKING_O_NOATIME, to decide whether to support the noatime
+	flag, so that dd attempts O_NOATIME even if the build file system
+	does not support it.  Problem reported by Jim Meyering today in
+	bug-coreutils.
+	* tests/dd/misc: Generate a warning, not a failure, if noatime
+	exists but fails.
+
+2007-02-21  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* tests/misc/date: Remove vestigial use of Data::Dumper.
+
+2007-02-20  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* src/copy.c (cached_umask): Cast -1 to mode_t to avoid a warning
+	about out-of-range initializer with Sun C 5.8.
+
+2007-02-20  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* bootstrap (CVS_only_file): Use README-hacking.
+
+	Now that we use GIT, not cvs, rename README-cvs.
+	* README-hacking: Renamed from...
+	Update to reflect that we now use git.
+
+	* README-cvs: ...this.
+
+	* src/env.c (main): When invoked with no arguments (i.e. when printing
+	the environment), use a local variable to iterate through the global
+	&quot;environ&quot; array, rather than &quot;environ&quot; itself.  This is solely to
+	avoid changing the environment for an LD_PRELOAD-substituted &quot;puts&quot;
+	or &quot;exit&quot; function.  Tiny patch by Harvey Eneman.  See
+	&lt;<A HREF="http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9735">http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9735</A>&gt;.
+	* THANKS: Update.
+
+	* bootstrap: Move definitions of temporary directory names and the
+	new bt_regex &quot;up&quot; to precede all uses, so it's clearer what their
+	scope is.  Also, use [.], rather than \\., since the former works
+	even if eval'd.
+
+	* bootstrap: Remove occurrences of $bt (._bootmp) from lib/Makefile.
+	Based on the bison 2007-02-19 change by Joel E. Denny.
+
+2007-02-19  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* NEWS: sort now uses a --compress-program option rather than
+	an environment variable.
+	* doc/coreutils.texi (sort invocation): Document this.
+	* src/sort.c (usage): Likewise.
+	(COMPRESS_PROGRAM_OPTION): New const.
+	(long_options, create_temp, main): Support new option.
+	* tests/misc/sort-compress: Test it.
+
+2007-02-19  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* bootstrap: Fix typo s/dowloading/downloading/ in --help output.
+
+2007-02-18  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/system.h: Don't include exit.h, now that it's subsumed
+	by the gnulib-generated stdlib.h.
+
+	* tests/rm/fail-eacces: Skip this test when running as root.
+	Reported by Matthew Woehlke.
+
+	* bootstrap: Use &quot;._bootmp&quot; as the temporary directory name,
+	not &quot;.#bootmp&quot;.  The latter's &quot;#&quot; caused trouble with the new,
+	gnulib-added &quot;LINK_WARNING_H = $(top_srcdir)/.#bootmp/...&quot; line.
+
+2007-02-14  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* bootstrap.conf (gnulib_modules): Add c-strcase.  Remove strcase.
+	* src/dircolors.c: Include c-strcase.h.
+	(dc_parse_stream): Use c_strcasecmp rather than
+	strcasecmp to avoid unreliable results in locales like Turkish
+	where strcasecmp is incompatible with the C locale.
+
+2007-02-13  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Also check for and print stderr output, in case a program fails.
+	* tests/misc/tty-eof: Occasionally (not reproducible), this
+	test would fail, with one or more programs exiting nonzero, e.g.,
+	tty-eof: sha224sum exited with status 1 (expected 0)
+	Now, maybe we'll get a clue, the next time that happens.
+
+2007-02-12  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* .x-sc_useless_cpp_parens: Ignore a false-positive in a shell script.
+
+	* tests/misc/pwd-unreadable-parent: Skip the test if we're
+	definitely using the replacement.
+	* tests/misc/Makefile.am (TESTS_ENVIRONMENT): Define CONFIG_HEADER.
+
+2007-02-10  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Remove excess leading spaces that would make help2man misbehave.
+	* src/printf.c (usage): Remove excess spaces on 2nd line of %b desc.
+	* src/nl.c (usage): Remove excess spaces on 2nd line of pBRE desc.
+	* src/dd.c (usage): Remove excess spaces on 2nd line of sync desc.
+	* src/date.c (usage): Use two spaces after each optional flag, not one.
+	Reported by Thomas Huriaux in &lt;<A HREF="http://bugs.debian.org/410407">http://bugs.debian.org/410407</A>&gt;.
+
+	* Makefile.maint (longopt_re): Relax the regexp, making square
+	brackets optional, so it matches the newly reported violations, too.
+
+	* src/csplit.c (usage): Use two spaces (not one) to separate
+	each option string from its description, so help2man formats
+	the derived man page properly.  Reported by Thomas Huriaux in
+	&lt;<A HREF="http://bugs.debian.org/410407">http://bugs.debian.org/410407</A>&gt;.
+	* src/df.c (usage): Likewise.
+	* src/du.c (usage): Likewise.
+	* src/install.c (usage): Likewise.
+	* src/ls.c (usage): Likewise.
+
+2007-02-03  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Test for today's gnulib/lib/getcwd.c fix affecting pwd and readlink
+	* NEWS: Mention the bug fix.
+	* tests/misc/pwd-unreadable-parent: New file.
+	* tests/misc/Makefile.am (TESTS): Ad pwd-unreadable-parent.
+
+2007-02-02  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* NEWS: Document fix for cp --preserve=mode.
+	* src/copy.c (copy_internal): Omit the group- or other-writeable
+	permissions when creating a directory, to avoid a race condition
+	if the special mode bits aren't right just after the directory is
+	created.
+	* src/cp.c (make_dir_parents_private): Likewise.
+	* tests/cp/parent-perm-race: Test for the &quot;cp --preserve=mode&quot;
+	race fix in copy.c.
+
+	* NEWS: Document fix for cp --parents.
+	* src/cp.c (make_dir_parents_private): Report the error sooner with
+	&quot;cp --parents DIR/FILE DEST&quot; when DIR is a non-directory, thus not
+	creating the directory, DEST/DIR.
+	* tests/cp/cp-parents: Test for the non-race-condition bug fixed
+	by the above change.
+
+2007-02-02  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/nl.c (proc_text): Use &quot;NULL&quot;, not &quot;(struct re_registers *) 0&quot;.
+
+	* src/c99-to-c89.diff: Make shred.c Index: and a/b prefixes
+	consistent, so this can be applied with patch -p0.
+	Reported by Matthew Woehlke.
+
+	* Makefile.maint (patch-check): Use patch with its -p2 option,
+	since that makes this check slightly more strict.
+
+2007-01-29  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Plug a leak in ls.
+	* src/ls.c (print_dir): Don't leak a &quot;DIR&quot;+fd upon failure to
+	determine dev/inode or upon detecting a symlink loop.
+
+	* src/ls.c: Rename three global variables.
+	(cwd_file): Rename from 'files'.
+	(cwd_n_alloc): Rename from 'nfiles'.
+	(cwd_n_used): Rename from 'files_index'.
+
+	Shave 8 bytes off the size of &quot;struct fileinfo&quot;.
+	* src/ls.c (fileinfo): Put all members of type &quot;bool&quot; together.
+
+2007-01-28  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Modify &quot;ls&quot; to sort its data faster, using the new gnulib mpsort
+	module rather than qsort.  This is particularly a win in
+	environments where strcoll is slow, since mpsort typically calls
+	strcoll less often than qsort does.
+	* bootstrap.conf (gnulib_modules): Add mpsort.
+	* src/ls.c: Include mpsort.h.
+	(sorted_file, sorted_file_alloc): New vars, for a new vector of
+	pointers to the file info, for speed.
+	(clear_files, extract_dirs_from_files, sort_files, print_current_files):
+	(print_many_per_line, print_horizontal, print_with_commas):
+	(calculate_columns): Set and use new vector.
+	(initialize_ordering_vector): New function.
+
+2007-01-26  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Adjust to today's change to gnulib, which added a module for
+	string.h to replace the little include files like strcase.h.
+	* src/dircolors.c: Don't include strcase.h.
+	* src/system.h: Don't include mempcpy.h, memrchr.h, stpcpy.h, strpbrk.h.
+
+2007-01-26  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/dd.c (advance_input_after_read_error): Change diagnostic to
+	say &quot;invalid file offset&quot; rather than &quot;screwy file offset&quot;.
+
+	* .x-sc_cast_of_argument_to_free: Remove this file.
+	* Makefile.am (EXTRA_DIST): Likewise.
+
+2007-01-25  Dan Hipschman  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dsh at linux.ucla.edu</A>&gt;
+
+	* src/sort.c (create_temp): Remove superfluous access-X_OK
+	check.  find_in_path does this for us.
+
+2007-01-24  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Remove usually-skipped test.
+	* tests/cp/open-perm-race: Remove this file.  It is subsumed
+	by parent-perm-race.
+	* tests/cp/Makefile.am (TESTS): Remove open-perm-race.
+	* tests/sort/Makefile.am: Regenerate.
+
+	Pass &quot;make distcheck&quot; again.
+	* src/sort.c (usage): Split a diagnostic that had grown to be
+	longer than the C89 maximum of 509 bytes.
+	* .x-sc_cast_of_argument_to_free: New file.  Allow a cast in sort.c.
+	FIXME: this is just temporary, while we wait to remove the offending
+	access-calling code.
+	* Makefile.am (EXTRA_DIST): Add .x-sc_cast_of_argument_to_free.
+	* Makefile.maint (sc_cast_of_argument_to_free): Use the
+	canonical, $$($(CVS_LIST_EXCEPT)).
+	* m4/.gitignore, m4/.cvsignore, lib/.gitignore, lib/.cvsignore: Update.
+
+2007-01-24  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* NEWS: New option sort -C, proposed by XCU ERN 127, which looks
+	like it will be approved.  Also add --check=quiet, --check=silent
+	as long aliases, and --check=diagnose-first as an alias for -c.
+	* doc/coreutils.texi (sort invocation): Document this.
+	Also, mention that sort -c can take at most one file.
+	* src/sort.c: Implement this.
+	Include argmatch.h.
+	(usage): Document the change.
+	(CHECK_OPTION): New constant.
+	(long_options): --check now takes an optional argument, and is now
+	treated differently from 'c'.
+	(check_args, check_types): New constant arrays.
+	(check): New arg CHECKONLY, which suppresses diagnostic if -C.
+	(main): Parse the new options.
+	* tests/sort/Test.pm (02d, 02d, incompat5, incompat6):
+	New tests for -C.
+
+2007-01-24  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Fix a typo.
+	* tests/misc/sort-compress: Use $abs_top_builddir, not $top_builddir.
+	* tests/misc/Makefile.am (TESTS_ENVIRONMENT): Likewise.
+
+	Don't depend on &quot;which&quot;.
+	* tests/misc/sort-compress (SORT): Use $abs_builddir, now which.
+	* tests/misc/Makefile.am (TESTS_ENVIRONMENT): Export top_builddir.
+
+2007-01-24  Dan Hipschman  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dsh at linux.ucla.edu</A>&gt;
+
+	Test sort compression.
+	* tests/misc/Makefile.am: Add the test.
+	* tests/misc/sort-compress: New file containing the tests.
+
+2007-01-24  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* NEWS: sort temp file compression: tweak wording.
+	* src/sort.c (struct sortfile) [name]: Declare member to be const.
+
+2007-01-21  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/sort.c (MAX_FORK_RETRIES_COMPRESS, MAX_FORK_RETRIES_DECOMPRESS):
+	In pipe_fork callers, use these named constants, not &quot;2&quot; and &quot;8&quot;.
+	(proctab, nprocs): Declare to be &quot;static&quot;.
+	(pipe_fork) [lint]: Initialize local, pid,
+	to avoid unwarranted may-be-used-uninitialized warning.
+	(create_temp): Use the active voice.  Describe parameters, too.
+
+2007-01-21  James Youngman  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jay at gnu.org</A>&gt;
+
+	Centralize all the uses of sigprocmask().  Don't restore an invalid
+	saved mask.
+	* src/sort.c (enter_cs, leave_cs): New functions for protecting
+	code sequences against signal delivery.
+	* (exit_cleanup): Use enter_cs and leave_cs instead of
+	calling sigprocmask directly.
+	(create_temp_file, pipe_fork, zaptemp): Likewise
+
+2007-01-21  Dan Hipschman  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dsh at linux.ucla.edu</A>&gt;
+
+	Add compression of temp files to sort.
+	* NEWS: Mention this.
+	* bootstrap.conf: Import findprog.
+	* configure.ac: Add AC_FUNC_FORK.
+	* doc/coreutils.texi: Document GNUSORT_COMPRESSOR environment
+	variable.
+	* src/sort.c (compress_program): New global, holds the name of the
+	external compression program.
+	(struct sortfile): New type used by mergepfs and friends instead
+	of filenames to hold PIDs of compressor processes.
+	(proctab): New global, holds compressor PIDs on which to wait.
+	(enum procstate, struct procnode): New types used by proctab.
+	(proctab_hasher, proctab_comparator): New functions for proctab.
+	(nprocs): New global, number of forked but unreaped children.
+	(reap, reap_some): New function, wait for/cleanup forked processes.
+	(register_proc, update_proc, wait_proc): New functions for adding,
+	modifying and removing proctab entries.
+	(create_temp_file): Change parameter type to pointer to file
+	descriptor, and return type to pointer to struct tempnode.
+	(dup2_or_die): New function used in create_temp and open_temp.
+	(pipe_fork): New function, creates a pipe and child process.
+	(create_temp): Creates a temp file and possibly a compression
+	program to which we filter output.
+	(open_temp): Opens a compressed temp file and creates a
+	decompression process through which to filter the input.
+	(mergefps): Change FILES parameter type to struct sortfile array
+	and update access accordingly.  Use open_temp and reap_some.
+	(avoid_trashing_input, merge): Change FILES parameter like
+	mergefps and call create_temp instead of create_temp_file.
+	(sort): Call create_temp instead of create_temp_file.
+	Use reap_some.
+	(avoid_trashing_input, merge, sort, main): Adapt to mergefps.
+
+	The idea of compressing sorts temporary files was first
+	suggested/implemented by Jay Soffian in 1998, and again
+	by Charles Randall in 2001.
+
+2007-01-20  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* tests/misc/pwd-long: Work properly even when run from the
+	wrong one of two or more bind-mounted sibling directories.
+	Suggestion from Mike Stone in &lt;<A HREF="http://bugs.debian.org/380552">http://bugs.debian.org/380552</A>&gt;.
+
+2007-01-20  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Standardize on list of signals when an app catches signals.
+	* src/csplit.c (main): Also catch SIGALRM, SIGPIPE, SIGPOLL,
+	SIGPROF, SIGVTALRM, SIGXCPU, SIGXFSZ.
+	* src/ls.c (main): Likewise (except SIGPIPE was already caught).
+	Note that ls.c is special, as it also catches SIGTSTP.
+	* src/sort.c (main): Likewise.  Also catch SIGQUIT.  More details in
+	&lt;<A HREF="http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9510">http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9510</A>&gt;.
+
+2007-01-19  Dan Hipschman  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dsh at linux.ucla.edu</A>&gt;
+	and Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* src/sort.c (cleanup): Clear temphead at the end.
+	(exit_cleanup): New function.
+	(main): Don't invoke atexit until we're ready.
+	Invoke it with exit_cleanup, not with cleanup and close_stdout,
+	to avoid a race condition with cleanup and signal handling.  More
+	details: <A HREF="http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9508">http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9508</A>
+
+2007-01-18  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/c99-to-c89.diff: Adjust remove.c offsets.
+
+2007-01-17  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Make &quot;rm --interactive=never ...&quot; never prompt.
+	* NEWS: Mention this.
+	* src/remove.h (enum rm_interactive): New ternary type.
+	(struct rm_options) [interactive]: Use it, here -- rather than bool.
+	* src/remove.c (prompt): Reflect type change.
+	* src/mv.c (rm_option_init): Initialize to RMI_NEVER now.
+	* src/rm.c (main): Add a FIXME comment for '-d' option.
+	Adapt to type change of rm_options.interactive.
+
+	* tests/rm/i-never: New file.  Test for the above fix.
+	* tests/rm/Makefile.am (TESTS): Add i-never.
+
+2007-01-15  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* bootstrap (gnulib_tool): When adding to .cvsignore and .gitignore,
+	emit foo.h, for each foo_.h.  This yields one false-positive, fts.h,
+	but that's ok, since fts_.h will eventually be renamed.
+
+	* src/remove.c (remove_dir): Don't use errno in diagnostic.
+	Root-only test failure reported by Alex van Hout and Jon Grosshart in
+	&lt;<A HREF="http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9415/focus=9415">http://thread.gmane.org/gmane.comp.gnu.coreutils.bugs/9415/focus=9415</A>&gt;.
+
+	* bootstrap.conf (avoided_gnulib_modules): Fix my typo:
+	s/--avoid=canonicalize-lgpl/--avoid=canonicalize-gpl/
+
+2007-01-14  Bruno Haible  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bruno at clisp.org</A>&gt;
+
+	Enable use of gnulib's new fchdir module.
+	* bootstrap.conf (avoided_gnulib_modules): Avoid canonicalize-lgpl,
+	since we use canonicalize.
+	(gnulib_modules): Add fchdir.
+	* m4/jm-macros.m4 (coreutils_MACROS): Remove fchdir-stub.
+
+2007-01-13  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* Transform all Makefile.am files so that when running &quot;make check&quot;,
+	CU_TEST_NAME is set to the name of the test.  This is so that when I
+	run valgrind-enabled (--log-file-qualifier=CU_TEST_NAME) &quot;make check&quot;
+	on the entire package it is more convenient to map a leak or error
+	found in a valgrind log file back to the offending test.
+	Use this command:
+	(echo tests/Makefile.am.in; find tests -name Makefile.am) \
+	 |xargs perl -pi -e '/^(\s*)PATH=...VG_PATH_PREFIX/ and ' \
+	   -e 'print $1,q|CU_TEST_NAME=`basename $(abs_srcdir)`,$$tst |,&quot;\\\n&quot;'
+
+2007-01-11  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Avoid a leak in expr's implementation of the &quot;:&quot; (match) operator.
+	* src/expr.c (docolon): Free the regexp buffer using regfree, rather
+	than doing it manually, being careful to set fastmap to NULL first.
+	Free any re_regs.start and .end members, if necessary.
+
+	* tests/misc/test-diag: Work also when libc's error function
+	reports the entire program name (&quot;../../src/test&quot;), rather than
+	just the final component.
+
+2007-01-10  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Don't use fts_statp uninitialized for &quot;chown -RLh --preserve-root ...&quot;.
+	* src/chown-core.c (FTSENT_IS_DIRECTORY): New macro.
+	(change_file_owner): Perform the ROOT_DEV_INO_CHECK only for a
+	directory.  Non-directory entries lack fts_statp data when using
+	the FTS_NOSTAT option.
+
+2007-01-07  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* tests/sample-test: Update copyright date to 2007.
+	* Makefile.maint (copyright-check): Also check the copyright date
+	in tests/sample-test.
+
+2007-01-06  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* tests/fmt/basic (pfx-only, pfx-of-pfx): New tests,
+	based on examples from G.P. Halkes in
+	&lt;<A HREF="http://article.gmane.org/gmane.comp.gnu.core-utils.bugs/9388">http://article.gmane.org/gmane.comp.gnu.core-utils.bugs/9388</A>&gt;.
+
+2007-01-06  G.P. Halkes  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">buscom at ghalkes.nl</A>&gt;
+
+	* src/fmt.c (copy_rest): Correct prefix handling.
+	Don't elide a line with the prefix followed by only white space.
+	(get_line): Move EOF-check to loop-termination condition.
+	* tests/fmt/basic (pfx-1): Adjust test to expect desired result.
+	(pfx-2): Remove test; its premise was contrary to the documentation.
+
+2007-01-05  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	Avoid a used-uninitialized bug for invalid input, i.e., when the size
+	of the input, not counting newlines, is 1 % 4.
+	* gl/lib/base64.c (base64_decode): Don't hard-code inlen==4.
+	It may be smaller when flushing.
+
+2007-01-05  Mike Frysinger  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">vapier at gentoo.org</A>&gt;
+
+	* src/dircolors.hin: Add a TERM directive for cons25.
+
+2007-01-04  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* Makefile.cfg (local-checks-to-skip): Skip strftime-check, in
+	case you don't have convenient access to glibc info documentation.
+
+	Use the release year, not the current year.
+	* src/groups.sh (version): Use a better name: @<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">RELEASE_YEAR at .</A>
+	* src/Makefile.am (RELEASE_YEAR): Define it.
+	(.sh): Use it.
+	Thanks to a prod from Eric Blake.
+
+	Ensure that &quot;group --version&quot; always prints the current year.
+	* src/groups.sh (version): Use @CURRENT_YEAR@, rather than 2006.
+	* src/Makefile.am (.sh): Also substitute for @<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">CURRENT_YEAR at .</A>
+	Suggestion from Eric Blake.
+
+	When decoding, always allow newlines in input, with almost no
+	performance impact.
+	* src/base64.c (do_decode): Initialize decode context.
+	Call base64_decode one more time, after all input is processed.
+	(usage): When decoding, newlines are always accepted.
+
+	* tests/misc/base64: Add a bunch of tests, for the above.
+	* gl/lib/base64.c: Include &lt;string.h&gt;.
+	(base64_decode_ctx_init, get_4, decode_4): New functions.
+	(base64_decode): Efficiently handle interspersed newlines.
+	(base64_decode_alloc): Update signature.
+	* gl/lib/base64.h (struct base64_decode_context): Define.
+	(base64_decode_ctx_init): Add prototype.
+	(base64_decode, base64_decode_alloc): Update prototypes.
+
+	* gl/lib/base64.c: Copied from gnulib.
+	* gl/lib/base64.h: Likewise.
+
+2007-01-03  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* THANKS: Add Evan Hunt.
+
+2007-01-03  Bruno Haible  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bruno at clisp.org</A>&gt;
+
+	Avoid spurious test failures on MacOS X 10.3.9, in a German locale.
+	* tests/chown/deref: Apply lang-default.
+	* tests/misc/split-a: Likewise.
+	* tests/mv/reply-no: Likewise.
+
+	* src/copy.c (copy_internal): Use mkfifo as a fallback if mknod fails.
+	Needed on MacOS X.
+
+2007-01-02  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Now, &quot;ls -FRL&quot; always follows symbolic links on Linux.
+	* NEWS: Mention this bug fix.
+	* src/ls.c (gobble_file): Fix bug reported by
+	Nobuyuki Tsuchimura in
+	<A HREF="http://lists.gnu.org/archive/html/bug-coreutils/2006-12/msg00152.html">http://lists.gnu.org/archive/html/bug-coreutils/2006-12/msg00152.html</A>
+	where &quot;ls -FRL&quot; didn't follow a symbolic link in some cases on Linux.
+	* tests/ls/follow-slink: Add a test for this case.
+
+2007-01-01  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* tests/rm/fail-eperm: Revert last change.  The PATH=... setting
+	is not honored at least on HP-UX 11.23 systems.
+	Instead, simply transform the actual output diagnostic.
+	Test failure reported by Bob Proulx.
+
+2006-12-30  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* bootstrap (gnulib_extra_files): Remove announce-gen.
+	* bootstrap.conf (gnulib_modules): Add it here instead, now that
+	it's a module.
+
+	* tests/misc/base64: Factor a long, repetitive string.
+
+	* src/c99-to-c89.diff: Adjust remove.c offsets.
+
+	Clean up after the change of 2006-12-28.
+	* src/remove.c (AD_pop_and_chdir): Change **DIRP parameter to *DIRP,
+	now that this function never modifies the pointer.  Adjust comments
+	and code accordingly.
+	(remove_dir): Set &quot;dirp&quot; to NULL right after AD_pop_and_chdir call,
+	now that AD_pop_and_chdir no longer does that.
+
+	* tests/rm/fail-eperm: Avoid spurious differences (the error function
+	from latest glibc no longer prints the full program_name): so don't
+	invoke rm via ../../src/rm.  Instead, invoke it via &quot;PATH=../../src rm&quot;.
+
+	* tests/mv/acl (skip): Skip this test also if the destination
+	directory, which is on a different file system, lacks ACL support.
+
+	* src/copy.c (copy_reg): Rewrite a comment that was rendered
+	inaccurate by the 2006-10-18 change.
+
+2006-12-28  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	When moving &quot;up&quot; the hierarchy, be careful to remove a just-emptied
+	directory before opening &quot;.&quot;, to avoid trouble with file system
+	implementations that cache readdir results at opendir-time.
+	* src/remove.c (AD_pop_and_chdir): Add a file descriptor parameter.
+	Don't update **DIRP.  Don't call fdopendir here.
+	(remove_dir): Call fdopendir here instead.
+	Report and patch from Mikulas Patocka:
+	&lt;<A HREF="http://lists.gnu.org/archive/html/bug-coreutils/2006-12/msg00170.html">http://lists.gnu.org/archive/html/bug-coreutils/2006-12/msg00170.html</A>&gt;
+
+2006-12-27  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* src/tail.c (usage): Mention +N for --bytes and --lines.
+	Suggestion from Evan Hunt.
+
+2006-12-26  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* configure.ac: Require autoconf-2.61 and automake-1.10.
+	Without the former (even with autoconf-2.60), &quot;make distcheck&quot;
+	would fail (without the 2006-09-26 autoconf AC_CHECK_DECL fix),
+	due to an inttypes.h generated with CFLAGS including -pedantic.
+	With the old decl check, @HAVE_DECL_STRTOUMAX@ would be 0.
+
+	* Makefile.maint (VC-tag): Define, so as to gpg-sign each release
+	tag, using the release version number as the message.
+	(vc-dist): Use $(VC-tag), rather than &quot;$(VC) tag&quot;.
+
+2006-12-21  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	* NEWS: dd bs= operands now silently override later ibs= and obs=,
+	as POSIX requires.
+	* src/dd.c (scanargs): Implement it.
+	* tests/dd/misc (outbytes): Test it.
+	* doc/coreutils.texi (dd invocation): Specify that bs=N
+	overrides later ibs and obs, undoing part of the
+	previous change.  (The behavior was wrong.)
+
+2006-12-20  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	&quot;rm -rf /etc/motd&quot; (run by non-root) now prints a diagnostic.
+	* src/remove.c (remove_entry): Handle EACCES for a non-directory, too.
+	Don't let a non-directory get by with errno == EPERM, either.
+	Check the file type directly (using cached stat value), rather
+	than trying to guess it from errno values.
+	Karl Berry reported that a cross-partition &quot;mv /etc/issue ~&quot;
+	failed with the um,... suboptimal diagnostic,
+	&quot;mv: cannot remove `/etc/issue': Not a directory&quot;.
+	* tests/rm/Makefile.am (TESTS): Add fail-eacces.
+	* tests/rm/fail-eacces: New file.
+	* NEWS: Mention that both mv and rm are affected.
+
+	&quot;cut -f 2- A B&quot; no longer triggers a double-free bug
+	* src/cut.c (cut_fields): Set file-scoped global to NULL after
+	freeing it.  This avoids a double-free (and core dump on some systems)
+	for this usage: &quot;echo 1&gt;a; echo 2&gt;b; cut -f2- a b&quot;.  Reported by
+	James Hunt in &lt;<A HREF="http://bugzilla.redhat.com/220312">http://bugzilla.redhat.com/220312</A>&gt;.
+	* NEWS: List this bug fix.
+	* THANKS: Mention him.
+	* tests/misc/cut: New file.
+	* tests/misc/Makefile.am (TESTS): Add cut.
+
+2006-12-15  Jim Meyering  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jim at meyering.net</A>&gt;
+
+	* tests/cp/open-perm-race: Correct the gdb-existence check.
+	Don't run either subsequent gdb command in a sub-shell.
+	Reported by Thomas Schwinge.
+	* THANKS: bring up to date.
+
+2006-12-14  Paul Eggert  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">eggert at cs.ucla.edu</A>&gt;
+
+	Make sure cp -p isn't too generous with file permissions.
+	* tests/cp/Makefile.am (TESTS): Add file-perm-race.
+	* tests/cp/file-perm-race: New file.
+

[... truncated: 67189 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005045.html">[Haiku-commits] r23128 - haiku/trunk/src/bin/coreutils/src
</A></li>
	<LI>Next message: <A HREF="005048.html">[Haiku-commits] r23130 - haiku/vendor/coreutils
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5047">[ date ]</a>
              <a href="thread.html#5047">[ thread ]</a>
              <a href="subject.html#5047">[ subject ]</a>
              <a href="author.html#5047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
