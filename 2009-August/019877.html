<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r32489 - in haiku/trunk/src/add-ons/print/transports: parallel_port serial_port usb_port
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32489%20-%20in%0A%20haiku/trunk/src/add-ons/print/transports%3A%20parallel_port%20serial_port%0A%20usb_port&In-Reply-To=%3C20090824131258.1503.9%40bepc.1251101436.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019554.html">
   <LINK REL="Next"  HREF="019543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r32489 - in haiku/trunk/src/add-ons/print/transports: parallel_port serial_port usb_port</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32489%20-%20in%0A%20haiku/trunk/src/add-ons/print/transports%3A%20parallel_port%20serial_port%0A%20usb_port&In-Reply-To=%3C20090824131258.1503.9%40bepc.1251101436.fake%3E"
       TITLE="[Haiku-commits] r32489 - in haiku/trunk/src/add-ons/print/transports: parallel_port serial_port usb_port">superstippi at gmx.de
       </A><BR>
    <I>Mon Aug 24 13:12:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019554.html">[Haiku-commits] r32489 - in	haiku/trunk/src/add-ons/print/transports: parallel_port	serial_port usb_port
</A></li>
        <LI>Next message: <A HREF="019543.html">[Haiku-commits] r32490 - haiku/trunk/src/preferences/keymap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19877">[ date ]</a>
              <a href="thread.html#19877">[ thread ]</a>
              <a href="subject.html#19877">[ subject ]</a>
              <a href="author.html#19877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2009-08-18 at 20:52:06 [+0200], Michael Pfeiffer 
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">michael.w.pfeiffer at gmail.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> Am 18.08.2009 um 11:22 schrieb Axel D&#246;rfler:
</I>&gt;<i> 
</I>&gt;<i> &gt; Michael Pfeiffer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">michael.w.pfeiffer at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt; For now copied PrintTransportAddOn.cpp from kits/print into each 
</I>&gt;<i> &gt;&gt;&gt; tranport add-on folder and use that instead.
</I>&gt;<i> &gt;&gt; Is there a way to reference the file PrintTransportAddOn.cpp from 
</I>&gt;<i> &gt;&gt; folder .../kits/print?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sure, there are at least 3 possibilities:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1) (after the sources)
</I>&gt;<i> &gt; SEARCH on [ FGristFiles PrintTransportAddOn.cpp ]
</I>&gt;<i> &gt;     = [ FDirName $(HAIKU_TOP) src kits print ] ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2) (before the sources)
</I>&gt;<i> &gt; SEARCH_SOURCE += [ FDirName $(HAIKU_TOP) src kits print ] ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 3) make a static library and include them from both.
</I>&gt;<i> 
</I>&gt;<i> I had (3) before I made the change and it did not work, I think because 
</I>&gt;<i> the library had a dependency to a function defined in the printer 
</I>&gt;<i> transport folder (and not in the other direction), so the linker did not 
</I>&gt;<i> include the symbols from the static library (containing 
</I>&gt;<i> PrinterTransportAddOn.cpp). (PrinterTransportAddOn calls the function 
</I>&gt;<i> instantiate_transport() which is for example defined in 
</I>&gt;<i> ParallelTransport.cpp, SerialTransport.cpp and USBTransport.cpp).
</I>
It sounds a bit like you linked to the static lib in the wrong order. It 
needs to be specified after all objects that need symbols from the static 
lib, or the linker will throw those away already.

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019554.html">[Haiku-commits] r32489 - in	haiku/trunk/src/add-ons/print/transports: parallel_port	serial_port usb_port
</A></li>
	<LI>Next message: <A HREF="019543.html">[Haiku-commits] r32490 - haiku/trunk/src/preferences/keymap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19877">[ date ]</a>
              <a href="thread.html#19877">[ thread ]</a>
              <a href="subject.html#19877">[ subject ]</a>
              <a href="author.html#19877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
