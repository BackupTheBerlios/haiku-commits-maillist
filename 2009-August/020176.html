<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r32829 - in haiku/trunk/headers/build/os: . add-ons	support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32829%20-%20in%20haiku/trunk/headers/build/os%3A%20.%20add-ons%0A%09support&In-Reply-To=%3C200908301232.n7UCW1vJ032532%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020175.html">
   <LINK REL="Next"  HREF="020177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r32829 - in haiku/trunk/headers/build/os: . add-ons	support</H1>
    <B>jackburton at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32829%20-%20in%20haiku/trunk/headers/build/os%3A%20.%20add-ons%0A%09support&In-Reply-To=%3C200908301232.n7UCW1vJ032532%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r32829 - in haiku/trunk/headers/build/os: . add-ons	support">jackburton at mail.berlios.de
       </A><BR>
    <I>Sun Aug 30 14:32:01 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="020175.html">[Haiku-commits] r32828 - in haiku/trunk/src/apps/mediaplayer: .	playlist
</A></li>
        <LI>Next message: <A HREF="020177.html">[Haiku-commits] r32830 - haiku/trunk/src/build/libroot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20176">[ date ]</a>
              <a href="thread.html#20176">[ thread ]</a>
              <a href="subject.html#20176">[ subject ]</a>
              <a href="author.html#20176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jackburton
Date: 2009-08-30 14:31:54 +0200 (Sun, 30 Aug 2009)
New Revision: 32829
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=32829&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=32829&amp;view=rev</A>

Removed:
   haiku/trunk/headers/build/os/AppKit.h
   haiku/trunk/headers/build/os/Be.h
   haiku/trunk/headers/build/os/DeviceKit.h
   haiku/trunk/headers/build/os/InterfaceKit.h
   haiku/trunk/headers/build/os/KernelKit.h
   haiku/trunk/headers/build/os/StorageKit.h
   haiku/trunk/headers/build/os/SupportKit.h
   haiku/trunk/headers/build/os/add-ons/mail_daemon/
   haiku/trunk/headers/build/os/be_apps/
   haiku/trunk/headers/build/os/device/
   haiku/trunk/headers/build/os/support/BufferIO.h
Modified:
   haiku/trunk/headers/build/os/support/Beep.h
   haiku/trunk/headers/build/os/support/ClassInfo.h
   haiku/trunk/headers/build/os/support/UTF8.h
Log:
BUILD module: copied updated headers from the main module, and removed
some unneeded ones, which still had the be copyright. Also removed BufferIO
from the build and deleted the implementation, since it wasn't used.
There are still some more... +alphabranch


Deleted: haiku/trunk/headers/build/os/AppKit.h

Deleted: haiku/trunk/headers/build/os/Be.h

Deleted: haiku/trunk/headers/build/os/DeviceKit.h

Deleted: haiku/trunk/headers/build/os/InterfaceKit.h

Deleted: haiku/trunk/headers/build/os/KernelKit.h

Deleted: haiku/trunk/headers/build/os/StorageKit.h

Deleted: haiku/trunk/headers/build/os/SupportKit.h

Modified: haiku/trunk/headers/build/os/support/Beep.h
===================================================================
--- haiku/trunk/headers/build/os/support/Beep.h	2009-08-30 12:17:33 UTC (rev 32828)
+++ haiku/trunk/headers/build/os/support/Beep.h	2009-08-30 12:31:54 UTC (rev 32829)
@@ -1,29 +1,22 @@
-/******************************************************************************
-/
-/	File:			Beep.h
-/
-/	Description:	System beep function.
-/
-/	Copyright 1993-98, Be Incorporated
-/
-******************************************************************************/
-
+/*
+ * Copyright 2007, Haiku, Inc. All Rights Reserved.
+ * Distributed under the terms of the MIT License.
+ */
 #ifndef _BEEP_H
 #define _BEEP_H
 
+
 #include &lt;BeBuild.h&gt;
 #include &lt;SupportDefs.h&gt;
 
 
-_IMPEXP_BE status_t beep();
-_IMPEXP_BE status_t system_beep(const char * event_name);
+#ifdef __cplusplus
+// These functions are only exported for C++
 
-#if defined(__cplusplus)
-#define _BEEP_FLAGS = 0
-#else
-#define _BEEP_FLAGS
+status_t beep();
+status_t system_beep(const char* eventName);
+status_t add_system_beep_event(const char* eventName, uint32 flags = 0);
+
 #endif
-_IMPEXP_BE status_t add_system_beep_event(const char * event_name, uint32 flags _BEEP_FLAGS);
 
-
-#endif	/* _BEEP_H */
+#endif	// _BEEP_H

Deleted: haiku/trunk/headers/build/os/support/BufferIO.h

Modified: haiku/trunk/headers/build/os/support/ClassInfo.h
===================================================================
--- haiku/trunk/headers/build/os/support/ClassInfo.h	2009-08-30 12:17:33 UTC (rev 32828)
+++ haiku/trunk/headers/build/os/support/ClassInfo.h	2009-08-30 12:31:54 UTC (rev 32829)
@@ -1,38 +1,24 @@
-/******************************************************************************
-/
-/	File:			ClassInfo.h
-/
-/	Description:	C++ class identification and casting macros
-/
-/	Copyright 1993-98, Be Incorporated
-/
-******************************************************************************/
-
+/*
+ * Copyright 2007, Haiku, Inc. All Rights Reserved.
+ * Distributed under the terms of the MIT License.
+ */
 #ifndef _CLASS_INFO_H
 #define _CLASS_INFO_H
 
+
 #include &lt;typeinfo&gt;
 
+
 // deprecated, use standard RTTI calls instead 
+// TODO: maybe get rid of this header completely?
 
-#ifdef USE_OPENBEOS_NAMESPACE
-namespace OpenBeOS {
-#endif
-
-/*-------------------------------------------------------------*/
-/*--------- Class Info Macros ---------------------------------*/
-
-#define class_name(ptr)				((typeid(*(ptr))).name())
-#define cast_as(ptr, class)			(dynamic_cast&lt;class*&gt;(ptr))
-#define is_kind_of(ptr, class)		(cast_as(ptr, class) != 0)
-#define is_instance_of(ptr, class)	(typeid(*(ptr)) == typeid(class))
+#define class_name(object) \
+	((typeid(*(object))).name())
+#define cast_as(object, class) \
+	(dynamic_cast&lt;class*&gt;(object))
+#define is_kind_of(object, class) \
+	(dynamic_cast&lt;class*&gt;(object) != NULL)
+#define is_instance_of(object, class) \
+	(typeid(*(object)) == typeid(class))
 	
-/*-------------------------------------------------------------*/
-/*-------------------------------------------------------------*/
-
-#ifdef USE_OPENBEOS_NAMESPACE
-}	// namespace OpenBeOS
-using namespace OpenBeOS;
-#endif
-
-#endif /* _CLASS_INFO_H */
+#endif // _CLASS_INFO_H

Modified: haiku/trunk/headers/build/os/support/UTF8.h
===================================================================
--- haiku/trunk/headers/build/os/support/UTF8.h	2009-08-30 12:17:33 UTC (rev 32828)
+++ haiku/trunk/headers/build/os/support/UTF8.h	2009-08-30 12:31:54 UTC (rev 32829)
@@ -1,70 +1,59 @@
-/******************************************************************************
-/
-/	File:			UTF8.h
-/
-/	Description:	UTF-8 conversion functions.
-/
-/	Copyright 1993-98, Be Incorporated
-/
-******************************************************************************/
-
-
+/*
+ * Copyright 2007, Haiku, Inc. All Rights Reserved.
+ * Distributed under the terms of the MIT License.
+ */
 #ifndef _UTF8_H
 #define _UTF8_H
 
+
 #include &lt;BeBuild.h&gt;
 #include &lt;InterfaceDefs.h&gt;
 #include &lt;SupportDefs.h&gt;
 
-/*------------------------------------------------------------*/
-/*------- Conversion Flavors ---------------------------------*/
+
+// Conversion Flavors
 enum {
-	B_ISO1_CONVERSION,				/* ISO 8859-1 */
-	B_ISO2_CONVERSION,				/* ISO 8859-2 */
-	B_ISO3_CONVERSION,				/* ISO 8859-3 */
-	B_ISO4_CONVERSION,				/* ISO 8859-4 */
-	B_ISO5_CONVERSION,				/* ISO 8859-5 */
-	B_ISO6_CONVERSION,				/* ISO 8859-6 */
-	B_ISO7_CONVERSION,				/* ISO 8859-7 */
-	B_ISO8_CONVERSION,				/* ISO 8859-8 */
-	B_ISO9_CONVERSION,				/* ISO 8859-9 */
-	B_ISO10_CONVERSION,				/* ISO 8859-10 */
-	B_MAC_ROMAN_CONVERSION,			/* Macintosh Roman */
-	B_SJIS_CONVERSION,				/* Shift-JIS */
-	B_EUC_CONVERSION,				/* EUC Packed Japanese */
-	B_JIS_CONVERSION,				/* JIS X 0208-1990 */
-	B_MS_WINDOWS_CONVERSION,		/* MS-Windows Codepage 1252 */
-	B_UNICODE_CONVERSION,			/* Unicode 2.0 */
-	B_KOI8R_CONVERSION,				/* KOI8-R */
-	B_MS_WINDOWS_1251_CONVERSION,	/* MS-Windows Codepage 1251 */
-	B_MS_DOS_866_CONVERSION,		/* MS-DOS Codepage 866 */
-	B_MS_DOS_CONVERSION,			/* MS-DOS Codepage 437 */
-	B_EUC_KR_CONVERSION,				/* EUC Korean */
-	B_ISO13_CONVERSION,				/* ISO 8859-13 */
-	B_ISO14_CONVERSION,				/* ISO 8859-14 */
-	B_ISO15_CONVERSION,				/* ISO 8859-15 */
+	B_ISO1_CONVERSION,				// ISO 8859-x
+	B_ISO2_CONVERSION,
+	B_ISO3_CONVERSION,
+	B_ISO4_CONVERSION,
+	B_ISO5_CONVERSION,
+	B_ISO6_CONVERSION,
+	B_ISO7_CONVERSION,
+	B_ISO8_CONVERSION,
+	B_ISO9_CONVERSION,
+	B_ISO10_CONVERSION,
+	B_MAC_ROMAN_CONVERSION,			// Macintosh Roman
+	B_SJIS_CONVERSION,				// Shift-JIS
+	B_EUC_CONVERSION,				// EUC Packed Japanese
+	B_JIS_CONVERSION,				// JIS X 0208-1990
+	B_MS_WINDOWS_CONVERSION,		// Windows Latin-1 Codepage 1252
+	B_UNICODE_CONVERSION,			// Unicode 2.0, UCS-2
+	B_KOI8R_CONVERSION,				// KOI8-R
+	B_MS_WINDOWS_1251_CONVERSION,	// Windows Cyrillic Codepage 1251
+	B_MS_DOS_866_CONVERSION,		// MS-DOS Codepage 866
+	B_MS_DOS_CONVERSION,			// MS-DOS Codepage 437
+	B_EUC_KR_CONVERSION,			// EUC Korean
+	B_ISO13_CONVERSION,
+	B_ISO14_CONVERSION,
+	B_ISO15_CONVERSION,
+	B_BIG5_CONVERSION,				// Chinese Big5
+	B_GBK_CONVERSION,				// Chinese GB18030
 };
 
-/*-------------------------------------------------------------*/
-/*------- Conversion Functions --------------------------------*/
 
-_IMPEXP_TEXTENCODING status_t convert_to_utf8(uint32		srcEncoding, 
-						 					  const char	*src, 
-						 					  int32			*srcLen, 
-											  char			*dst, 
-						 					  int32			*dstLen,
-											  int32			*state,
-											  char			substitute = B_SUBSTITUTE);
+// Conversion Functions
 
-_IMPEXP_TEXTENCODING status_t convert_from_utf8(uint32		dstEncoding,
-												const char	*src, 
-												int32		*srcLen, 
-						  						char		*dst, 
-						   						int32		*dstLen,
-												int32		*state,
-												char		substitute = B_SUBSTITUTE);
+#ifdef __cplusplus
 
-/*-------------------------------------------------------------*/
-/*-------------------------------------------------------------*/
+status_t convert_to_utf8(uint32 sourceEncoding, const char* source,
+	int32* sourceLength, char* dest, int32* destLength, int32* state,
+	char substitute = B_SUBSTITUTE);
 
+status_t convert_from_utf8(uint32 destEncoding, const char* source, 
+	int32* sourceLength, char* dest, int32* destLength, int32* state,
+	char substitute = B_SUBSTITUTE);
+
+#endif
+
 #endif	/* _UTF8_H */


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020175.html">[Haiku-commits] r32828 - in haiku/trunk/src/apps/mediaplayer: .	playlist
</A></li>
	<LI>Next message: <A HREF="020177.html">[Haiku-commits] r32830 - haiku/trunk/src/build/libroot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20176">[ date ]</a>
              <a href="thread.html#20176">[ thread ]</a>
              <a href="subject.html#20176">[ subject ]</a>
              <a href="author.html#20176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
