<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r32445 - haiku/trunk/data/common/boot/post_install
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32445%20-%0A%20haiku/trunk/data/common/boot/post_install&In-Reply-To=%3C20090817011350.449.1%40knochen-vm.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019442.html">
   <LINK REL="Next"  HREF="019449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r32445 - haiku/trunk/data/common/boot/post_install</H1>
    <B>Ingo Weinhold</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32445%20-%0A%20haiku/trunk/data/common/boot/post_install&In-Reply-To=%3C20090817011350.449.1%40knochen-vm.localdomain%3E"
       TITLE="[Haiku-commits] r32445 - haiku/trunk/data/common/boot/post_install">ingo_weinhold at gmx.de
       </A><BR>
    <I>Mon Aug 17 01:13:50 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019442.html">[Haiku-commits] r32445 - haiku/trunk/data/common/boot/post_install
</A></li>
        <LI>Next message: <A HREF="019449.html">[Haiku-commits] r32445 -	haiku/trunk/data/common/boot/post_install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19443">[ date ]</a>
              <a href="thread.html#19443">[ thread ]</a>
              <a href="subject.html#19443">[ subject ]</a>
              <a href="author.html#19443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2009-08-16 at 20:00:19 [+0200], Ryan Leavengood &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">leavengood at gmail.com</A>&gt; 
wrote:
&gt;<i> On Sun, Aug 16, 2009 at 1:41 PM, Humdinger&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">humdingerb at googlemail.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The funny thing is, welcome.html has its text/html svn MIME prop 
</I>&gt;<i> &gt; correctly set just as all
</I>&gt;<i> &gt; the other html pages of the user guide. Or isn't that enough to have the 
</I>&gt;<i> &gt; correct MIME type
</I>&gt;<i> &gt; in the built Haiku image?
</I>&gt;<i> 
</I>&gt;<i> I too wonder why we need these MIME setting kludges when we have such
</I>&gt;<i> a capable build system. Is it just something fairly simple that no one
</I>&gt;<i> has done yet?
</I>
For documents copied to the image that should be fairly simple. There's just 
a rule needed that first copies the files to a generated/* location and adds 
the type attribute (probably based on file name extension, unless we want to 
implement full sniffing support in the build system (the SVN MIME type might 
be unaccessable, depending on the actual VCS and host system people are 
using)).

For registering application MIME types with the MIME database things are a 
bit more complicated, since currently the build_haiku_image script creates 
the MIME DB directly from the source directories. We don't really know what 
applications are copied onto the image at that point -- those we build 
ourselves we could know, but the optional packages make it a bit tricky. To 
solve that cleanly we would have to add full mimeset support in the build 
system, so that we can run something anologously to the script we now run on 
the first boot right after building the image. The main problem with this is 
that the image is pretty much opaque to the build system tools, which only 
operate on files in the host system (with some trickery for attribute 
emulation). We would need to add the required commands to the FS shell.

Anyhow that's all quite a bit of work. Being the lazy person I am I'd rather 
suggest to boot the images we publish once in an emulator. :-) The ssh host 
keys shouldn't be generated then, though.

CU, Ingo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019442.html">[Haiku-commits] r32445 - haiku/trunk/data/common/boot/post_install
</A></li>
	<LI>Next message: <A HREF="019449.html">[Haiku-commits] r32445 -	haiku/trunk/data/common/boot/post_install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19443">[ date ]</a>
              <a href="thread.html#19443">[ thread ]</a>
              <a href="subject.html#19443">[ subject ]</a>
              <a href="author.html#19443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
