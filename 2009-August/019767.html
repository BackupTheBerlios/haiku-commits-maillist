<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r32597 - in	haiku/trunk/src/add-ons/media/plugins/ffmpeg: . libavcodec	libavcodec/ppc libavcodec/x86 libavformat libavutil	libavutil/x86 libswscale
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32597%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/ffmpeg%3A%20.%20libavcodec%0A%09libavcodec/ppc%20libavcodec/x86%20libavformat%20libavutil%0A%09libavutil/x86%20libswscale&In-Reply-To=%3C200908221219.n7MCJePl007315%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019765.html">
   <LINK REL="Next"  HREF="019769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r32597 - in	haiku/trunk/src/add-ons/media/plugins/ffmpeg: . libavcodec	libavcodec/ppc libavcodec/x86 libavformat libavutil	libavutil/x86 libswscale</H1>
    <B>korli at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32597%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/ffmpeg%3A%20.%20libavcodec%0A%09libavcodec/ppc%20libavcodec/x86%20libavformat%20libavutil%0A%09libavutil/x86%20libswscale&In-Reply-To=%3C200908221219.n7MCJePl007315%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r32597 - in	haiku/trunk/src/add-ons/media/plugins/ffmpeg: . libavcodec	libavcodec/ppc libavcodec/x86 libavformat libavutil	libavutil/x86 libswscale">korli at mail.berlios.de
       </A><BR>
    <I>Sat Aug 22 14:19:40 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019765.html">[Haiku-commits] r32596 - haiku/trunk/src/kits/media
</A></li>
        <LI>Next message: <A HREF="019769.html">[Haiku-commits] r32597 - in haiku/trunk/src/add-ons/media/plugins/ffmpeg: . libavcodec libavcodec/ppc libavcodec/x86 libavformat libavutil libavutil/x86 libswscale
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19767">[ date ]</a>
              <a href="thread.html#19767">[ thread ]</a>
              <a href="subject.html#19767">[ subject ]</a>
              <a href="author.html#19767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: korli
Date: 2009-08-22 14:16:20 +0200 (Sat, 22 Aug 2009)
New Revision: 32597
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=32597&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=32597&amp;view=rev</A>

Added:
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac_adtstoasc_bsf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aaccoder.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aacenc.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/api-example.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/avpacket.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cga_data.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cga_data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dctref.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dpx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eac3dec_data.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eac3dec_data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eamad.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flac.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flacdata.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flacdata.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/get_bits.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libopencore-amr.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mlpdsp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pcxenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/vp3dsp_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/psymodel.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/psymodel.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/put_bits.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv10enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv20enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/tmv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/v210dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/v210enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/v210x.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vaapi.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vaapi.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vaapi_internal.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vaapi_mpeg2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vaapi_mpeg4.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vaapi_vc1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vc1dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wmaprodata.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wmaprodec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/mlpdsp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/xsubenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/apetag.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/apetag.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avlanguage.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avlanguage.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/id3v1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/id3v1.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/output-example.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/qcp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtmp.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtmppkt.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtmppkt.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtmpproto.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_amr.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_asf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_asf.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_h263.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_vorbis.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_vorbis.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/sox.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/soxdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/soxenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/spdif.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/timefilter.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/timefilter.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/tmv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/vqf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/sha.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/sha.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/softfloat.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/x86/timer.h
Removed:
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/apiexample.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/bitstream.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/fdctref.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/imgconvert_template.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/imgresample.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libamr.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/gcc_fixes.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/imgresample_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/imgresample_altivec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/snow_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qcelp_lsp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/dsputil_mmx_avg.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/dsputil_mmx_qns.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/dsputil_mmx_rnd.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/framehook.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/framehook.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/random.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/random.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/sha1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/string.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/swscale_avoption.c
Modified:
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecDecoder.cpp
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.cpp
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVFormatReader.cpp
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/CodecTable.cpp
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/DemuxerTable.cpp
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/config.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/gfx_util.cpp
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/4xm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8bps.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8svx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/Jamfile
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac_ac3_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac_ac3_parser.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac_parser.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aacdectab.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aacenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aacpsy.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aactab.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aactab.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aasc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3_parser.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3dec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3dec_data.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3dec_data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3tab.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ac3tab.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/acelp_filters.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/acelp_filters.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/acelp_vectors.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/acelp_vectors.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/adpcm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/adxdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/alac.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/alacenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/allcodecs.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/apedec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/asv1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/atrac3.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/atrac3data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/audioconvert.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/audioconvert.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/avcodec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/avs.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/bethsoftvideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/bfi.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/bitstream.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/bmp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/bmpenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/c93.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cabac.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cabac.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cavs.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cavsdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/celp_filters.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/celp_filters.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cinepak.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cljr.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cook.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cscd.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/cyuv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dca.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dct-test.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dnxhddec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dnxhdenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dpcm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dsicinav.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dsputil.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dsputil.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dvbsub_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dvbsubdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dvdata.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dvdsubdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/dxa.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eac3dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eacmv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eatgq.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eatgv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eatqi.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/elbg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/elbg.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/error_resilience.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/escape124.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eval.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/eval.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/faxcompr.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/fft-test.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/fft.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ffv1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flac.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flacdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flacenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flashsv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flashsvenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/flicvideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/fraps.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/g726.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/g729.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/g729data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/g729dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/gif.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/gifdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/golomb.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h261dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h261enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h263.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h263.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h263dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h264.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h264.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h264_mp4toannexb_bsf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h264_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h264enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/h264pred.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/huffman.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/huffman.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/huffyuv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/idcinvideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/iirfilter.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/imc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/imgconvert.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/imgconvert.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/indeo2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/indeo3.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/internal.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/interplayvideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/intrax8.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/intrax8.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/jpeglsdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/jpeglsenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/jrevdct.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/kmvc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/lcldec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/lclenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libdirac.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libdirac_libschro.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libdirac_libschro.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libdiracdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libdiracenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libfaad.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libgsm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libopenjpeg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libschroedinger.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libschroedinger.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libschroedingerdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libschroedingerenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libspeexdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libtheoraenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libvorbis.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/libx264.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ljpegenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/loco.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/lsp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/lsp.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/lzw.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/lzwenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mace.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mathops.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mdct.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mimic.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mjpeg.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mjpeg_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mjpegbdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mjpegdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mjpegdec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mjpegenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mlp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mlp.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mlp_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mlp_parser.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mlpdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mmvideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/motion-test.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/motionpixels.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpc.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpc7.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpc8.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpeg12.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpeg12.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpeg12enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpeg4audio.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpeg4audio.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegaudio.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegaudio_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegaudiodec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegaudiodecheader.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegaudioenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegvideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegvideo.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegvideo_common.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegvideo_enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/mpegvideo_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msmpeg4.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msmpeg4.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msmpeg4data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msrle.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msrledec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msrledec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/msvideo1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/nellymoser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/nellymoserdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/nellymoserenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/nuv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/opt.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/opt.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/options.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pcm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pcx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pixdesc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pixdesc.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pngdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pnm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/pnmenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/check_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/dsputil_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/dsputil_ppc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/dsputil_ppc.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/fdct_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/fft_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/float_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/gmc_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/h264_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/h264_template_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/idct_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/int_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/mathops.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/mpegvideo_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/vc1dsp_altivec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ptx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qcelpdata.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qcelpdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qdm2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qdrw.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qpeg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qtrle.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/qtrleenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ra144.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ra288.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rangecoder.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ratecontrol.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/raw.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rawdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rawenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/resample.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/resample2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rl.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rl2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/roqvideo.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/roqvideodec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/roqvideoenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rpza.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rtjpeg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rtjpeg.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv10.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv30.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv34.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv34.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/rv40.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/sgidec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/sgienc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/shorten.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/simple_idct.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/smacker.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/smc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/snow.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/sonic.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/sp5xdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/sunrast.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/svq1dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/svq1enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/svq3.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/targa.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/tiertexseqv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/tiff.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/tiffenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/truemotion1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/truemotion2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/truespeech.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/tscc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/tta.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/txd.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ulti.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/unary.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/utils.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vb.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vc1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vc1.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vc1_parser.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vc1data.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vc1dsp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vcr1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vdpau.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vmdav.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vmnc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vorbis.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vorbis_dec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vorbis_enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vp3.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vp5.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vp56.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vp56.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vp6.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/vqavideo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/w32thread.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wavpack.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wma.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wma.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wmadec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wmaenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wmv2enc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/wnv1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ws-snd1.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/Jamfile
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/cavsdsp_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/cpuid.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/dsputil_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/dsputil_mmx_rnd_template.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/dsputilenc_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/fft_mmx.nasm
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/fft_sse.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/h264_deblock_sse2.nasm
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/h264_idct_sse2.nasm
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/h264dsp_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/motion_est_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/mpegvideo_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/snowdsp_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/vc1dsp_mmx.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/x86inc.asm
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/x86util.asm
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/xan.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/xl.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/xsubdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/xvmc.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/zmbv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/zmbvenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/Jamfile
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/adtsenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/aiff.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/allformats.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/ape.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/asf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/asf.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/asfdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/asfenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/au.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/audiointerleave.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/audiointerleave.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avformat.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avidec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avienc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avio.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avio.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/aviobuf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/avisynth.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/dv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/dvenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/dxa.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/electronicarts.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/ffmdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/ffmenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/file.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/flacdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/flv.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/flvdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/flvenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/gif.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/gxfenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/http.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/id3v2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/id3v2.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/idroq.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/img2.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/isom.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/isom.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/libnut.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/matroska.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/matroskadec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/matroskaenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mmf.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mov.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/movenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mp3.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpc8.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpeg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpegenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpegts.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpegts.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mpegtsenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mtv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mxfdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/mxfenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/nsvdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/nutdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/nutenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/nuv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggdec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggparseflac.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggparseogm.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggparsespeex.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggparsetheora.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oggparsevorbis.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/oma.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/options.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/os_support.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/pva.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/qtpalette.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/raw.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rdt.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/riff.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/riff.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rm.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rmdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rmenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_aac.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_h264.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtp_mpv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtpdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtpdec.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtpenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtpenc.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtpenc_h264.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtpproto.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtsp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/rtsp.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/sdp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/smacker.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/swf.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/swfdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/swfenc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/tcp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/tta.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/txd.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/udp.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/utils.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/vocdec.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/wav.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/wc3movie.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/westwood.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/wv.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavformat/yuv4mpeg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/Jamfile
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/adler32.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/aes.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/avutil.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/base64.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/base64.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/bswap.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/common.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/crc.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/des.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/fifo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/fifo.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/integer.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/internal.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/intreadwrite.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/lfg.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/lls.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/log.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/lzo.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/mathematics.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/mathematics.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/md5.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/mem.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/pca.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/pixfmt.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/random_seed.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/rational.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/rc4.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/sha1.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/timer.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/tree.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/tree.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavutil/x86_cpu.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/Jamfile
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/rgb2rgb.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/rgb2rgb.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/rgb2rgb_template.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/swscale.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/swscale.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/swscale_internal.h
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/swscale_template.c
   haiku/trunk/src/add-ons/media/plugins/ffmpeg/libswscale/yuv2rgb.c
Log:
* synced with ffmpeg-r19678, keeping gcc2 compiler #ifdef we introduced, build only tested on Haiku gcc2
* activated ac3 audio file format support
* uses format metadata to keep the codec context extra data (now needed for flac)


Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecDecoder.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecDecoder.cpp	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecDecoder.cpp	2009-08-22 12:16:20 UTC (rev 32597)
@@ -279,7 +279,7 @@
 status_t
 AVCodecDecoder::NegotiateOutputFormat(media_format* inOutFormat)
 {
-	TRACE(&quot;AVCodecDecoder::NegotiateOutputFormat()\n&quot;,
+	TRACE(&quot;AVCodecDecoder::NegotiateOutputFormat() [%c] \n&quot;,
 		fIsAudio?('a'):('v'));
 
 #ifdef TRACE_AV_CODEC
@@ -351,6 +351,11 @@
 	fContext-&gt;block_align = fBlockAlign;
 	fContext-&gt;extradata = (uint8_t*)fExtraData;
 	fContext-&gt;extradata_size = fExtraDataSize;
+	
+	if (fInputFormat.MetaDataSize() &gt; 0) {
+		fContext-&gt;extradata = (uint8_t*)fInputFormat.MetaData();
+		fContext-&gt;extradata_size = fInputFormat.MetaDataSize();
+	}
 
 	TRACE(&quot;bit_rate %d, sample_rate %d, channels %d, block_align %d, &quot;
 		&quot;extradata_size %d\n&quot;, fContext-&gt;bit_rate, fContext-&gt;sample_rate,

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.cpp	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.cpp	2009-08-22 12:16:20 UTC (rev 32597)
@@ -52,7 +52,7 @@
 
 	memset(&amp;fInputFormat, 0, sizeof(media_format));
 
-	av_fifo_init(&amp;fAudioFifo, 0);
+	fAudioFifo = av_fifo_alloc(0);
 
 	fDstFrame.data[0] = NULL;
 	fDstFrame.data[1] = NULL;
@@ -80,7 +80,7 @@
 	if (fSwsContext != NULL)
 		sws_freeContext(fSwsContext);
 
-	av_fifo_free(&amp;fAudioFifo);
+	av_fifo_free(fAudioFifo);
 
 	avpicture_free(&amp;fDstFrame);
 	// NOTE: Do not use avpicture_free() on fSrcFrame!! We fill the picture
@@ -465,12 +465,12 @@
 	if (fContext-&gt;frame_size &gt; 1) {
 		// Encoded audio. Things work differently from raw audio. We need
 		// the fAudioFifo to pipe data.
-		if (av_fifo_realloc2(&amp;fAudioFifo,
-				av_fifo_size(&amp;fAudioFifo) + bufferSize) &lt; 0) {
+		if (av_fifo_realloc2(fAudioFifo,
+				av_fifo_size(fAudioFifo) + bufferSize) &lt; 0) {
 			TRACE(&quot;  av_fifo_realloc2() failed\n&quot;);
             return B_NO_MEMORY;
         }
-        av_fifo_generic_write(&amp;fAudioFifo, const_cast&lt;uint8*&gt;(buffer),
+        av_fifo_generic_write(fAudioFifo, const_cast&lt;uint8*&gt;(buffer),
         	bufferSize, NULL);
 
 		int frameBytes = fContext-&gt;frame_size * inputFrameSize;
@@ -479,8 +479,8 @@
 			return B_NO_MEMORY;
 
 		// Encode as many chunks as can be read from the FIFO.
-		while (av_fifo_size(&amp;fAudioFifo) &gt;= frameBytes) {
-			av_fifo_read(&amp;fAudioFifo, tempBuffer, frameBytes);
+		while (av_fifo_size(fAudioFifo) &gt;= frameBytes) {
+			av_fifo_generic_read(fAudioFifo, tempBuffer, frameBytes, NULL);
 
 			ret = _EncodeAudio(tempBuffer, frameBytes, fContext-&gt;frame_size,
 				info);

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.h
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.h	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVCodecEncoder.h	2009-08-22 12:16:20 UTC (rev 32597)
@@ -83,7 +83,7 @@
 			SwsContext*			fSwsContext;
 
 			// For encoded audio:
-			AVFifoBuffer		fAudioFifo;
+			AVFifoBuffer*		fAudioFifo;
 
 			int64				fFramesWritten;
 

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVFormatReader.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVFormatReader.cpp	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/AVFormatReader.cpp	2009-08-22 12:16:20 UTC (rev 32597)
@@ -564,6 +564,7 @@
 	if (codecContext-&gt;extradata_size &gt; 0) {
 		format-&gt;SetMetaData(codecContext-&gt;extradata,
 			codecContext-&gt;extradata_size);
+		TRACE(&quot;  extradata: %p\n&quot;, format-&gt;MetaData());
 	}
 
 	TRACE(&quot;  extradata_size: %d\n&quot;, codecContext-&gt;extradata_size);

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/CodecTable.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/CodecTable.cpp	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/CodecTable.cpp	2009-08-22 12:16:20 UTC (rev 32597)
@@ -52,6 +52,7 @@
 	{CODEC_ID_MPEG4,		B_MEDIA_ENCODED_VIDEO,	B_QUICKTIME_FORMAT_FAMILY,	'v4pm', &quot;MPEG4 Video&quot;},
 	{CODEC_ID_AAC,			B_MEDIA_ENCODED_AUDIO,	B_MISC_FORMAT_FAMILY,	'mp4a', &quot;MPEG4 AAC&quot;},	/* For matroska */
 	{CODEC_ID_AAC,			B_MEDIA_ENCODED_AUDIO,	B_MISC_FORMAT_FAMILY,	'a4pm', &quot;MPEG4 AAC&quot;},	/* For matroska */
+	{CODEC_ID_AC3,			B_MEDIA_ENCODED_AUDIO,	B_WAV_FORMAT_FAMILY,	0x2000, &quot;AC3&quot;},
 
 #ifdef HAS_MACE_AUDIO
 	{CODEC_ID_MACE3,	B_MEDIA_ENCODED_AUDIO,	B_QUICKTIME_FORMAT_FAMILY,	'MAC3', &quot;MACE 3:1&quot;},

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/DemuxerTable.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/DemuxerTable.cpp	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/DemuxerTable.cpp	2009-08-22 12:16:20 UTC (rev 32597)
@@ -81,6 +81,10 @@
 		&quot;vob&quot;, &quot;VOB Movie&quot;, &quot;video/x-vob&quot;,
 		B_MPEG_FORMAT_FAMILY, B_MPEG_FORMAT_FAMILY
 	},
+	{
+		&quot;ac3&quot;, &quot;AC3&quot;, &quot;audio/ac3&quot;,
+		B_WAV_FORMAT_FAMILY, B_ANY_FORMAT_FAMILY
+	},
 };
 
 

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/config.h
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/config.h	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/config.h	2009-08-22 12:16:20 UTC (rev 32597)
@@ -1,16 +1,21 @@
 /* Automatically generated by configure - do not modify! */
 #ifndef FFMPEG_CONFIG_H
 #define FFMPEG_CONFIG_H
-#define FFMPEG_CONFIGURATION &quot;--prefix=/boot/common/ --enable-shared --disable-debug --disable-mmx --disable-demuxer=audio-beos --disable-muxer=audio-beos&quot;
-#define FFMPEG_DATADIR &quot;/boot/common//share/ffmpeg&quot;
+#define FFMPEG_CONFIGURATION &quot;--prefix=/boot/common --enable-shared --disable-debug --disable-mmx --disable-demuxer=audio-beos --disable-muxer=audio-beos&quot;
+#define FFMPEG_DATADIR &quot;/boot/common/share/ffmpeg&quot;
 #define ARCH_ALPHA 0
 #define ARCH_ARM 0
+#define ARCH_AVR32 0
+#define ARCH_AVR32_AP 0
+#define ARCH_AVR32_UC 0
 #define ARCH_BFIN 0
 #define ARCH_IA64 0
 #define ARCH_M68K 0
 #define ARCH_MIPS 0
+#define ARCH_MIPS64 0
 #define ARCH_PARISC 0
 // #define ARCH_PPC 0
+#define ARCH_PPC64 0
 #define ARCH_S390 0
 #define ARCH_SH4 0
 // #define ARCH_SPARC 0
@@ -40,7 +45,9 @@
 #define HAVE_W32THREADS 0
 #define HAVE_ALSA_ASOUNDLIB_H 0
 // #define HAVE_ALTIVEC_H 0
-#define HAVE_ARPA_INET_H 0
+#define HAVE_ARPA_INET_H 1
+#define HAVE_ATTRIBUTE_PACKED 1
+#define HAVE_BIGENDIAN 0
 #define HAVE_BSWAP 1
 #define HAVE_CLOSESOCKET 0
 #define HAVE_CMOV 0
@@ -51,8 +58,8 @@
 #define HAVE_DEV_IC_BT8XX_H 0
 #define HAVE_DEV_VIDEO_METEOR_IOCTL_METEOR_H 0
 #define HAVE_DEV_VIDEO_BKTR_IOCTL_BT848_H 0
-#define HAVE_DLFCN_H 0
-#define HAVE_DLOPEN 0
+#define HAVE_DLFCN_H 1
+#define HAVE_DLOPEN 1
 #define HAVE_DOS_PATHS 0
 // Jamfile must have -fomit_frame_pointer
 #define HAVE_EBP_AVAILABLE 1
@@ -62,18 +69,21 @@
 #define HAVE_FAST_CMOV 0
 #define HAVE_FAST_UNALIGNED 1
 #define HAVE_FORK 1
-#define HAVE_FREETYPE2 0
 #define HAVE_GETHRTIME 0
 #define HAVE_GETPROCESSTIMES 0
 #define HAVE_GETRUSAGE 1
-#define HAVE_IMLIB2 0
 #define HAVE_INET_ATON 0
 #define HAVE_INLINE_ASM 1
+#define HAVE_ISATTY 1
+#define HAVE_LDBRX 0
 #define HAVE_LIBDC1394_1 0
 #define HAVE_LIBDC1394_2 0
 #define HAVE_LLRINT 1
+#define HAVE_LOG2 1
+#define HAVE_LOONGSON 0
 #define HAVE_LRINT 1
 #define HAVE_LRINTF 1
+#define HAVE_LZO1X_999_COMPRESS 0
 #define HAVE_MACHINE_IOCTL_BT848_H 0
 #define HAVE_MACHINE_IOCTL_METEOR_H 0
 #define HAVE_MALLOC_H 1
@@ -81,13 +91,12 @@
 #define HAVE_MKSTEMP 1
 #define HAVE_PLD 0
 #define HAVE_POSIX_MEMALIGN 1
-#define HAVE_PPC64 0
 #define HAVE_ROUND 1
 #define HAVE_ROUNDF 1
 #define HAVE_SDL 0
 #define HAVE_SDL_VIDEO_SIZE 0
 #define HAVE_SETMODE 0
-#define HAVE_SOCKLEN_T 0
+#define HAVE_SOCKLEN_T 1
 #define HAVE_SOUNDCARD_H 0
 #define HAVE_POLL_H 1
 #define HAVE_SYS_MMAN_H 1
@@ -99,13 +108,17 @@
 #define HAVE_TERMIOS_H 1
 #define HAVE_THREADS 1
 #define HAVE_TRUNCF 1
+#define HAVE_VFP_ARGS 0
+#define HAVE_VIRTUALALLOC 0
 #define HAVE_WINSOCK2_H 0
+#define HAVE_XFORM_ASM 0
 #define HAVE_YASM 1
 #define CONFIG_BSFS 1
 #define CONFIG_DECODERS 1
 #define CONFIG_DEMUXERS 1
 #define CONFIG_ENCODERS 1
 #define CONFIG_FILTERS 1
+#define CONFIG_HWACCELS 1
 #define CONFIG_INDEVS 0
 #define CONFIG_MUXERS 1
 #define CONFIG_OUTDEVS 0
@@ -128,8 +141,6 @@
 #define CONFIG_GRAY 0
 #define CONFIG_HARDCODED_TABLES 1
 #define CONFIG_IPV6 0
-#define CONFIG_LIBAMR_NB 0
-#define CONFIG_LIBAMR_WB 0
 #define CONFIG_LIBDC1394 0
 #define CONFIG_LIBDIRAC 0
 #define CONFIG_LIBFAAC 0
@@ -138,6 +149,8 @@
 #define CONFIG_LIBGSM 0
 #define CONFIG_LIBMP3LAME 0
 #define CONFIG_LIBNUT 0
+#define CONFIG_LIBOPENCORE_AMRNB 0
+#define CONFIG_LIBOPENCORE_AMRWB 0
 #define CONFIG_LIBOPENJPEG 0
 #define CONFIG_LIBSCHROEDINGER 0
 #define CONFIG_LIBSPEEX 0
@@ -151,18 +164,22 @@
 #define CONFIG_MPEGAUDIO_HP 1
 #define CONFIG_NETWORK 0
 #define CONFIG_NONFREE 0
+#define CONFIG_PIC 0
 #define CONFIG_POSTPROC 0
 #define CONFIG_POWERPC_PERF 0
 #define CONFIG_RDFT 1
+#define CONFIG_RUNTIME_CPUDETECT 0
 #define CONFIG_SHARED 0
 #define CONFIG_SMALL 0
 #define CONFIG_STATIC 1
-#define CONFIG_SWSCALE 0
+#define CONFIG_SWSCALE_ALPHA 1
+#define CONFIG_VAAPI 0
 #define CONFIG_VDPAU 0
-#define CONFIG_VHOOK 0
+#define CONFIG_VERSION3 0
 #define CONFIG_X11GRAB 0
 #define CONFIG_ZLIB 1
-#define CONFIG_OLDSCALER 1
+#define CONFIG_GPLV3 0
+#define CONFIG_LGPLV3 0
 #define CONFIG_AASC_DECODER 1
 #define CONFIG_AMV_DECODER 1
 #define CONFIG_ASV1_DECODER 1
@@ -172,16 +189,18 @@
 #define CONFIG_BFI_DECODER 1
 #define CONFIG_BMP_DECODER 1
 #define CONFIG_C93_DECODER 1
-#define CONFIG_CAVS_DECODER 0 // TODO: Confirm
+#define CONFIG_CAVS_DECODER 0
 #define CONFIG_CINEPAK_DECODER 1
 #define CONFIG_CLJR_DECODER 1
 #define CONFIG_CSCD_DECODER 1
 #define CONFIG_CYUV_DECODER 1
 #define CONFIG_DNXHD_DECODER 1
+#define CONFIG_DPX_DECODER 0
 #define CONFIG_DSICINVIDEO_DECODER 1
 #define CONFIG_DVVIDEO_DECODER 1
 #define CONFIG_DXA_DECODER 1
 #define CONFIG_EACMV_DECODER 1
+#define CONFIG_EAMAD_DECODER 0
 #define CONFIG_EATGQ_DECODER 1
 #define CONFIG_EATGV_DECODER 1
 #define CONFIG_EATQI_DECODER 1
@@ -230,8 +249,13 @@
 #define CONFIG_MSVIDEO1_DECODER 1
 #define CONFIG_MSZH_DECODER 1
 #define CONFIG_NUV_DECODER 1
+#define CONFIG_PAM_DECODER 0
+#define CONFIG_PBM_DECODER 0
 #define CONFIG_PCX_DECODER 1
+#define CONFIG_PGM_DECODER 0
+#define CONFIG_PGMYUV_DECODER 0
 #define CONFIG_PNG_DECODER 1
+#define CONFIG_PPM_DECODER 0
 #define CONFIG_PTX_DECODER 1
 #define CONFIG_QDRAW_DECODER 1
 #define CONFIG_QPEG_DECODER 1
@@ -247,7 +271,7 @@
 #define CONFIG_SGI_DECODER 1
 #define CONFIG_SMACKER_DECODER 1
 #define CONFIG_SMC_DECODER 1
-#define CONFIG_SNOW_DECODER 0 // TODO: Confirm
+#define CONFIG_SNOW_DECODER 0
 #define CONFIG_SP5X_DECODER 1
 #define CONFIG_SUNRAST_DECODER 1
 #define CONFIG_SVQ1_DECODER 1
@@ -257,13 +281,16 @@
 #define CONFIG_THP_DECODER 1
 #define CONFIG_TIERTEXSEQVIDEO_DECODER 1
 #define CONFIG_TIFF_DECODER 1
+#define CONFIG_TMV_DECODER 0
 #define CONFIG_TRUEMOTION1_DECODER 1
 #define CONFIG_TRUEMOTION2_DECODER 1
 #define CONFIG_TSCC_DECODER 1
 #define CONFIG_TXD_DECODER 1
 #define CONFIG_ULTI_DECODER 1
+#define CONFIG_V210_DECODER 0
+#define CONFIG_V210X_DECODER 0
 #define CONFIG_VB_DECODER 1
-#define CONFIG_VC1_DECODER 1
+#define CONFIG_VC1_DECODER 0
 #define CONFIG_VC1_VDPAU_DECODER 0
 #define CONFIG_VCR1_DECODER 1
 #define CONFIG_VMDVIDEO_DECODER 1
@@ -284,14 +311,14 @@
 #define CONFIG_ZLIB_DECODER 1
 #define CONFIG_ZMBV_DECODER 1
 #define CONFIG_AAC_DECODER 1
-#define CONFIG_AC3_DECODER 0
+#define CONFIG_AC3_DECODER 1
 #define CONFIG_ALAC_DECODER 1
 #define CONFIG_APE_DECODER 1
 #define CONFIG_ATRAC3_DECODER 1
 #define CONFIG_COOK_DECODER 1
 #define CONFIG_DCA_DECODER 1
 #define CONFIG_DSICINAUDIO_DECODER 1
-#define CONFIG_EAC3_DECODER 0
+#define CONFIG_EAC3_DECODER 1
 #define CONFIG_FLAC_DECODER 1
 #define CONFIG_IMC_DECODER 1
 #define CONFIG_MACE3_DECODER 1
@@ -312,6 +339,7 @@
 #define CONFIG_SHORTEN_DECODER 1
 #define CONFIG_SMACKAUD_DECODER 1
 #define CONFIG_SONIC_DECODER 1
+#define CONFIG_TRUEHD_DECODER 1
 #define CONFIG_TRUESPEECH_DECODER 1
 #define CONFIG_TTA_DECODER 1
 #define CONFIG_VMDAUDIO_DECODER 1
@@ -379,12 +407,12 @@
 #define CONFIG_DVBSUB_DECODER 1
 #define CONFIG_DVDSUB_DECODER 1
 #define CONFIG_XSUB_DECODER 1
-#define CONFIG_LIBAMR_NB_DECODER 0
-#define CONFIG_LIBAMR_WB_DECODER 0
 #define CONFIG_LIBDIRAC_DECODER 0
 #define CONFIG_LIBFAAD_DECODER 0
 #define CONFIG_LIBGSM_DECODER 0
 #define CONFIG_LIBGSM_MS_DECODER 0
+#define CONFIG_LIBOPENCORE_AMRNB_DECODER 0
+#define CONFIG_LIBOPENCORE_AMRWB_DECODER 0
 #define CONFIG_LIBOPENJPEG_DECODER 0
 #define CONFIG_LIBSCHROEDINGER_DECODER 0
 #define CONFIG_LIBSPEEX_DECODER 0
@@ -413,6 +441,7 @@
 #define CONFIG_MSMPEG4V3_ENCODER 1
 #define CONFIG_PAM_ENCODER 0
 #define CONFIG_PBM_ENCODER 0
+#define CONFIG_PCX_ENCODER 0
 #define CONFIG_PGM_ENCODER 0
 #define CONFIG_PGMYUV_ENCODER 0
 #define CONFIG_PNG_ENCODER 0
@@ -427,10 +456,12 @@
 #define CONFIG_SVQ1_ENCODER 0
 #define CONFIG_TARGA_ENCODER 0
 #define CONFIG_TIFF_ENCODER 0
+#define CONFIG_V210_ENCODER 0
 #define CONFIG_WMV1_ENCODER 0
 #define CONFIG_WMV2_ENCODER 0
 #define CONFIG_ZLIB_ENCODER 0
 #define CONFIG_ZMBV_ENCODER 0
+#define CONFIG_AAC_ENCODER 0
 #define CONFIG_AC3_ENCODER 1
 #define CONFIG_ALAC_ENCODER 0
 #define CONFIG_FLAC_ENCODER 0
@@ -473,18 +504,23 @@
 #define CONFIG_ADPCM_YAMAHA_ENCODER 0
 #define CONFIG_DVBSUB_ENCODER 0
 #define CONFIG_DVDSUB_ENCODER 0
-#define CONFIG_LIBAMR_NB_ENCODER 0
-#define CONFIG_LIBAMR_WB_ENCODER 0
+#define CONFIG_XSUB_ENCODER 0
 #define CONFIG_LIBDIRAC_ENCODER 0
 #define CONFIG_LIBFAAC_ENCODER 0
 #define CONFIG_LIBGSM_ENCODER 0
 #define CONFIG_LIBGSM_MS_ENCODER 0
 #define CONFIG_LIBMP3LAME_ENCODER 0
+#define CONFIG_LIBOPENCORE_AMRNB_ENCODER 0
 #define CONFIG_LIBSCHROEDINGER_ENCODER 0
 #define CONFIG_LIBTHEORA_ENCODER 0
 #define CONFIG_LIBVORBIS_ENCODER 0
 #define CONFIG_LIBX264_ENCODER 0
 #define CONFIG_LIBXVID_ENCODER 0
+#define CONFIG_H263_VAAPI_HWACCEL 0
+#define CONFIG_MPEG2_VAAPI_HWACCEL 0
+#define CONFIG_MPEG4_VAAPI_HWACCEL 0
+#define CONFIG_VC1_VAAPI_HWACCEL 0
+#define CONFIG_WMV3_VAAPI_HWACCEL 0
 #define CONFIG_AAC_PARSER 1
 #define CONFIG_AC3_PARSER 1
 #define CONFIG_CAVSVIDEO_PARSER 1
@@ -504,6 +540,7 @@
 #define CONFIG_PNM_PARSER 1
 #define CONFIG_VC1_PARSER 1
 #define CONFIG_VP3_PARSER 1
+#define CONFIG_AAC_ADTSTOASC_BSF 1
 #define CONFIG_DUMP_EXTRADATA_BSF 1
 #define CONFIG_H264_MP4TOANNEXB_BSF 1
 #define CONFIG_IMX_DUMP_HEADER_BSF 1
@@ -603,6 +640,7 @@
 #define CONFIG_PCM_U16LE_DEMUXER 1
 #define CONFIG_PCM_U8_DEMUXER 1
 #define CONFIG_PVA_DEMUXER 1
+#define CONFIG_QCP_DEMUXER 0
 #define CONFIG_R3D_DEMUXER 1
 #define CONFIG_RAWVIDEO_DEMUXER 1
 #define CONFIG_REDIR_DEMUXER 0
@@ -617,16 +655,21 @@
 #define CONFIG_SIFF_DEMUXER 1
 #define CONFIG_SMACKER_DEMUXER 1
 #define CONFIG_SOL_DEMUXER 1
+#define CONFIG_SOX_DEMUXER 0
 #define CONFIG_STR_DEMUXER 1
 #define CONFIG_SWF_DEMUXER 1
 #define CONFIG_THP_DEMUXER 1
 #define CONFIG_TIERTEXSEQ_DEMUXER 1
+#define CONFIG_TMV_DEMUXER 0
+#define CONFIG_TRUEHD_DEMUXER 1
 #define CONFIG_TTA_DEMUXER 1
 #define CONFIG_TXD_DEMUXER 1
 #define CONFIG_VC1_DEMUXER 1
 #define CONFIG_VC1T_DEMUXER 1
 #define CONFIG_VMD_DEMUXER 1
 #define CONFIG_VOC_DEMUXER 1
+#define CONFIG_VQF_DEMUXER 0
+#define CONFIG_W64_DEMUXER 1
 #define CONFIG_WAV_DEMUXER 1
 #define CONFIG_WC3_DEMUXER 1
 #define CONFIG_WSAUD_DEMUXER 1
@@ -668,6 +711,7 @@
 #define CONFIG_MATROSKA_MUXER 0
 #define CONFIG_MATROSKA_AUDIO_MUXER 0
 #define CONFIG_MJPEG_MUXER 0
+#define CONFIG_MLP_MUXER 0
 #define CONFIG_MMF_MUXER 0
 #define CONFIG_MOV_MUXER 0
 #define CONFIG_MP2_MUXER 0
@@ -712,9 +756,12 @@
 #define CONFIG_RM_MUXER 0
 #define CONFIG_ROQ_MUXER 0
 #define CONFIG_RTP_MUXER 0
+#define CONFIG_SOX_MUXER 0
+#define CONFIG_SPDIF_MUXER 0
 #define CONFIG_SWF_MUXER 0
 #define CONFIG_TG2_MUXER 0
 #define CONFIG_TGP_MUXER 0
+#define CONFIG_TRUEHD_MUXER 0
 #define CONFIG_VC1T_MUXER 0
 #define CONFIG_VOC_MUXER 0
 #define CONFIG_WAV_MUXER 1
@@ -725,22 +772,24 @@
 #define CONFIG_GOPHER_PROTOCOL 0
 #define CONFIG_HTTP_PROTOCOL 0
 #define CONFIG_PIPE_PROTOCOL 0
+#define CONFIG_RTMP_PROTOCOL 0
 #define CONFIG_RTP_PROTOCOL 0
 #define CONFIG_TCP_PROTOCOL 0
 #define CONFIG_UDP_PROTOCOL 0
-#define CONFIG_ALSA_DEMUXER 0
-#define CONFIG_AUDIO_BEOS_DEMUXER 0
-#define CONFIG_BKTR_DEMUXER 0
-#define CONFIG_DV1394_DEMUXER 0
-#define CONFIG_OSS_DEMUXER 0
-#define CONFIG_V4L2_DEMUXER 0
-#define CONFIG_V4L_DEMUXER 0
-#define CONFIG_VFWCAP_DEMUXER 0
-#define CONFIG_X11_GRAB_DEVICE_DEMUXER 0
-#define CONFIG_LIBDC1394_DEMUXER 0
-#define CONFIG_ALSA_MUXER 0
-#define CONFIG_AUDIO_BEOS_MUXER 0
-#define CONFIG_OSS_MUXER 0
+#define CONFIG_ALSA_INDEV 0
+#define CONFIG_AUDIO_BEOS_INDEV 0
+#define CONFIG_BKTR_INDEV 0
+#define CONFIG_DV1394_INDEV 0
+#define CONFIG_JACK_INDEV 0
+#define CONFIG_OSS_INDEV 0
+#define CONFIG_V4L2_INDEV 0
+#define CONFIG_V4L_INDEV 0
+#define CONFIG_VFWCAP_INDEV 0
+#define CONFIG_X11_GRAB_DEVICE_INDEV 0
+#define CONFIG_LIBDC1394_INDEV 0
+#define CONFIG_ALSA_OUTDEV 0
+#define CONFIG_AUDIO_BEOS_OUTDEV 0
+#define CONFIG_OSS_OUTDEV 0
 #define restrict __restrict__
 #define ASMALIGN(ZEROBITS) &quot;.align 1 &lt;&lt; &quot; #ZEROBITS &quot;\n\t&quot;
 #define EXTERN_PREFIX &quot;&quot;

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/gfx_util.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/gfx_util.cpp	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/gfx_util.cpp	2009-08-22 12:16:20 UTC (rev 32597)
@@ -124,7 +124,7 @@
 				}
 			}
 			
-			if (pixelFormat == PIX_FMT_YUV422) {
+			if (pixelFormat == PIX_FMT_YUYV422) {
 				#if INCLUDE_MMX
 				if (mmx) {
 					TRACE(&quot;resolve_colorspace: PIX_FMT_YUV422 =&gt; B_YCbCr422: gfx_conv_null_mmx\n&quot;);

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/4xm.c
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/4xm.c	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/4xm.c	2009-08-22 12:16:20 UTC (rev 32597)
@@ -27,7 +27,7 @@
 #include &quot;libavutil/intreadwrite.h&quot;
 #include &quot;avcodec.h&quot;
 #include &quot;dsputil.h&quot;
-#include &quot;bitstream.h&quot;
+#include &quot;get_bits.h&quot;
 #include &quot;bytestream.h&quot;
 
 //#undef NDEBUG
@@ -138,7 +138,7 @@
     VLC pre_vlc;
     int last_dc;
     DECLARE_ALIGNED_8(DCTELEM, block[6][64]);
-    uint8_t *bitstream_buffer;
+    void *bitstream_buffer;
     unsigned int bitstream_buffer_size;
     int version;
     CFrameBuffer cfrm[CFRAME_BUFFER_COUNT];
@@ -237,12 +237,15 @@
 }
 
 static av_cold void init_vlcs(FourXContext *f){
+    static VLC_TYPE table[8][32][2];
     int i;
 
     for(i=0; i&lt;8; i++){
+        block_type_vlc[0][i].table= table[i];
+        block_type_vlc[0][i].table_allocated= 32;
         init_vlc(&amp;block_type_vlc[0][i], BLOCK_TYPE_VLC_BITS, 7,
                  &amp;block_type_tab[0][i][0][1], 2, 1,
-                 &amp;block_type_tab[0][i][0][0], 2, 1, 1);
+                 &amp;block_type_tab[0][i][0][0], 2, 1, INIT_VLC_USE_NEW_STATIC);
     }
 }
 
@@ -375,8 +378,10 @@
         return -1;
     }
 
-    f-&gt;bitstream_buffer= av_fast_realloc(f-&gt;bitstream_buffer, &amp;f-&gt;bitstream_buffer_size, bitstream_size + FF_INPUT_BUFFER_PADDING_SIZE);
-    f-&gt;dsp.bswap_buf((uint32_t*)f-&gt;bitstream_buffer, (const uint32_t*)(buf + extra), bitstream_size/4);
+    av_fast_malloc(&amp;f-&gt;bitstream_buffer, &amp;f-&gt;bitstream_buffer_size, bitstream_size + FF_INPUT_BUFFER_PADDING_SIZE);
+    if (!f-&gt;bitstream_buffer)
+        return AVERROR(ENOMEM);
+    f-&gt;dsp.bswap_buf(f-&gt;bitstream_buffer, (const uint32_t*)(buf + extra), bitstream_size/4);
     init_get_bits(&amp;f-&gt;gb, f-&gt;bitstream_buffer, 8*bitstream_size);
 
     f-&gt;wordstream= (const uint16_t*)(buf + extra + bitstream_size);
@@ -653,8 +658,10 @@
 
     prestream_size= length + buf - prestream;
 
-    f-&gt;bitstream_buffer= av_fast_realloc(f-&gt;bitstream_buffer, &amp;f-&gt;bitstream_buffer_size, prestream_size + FF_INPUT_BUFFER_PADDING_SIZE);
-    f-&gt;dsp.bswap_buf((uint32_t*)f-&gt;bitstream_buffer, (const uint32_t*)prestream, prestream_size/4);
+    av_fast_malloc(&amp;f-&gt;bitstream_buffer, &amp;f-&gt;bitstream_buffer_size, prestream_size + FF_INPUT_BUFFER_PADDING_SIZE);
+    if (!f-&gt;bitstream_buffer)
+        return AVERROR(ENOMEM);
+    f-&gt;dsp.bswap_buf(f-&gt;bitstream_buffer, (const uint32_t*)prestream, prestream_size/4);
     init_get_bits(&amp;f-&gt;pre_gb, f-&gt;bitstream_buffer, 8*prestream_size);
 
     f-&gt;last_dc= 0*128*8*8;
@@ -677,8 +684,10 @@
 
 static int decode_frame(AVCodecContext *avctx,
                         void *data, int *data_size,
-                        const uint8_t *buf, int buf_size)
+                        AVPacket *avpkt)
 {
+    const uint8_t *buf = avpkt-&gt;data;
+    int buf_size = avpkt-&gt;size;
     FourXContext * const f = avctx-&gt;priv_data;
     AVFrame *picture = data;
     AVFrame *p, temp;
@@ -836,7 +845,7 @@
     NULL,
     decode_end,
     decode_frame,
-    /*CODEC_CAP_DR1,*/
+    CODEC_CAP_DR1,
     .long_name = NULL_IF_CONFIG_SMALL(&quot;4X Movie&quot;),
 };
 

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8bps.c
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8bps.c	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8bps.c	2009-08-22 12:16:20 UTC (rev 32597)
@@ -58,8 +58,10 @@
  * Decode a frame
  *
  */
-static int decode_frame(AVCodecContext *avctx, void *data, int *data_size, const uint8_t *buf, int buf_size)
+static int decode_frame(AVCodecContext *avctx, void *data, int *data_size, AVPacket *avpkt)
 {
+        const uint8_t *buf = avpkt-&gt;data;
+        int buf_size = avpkt-&gt;size;
         EightBpsContext * const c = avctx-&gt;priv_data;
         const unsigned char *encoded = buf;
         unsigned char *pixptr, *pixptr_end;
@@ -181,7 +183,7 @@
                 case 32:
                         avctx-&gt;pix_fmt = PIX_FMT_RGB32;
                         c-&gt;planes = 4;
-#ifdef WORDS_BIGENDIAN
+#if HAVE_BIGENDIAN
                         c-&gt;planemap[0] = 1; // 1st plane is red
                         c-&gt;planemap[1] = 2; // 2nd plane is green
                         c-&gt;planemap[2] = 3; // 3rd plane is blue

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8svx.c
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8svx.c	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/8svx.c	2009-08-22 12:16:20 UTC (rev 32597)
@@ -42,8 +42,10 @@
 
 /** decode a frame */
 static int eightsvx_decode_frame(AVCodecContext *avctx, void *data, int *data_size,
-                                 const uint8_t *buf, int buf_size)
+                                 AVPacket *avpkt)
 {
+    const uint8_t *buf = avpkt-&gt;data;
+    int buf_size = avpkt-&gt;size;
     EightSvxContext *esc = avctx-&gt;priv_data;
     int16_t *out_data = data;
     int consumed = buf_size;

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/Jamfile	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/Jamfile	2009-08-22 12:16:20 UTC (rev 32597)
@@ -21,14 +21,15 @@
 	8svx.c
 	aac.c
 	aac_ac3_parser.c
+	aac_adtstoasc_bsf.c
 	aac_parser.c
 	aactab.c
 	aandcttab.c
 	aasc.c
 	ac3.c
 	ac3_parser.c
-#	ac3dec.c # GPL
-#	ac3dec_data.c # GPL
+	ac3dec.c
+	ac3dec_data.c
 	ac3enc.c
 	ac3tab.c
 	acelp_filters.c
@@ -42,6 +43,7 @@
 	asv1.c
 	atrac3.c
 	audioconvert.c
+	avpacket.c
 	avs.c
 	beosthread.c
 	bethsoftvideo.c
@@ -80,6 +82,7 @@
 	dvdsubdec.c
 	dxa.c
 	eac3dec.c
+	eac3dec_data.c
 	eacmv.c
 	eaidct.c
 	eatgq.c
@@ -95,6 +98,8 @@
 #	fdctref.c # GPL, only used for DCT test program
 	fft.c
 	ffv1.c
+	flac.c
+	flacdata.c
 	flacdec.c
 	flashsv.c
 	flicvideo.c
@@ -121,7 +126,6 @@
 	idcinvideo.c
 	imc.c
 	imgconvert.c
-	imgresample.c
 	imx_dump_header_bsf.c
 	indeo2.c
 	indeo3.c
@@ -139,7 +143,7 @@
 #	ljpegenc.c
 	loco.c
 	lpc.c
-#	lsp.c
+	lsp.c
 	lzw.c
 #	lzwenc.c
 	mace.c
@@ -155,6 +159,7 @@
 	mlp.c
 	mlp_parser.c
 	mlpdec.c
+	mlpdsp.c
 	mmvideo.c
 	motion_est.c
 	motionpixels.c
@@ -200,7 +205,6 @@
 #	pnmenc.c
 	pthread.c
 	ptx.c
-	qcelp_lsp.c
 	qcelpdec.c
 	qdm2.c
 	qdrw.c
@@ -258,6 +262,7 @@
 	utils.c
 	vb.c
 	vc1.c
+	vc1dec.c
 	vc1_parser.c
 	vc1data.c
 	vc1dsp.c

Modified: haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac.c
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac.c	2009-08-22 09:42:38 UTC (rev 32596)
+++ haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/aac.c	2009-08-22 12:16:20 UTC (rev 32597)
@@ -78,7 +78,7 @@
 
 #include &quot;avcodec.h&quot;
 #include &quot;internal.h&quot;
-#include &quot;bitstream.h&quot;
+#include &quot;get_bits.h&quot;
 #include &quot;dsputil.h&quot;
 #include &quot;lpc.h&quot;
 
@@ -93,10 +93,66 @@
 #include &lt;math.h&gt;
 #include &lt;string.h&gt;
 
+union float754 {
+    float f;
+    uint32_t i;
+};
+
 static VLC vlc_scalefactors;
 static VLC vlc_spectral[11];
 
 
+static ChannelElement *get_che(AACContext *ac, int type, int elem_id)
+{
+    static const int8_t tags_per_config[16] = { 0, 1, 1, 2, 3, 3, 4, 5, 0, 0, 0, 0, 0, 0, 0, 0 };
+    if (ac-&gt;tag_che_map[type][elem_id]) {
+        return ac-&gt;tag_che_map[type][elem_id];
+    }
+    if (ac-&gt;tags_mapped &gt;= tags_per_config[ac-&gt;m4ac.chan_config]) {
+        return NULL;
+    }
+    switch (ac-&gt;m4ac.chan_config) {
+    case 7:
+        if (ac-&gt;tags_mapped == 3 &amp;&amp; type == TYPE_CPE) {
+            ac-&gt;tags_mapped++;
+            return ac-&gt;tag_che_map[TYPE_CPE][elem_id] = ac-&gt;che[TYPE_CPE][2];
+        }
+    case 6:
+        /* Some streams incorrectly code 5.1 audio as SCE[0] CPE[0] CPE[1] SCE[1]
+           instead of SCE[0] CPE[0] CPE[0] LFE[0]. If we seem to have
+           encountered such a stream, transfer the LFE[0] element to SCE[1] */
+        if (ac-&gt;tags_mapped == tags_per_config[ac-&gt;m4ac.chan_config] - 1 &amp;&amp; (type == TYPE_LFE || type == TYPE_SCE)) {
+            ac-&gt;tags_mapped++;
+            return ac-&gt;tag_che_map[type][elem_id] = ac-&gt;che[TYPE_LFE][0];
+        }
+    case 5:
+        if (ac-&gt;tags_mapped == 2 &amp;&amp; type == TYPE_CPE) {
+            ac-&gt;tags_mapped++;
+            return ac-&gt;tag_che_map[TYPE_CPE][elem_id] = ac-&gt;che[TYPE_CPE][1];
+        }
+    case 4:
+        if (ac-&gt;tags_mapped == 2 &amp;&amp; ac-&gt;m4ac.chan_config == 4 &amp;&amp; type == TYPE_SCE) {
+            ac-&gt;tags_mapped++;
+            return ac-&gt;tag_che_map[TYPE_SCE][elem_id] = ac-&gt;che[TYPE_SCE][1];
+        }
+    case 3:
+    case 2:
+        if (ac-&gt;tags_mapped == (ac-&gt;m4ac.chan_config != 2) &amp;&amp; type == TYPE_CPE) {
+            ac-&gt;tags_mapped++;
+            return ac-&gt;tag_che_map[TYPE_CPE][elem_id] = ac-&gt;che[TYPE_CPE][0];
+        } else if (ac-&gt;m4ac.chan_config == 2) {
+            return NULL;
+        }
+    case 1:
+        if (!ac-&gt;tags_mapped &amp;&amp; type == TYPE_SCE) {
+            ac-&gt;tags_mapped++;
+            return ac-&gt;tag_che_map[TYPE_SCE][elem_id] = ac-&gt;che[TYPE_SCE][0];
+        }
+    default:
+        return NULL;
+    }
+}
+
 /**
  * Configure output channel order based on the current program configuration element.
  *
@@ -105,14 +161,14 @@
  *
  * @return  Returns error status. 0 - OK, !0 - error
  */
-static int output_configure(AACContext *ac, enum ChannelPosition che_pos[4][MAX_ELEM_ID],
-        enum ChannelPosition new_che_pos[4][MAX_ELEM_ID]) {
+static int output_configure(AACContext *ac,
+                            enum ChannelPosition che_pos[4][MAX_ELEM_ID],
+                            enum ChannelPosition new_che_pos[4][MAX_ELEM_ID],
+                            int channel_config)
+{
     AVCodecContext *avctx = ac-&gt;avccontext;
     int i, type, channels = 0;
 
-    if(!memcmp(che_pos, new_che_pos, 4 * MAX_ELEM_ID * sizeof(new_che_pos[0][0])))
-        return 0; /* no change */
-
     memcpy(che_pos, new_che_pos, 4 * MAX_ELEM_ID * sizeof(new_che_pos[0][0]));
 
     /* Allocate or free elements depending on if they are in the
@@ -124,14 +180,14 @@
      *    [ Center ] [ Front Left ] [ Front Right ] [ LFE ] [ Surround Left ] [ Surround Right ]
      */
 
-    for(i = 0; i &lt; MAX_ELEM_ID; i++) {
-        for(type = 0; type &lt; 4; type++) {
-            if(che_pos[type][i]) {
-                if(!ac-&gt;che[type][i] &amp;&amp; !(ac-&gt;che[type][i] = av_mallocz(sizeof(ChannelElement))))
+    for (i = 0; i &lt; MAX_ELEM_ID; i++) {
+        for (type = 0; type &lt; 4; type++) {
+            if (che_pos[type][i]) {
+                if (!ac-&gt;che[type][i] &amp;&amp; !(ac-&gt;che[type][i] = av_mallocz(sizeof(ChannelElement))))
                     return AVERROR(ENOMEM);
-                if(type != TYPE_CCE) {
+                if (type != TYPE_CCE) {
                     ac-&gt;output_data[channels++] = ac-&gt;che[type][i]-&gt;ch[0].ret;
-                    if(type == TYPE_CPE) {
+                    if (type == TYPE_CPE) {
                         ac-&gt;output_data[channels++] = ac-&gt;che[type][i]-&gt;ch[1].ret;
                     }
                 }
@@ -140,7 +196,18 @@
         }
     }
 
+    if (channel_config) {
+        memset(ac-&gt;tag_che_map, 0,       4 * MAX_ELEM_ID * sizeof(ac-&gt;che[0][0]));
+        ac-&gt;tags_mapped = 0;
+    } else {
+        memcpy(ac-&gt;tag_che_map, ac-&gt;che, 4 * MAX_ELEM_ID * sizeof(ac-&gt;che[0][0]));
+        ac-&gt;tags_mapped = 4 * MAX_ELEM_ID;
+    }
+
     avctx-&gt;channels = channels;
+
+    ac-&gt;output_configured = 1;
+
     return 0;
 }
 
@@ -152,8 +219,11 @@
  * @param type speaker type/position for these channels
  */
 static void decode_channel_map(enum ChannelPosition *cpe_map,
-        enum ChannelPosition *sce_map, enum ChannelPosition type, GetBitContext * gb, int n) {
-    while(n--) {
+                               enum ChannelPosition *sce_map,
+                               enum ChannelPosition type,
+                               GetBitContext *gb, int n)
+{
+    while (n--) {
         enum ChannelPosition *map = cpe_map &amp;&amp; get_bits1(gb) ? cpe_map : sce_map; // stereo or mono map
         map[get_bits(gb, 4)] = type;
     }
@@ -166,19 +236,17 @@
  *
  * @return  Returns error status. 0 - OK, !0 - error
  */
-static int decode_pce(AACContext * ac, enum ChannelPosition new_che_pos[4][MAX_ELEM_ID],
-        GetBitContext * gb) {
+static int decode_pce(AACContext *ac, enum ChannelPosition new_che_pos[4][MAX_ELEM_ID],
+                      GetBitContext *gb)
+{
     int num_front, num_side, num_back, num_lfe, num_assoc_data, num_cc, sampling_index;
 
     skip_bits(gb, 2);  // object_type
 
     sampling_index = get_bits(gb, 4);
-    if(sampling_index &gt; 12) {
-        av_log(ac-&gt;avccontext, AV_LOG_ERROR, &quot;invalid sampling rate index %d\n&quot;, ac-&gt;m4ac.sampling_index);
-        return -1;
-    }
-    ac-&gt;m4ac.sampling_index = sampling_index;
-    ac-&gt;m4ac.sample_rate = ff_mpeg4audio_sample_rates[ac-&gt;m4ac.sampling_index];
+    if (ac-&gt;m4ac.sampling_index != sampling_index)
+        av_log(ac-&gt;avccontext, AV_LOG_WARNING, &quot;Sample rate index in program config element does not match the sample rate index configured by the container.\n&quot;);
+
     num_front       = get_bits(gb, 4);
     num_side        = get_bits(gb, 4);
     num_back        = get_bits(gb, 4);
@@ -218,10 +286,11 @@
  *
  * @return  Returns error status. 0 - OK, !0 - error
  */
-static int set_default_channel_config(AACContext *ac, enum ChannelPosition new_che_pos[4][MAX_ELEM_ID],
-        int channel_config)
+static int set_default_channel_config(AACContext *ac,
+                                      enum ChannelPosition new_che_pos[4][MAX_ELEM_ID],
+                                      int channel_config)
 {
-    if(channel_config &lt; 1 || channel_config &gt; 7) {
+    if (channel_config &lt; 1 || channel_config &gt; 7) {
         av_log(ac-&gt;avccontext, AV_LOG_ERROR, &quot;invalid default channel configuration (%d)\n&quot;,
                channel_config);
         return -1;
@@ -238,18 +307,18 @@
      * 7ch : front center + L + R + outer front left + outer front right + back stereo + LFE
      */
 
-    if(channel_config != 2)
+    if (channel_config != 2)
         new_che_pos[TYPE_SCE][0] = AAC_CHANNEL_FRONT; // front center (or mono)
-    if(channel_config &gt; 1)
+    if (channel_config &gt; 1)
         new_che_pos[TYPE_CPE][0] = AAC_CHANNEL_FRONT; // L + R (or stereo)
-    if(channel_config == 4)
+    if (channel_config == 4)
         new_che_pos[TYPE_SCE][1] = AAC_CHANNEL_BACK;  // back center
-    if(channel_config &gt; 4)
+    if (channel_config &gt; 4)
         new_che_pos[TYPE_CPE][(channel_config == 7) + 1]
-                                 = AAC_CHANNEL_BACK;  // back stereo
-    if(channel_config &gt; 5)
+        = AAC_CHANNEL_BACK;  // back stereo
+    if (channel_config &gt; 5)
         new_che_pos[TYPE_LFE][0] = AAC_CHANNEL_LFE;   // LFE
-    if(channel_config == 7)
+    if (channel_config == 7)
         new_che_pos[TYPE_CPE][1] = AAC_CHANNEL_FRONT; // outer front left + outer front right
 
     return 0;
@@ -260,12 +329,14 @@
  *
  * @return  Returns error status. 0 - OK, !0 - error
  */
-static int decode_ga_specific_config(AACContext * ac, GetBitContext * gb, int channel_config) {
+static int decode_ga_specific_config(AACContext *ac, GetBitContext *gb,
+                                     int channel_config)
+{
     enum ChannelPosition new_che_pos[4][MAX_ELEM_ID];
     int extension_flag, ret;
 
-    if(get_bits1(gb)) {  // frameLengthFlag
-        ff_log_missing_feature(ac-&gt;avccontext, &quot;960/120 MDCT window is&quot;, 1);
+    if (get_bits1(gb)) { // frameLengthFlag
+        av_log_missing_feature(ac-&gt;avccontext, &quot;960/120 MDCT window is&quot;, 1);
         return -1;
     }

[... truncated: 87793 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019765.html">[Haiku-commits] r32596 - haiku/trunk/src/kits/media
</A></li>
	<LI>Next message: <A HREF="019769.html">[Haiku-commits] r32597 - in haiku/trunk/src/add-ons/media/plugins/ffmpeg: . libavcodec libavcodec/ppc libavcodec/x86 libavformat libavutil libavutil/x86 libswscale
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19767">[ date ]</a>
              <a href="thread.html#19767">[ thread ]</a>
              <a href="subject.html#19767">[ subject ]</a>
              <a href="author.html#19767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
