<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r32540 - haiku/trunk/src/add-ons/accelerants/common
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32540%20-%20haiku/trunk/src/add-ons/accelerants/common&In-Reply-To=%3C200908201641.n7KGffd5025827%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019627.html">
   <LINK REL="Next"  HREF="019634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r32540 - haiku/trunk/src/add-ons/accelerants/common</H1>
    <B>rudolfc at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r32540%20-%20haiku/trunk/src/add-ons/accelerants/common&In-Reply-To=%3C200908201641.n7KGffd5025827%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r32540 - haiku/trunk/src/add-ons/accelerants/common">rudolfc at mail.berlios.de
       </A><BR>
    <I>Thu Aug 20 18:41:41 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="019627.html">[Haiku-commits] r32539 -	haiku/trunk/src/add-ons/accelerants/nvidia/engine
</A></li>
        <LI>Next message: <A HREF="019634.html">[Haiku-commits] r32541 - in haiku/trunk/src: kits/interface	servers/app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19629">[ date ]</a>
              <a href="thread.html#19629">[ thread ]</a>
              <a href="subject.html#19629">[ subject ]</a>
              <a href="author.html#19629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: rudolfc
Date: 2009-08-20 18:41:39 +0200 (Thu, 20 Aug 2009)
New Revision: 32540
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=32540&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=32540&amp;view=rev</A>

Modified:
   haiku/trunk/src/add-ons/accelerants/common/i2c.c
Log:
modified the 100kHz timing inside the DDC common accelerant code. If delays with values near the timer resolution are required, the values should always have one resolution step added since otherwise the minimum delay isn't quaranteed. the 400khz timing needs fixing as well I guess... This modification fixes at least ticket #4084 where a DDC monitor isn't detected otherwise.

Modified: haiku/trunk/src/add-ons/accelerants/common/i2c.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/common/i2c.c	2009-08-20 16:33:33 UTC (rev 32539)
+++ haiku/trunk/src/add-ons/accelerants/common/i2c.c	2009-08-20 16:41:39 UTC (rev 32540)
@@ -33,10 +33,10 @@
 	.low = 5,
 	.high = 4,
 	.su_sta = 5,
-	.hd_dat = 0,
-	.su_dat = 1,
-	.r = 1,
-	.f = 1,
+	.hd_dat = 1,
+	.su_dat = 2,
+	.r = 2,
+	.f = 2,
 	.su_sto = 4,
 	
 	// as these are unspecified, we use half a clock cycle as a safe guess


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019627.html">[Haiku-commits] r32539 -	haiku/trunk/src/add-ons/accelerants/nvidia/engine
</A></li>
	<LI>Next message: <A HREF="019634.html">[Haiku-commits] r32541 - in haiku/trunk/src: kits/interface	servers/app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19629">[ date ]</a>
              <a href="thread.html#19629">[ thread ]</a>
              <a href="subject.html#19629">[ subject ]</a>
              <a href="author.html#19629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
