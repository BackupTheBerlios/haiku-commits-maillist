<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r20714 - in haiku/trunk: headers/private/net	src/add-ons/kernel/network/protocols/ipv4	src/add-ons/kernel/network/protocols/udp	src/add-ons/kernel/network/stack
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20714%20-%20in%20haiku/trunk%3A%20headers/private/net%0A%09src/add-ons/kernel/network/protocols/ipv4%0A%09src/add-ons/kernel/network/protocols/udp%0A%09src/add-ons/kernel/network/stack&In-Reply-To=%3C9c46321e0704160602h33feca26r2e9471cb7d2f3548%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001635.html">
   <LINK REL="Next"  HREF="001648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r20714 - in haiku/trunk: headers/private/net	src/add-ons/kernel/network/protocols/ipv4	src/add-ons/kernel/network/protocols/udp	src/add-ons/kernel/network/stack</H1>
    <B>Hugo Santos</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20714%20-%20in%20haiku/trunk%3A%20headers/private/net%0A%09src/add-ons/kernel/network/protocols/ipv4%0A%09src/add-ons/kernel/network/protocols/udp%0A%09src/add-ons/kernel/network/stack&In-Reply-To=%3C9c46321e0704160602h33feca26r2e9471cb7d2f3548%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r20714 - in haiku/trunk: headers/private/net	src/add-ons/kernel/network/protocols/ipv4	src/add-ons/kernel/network/protocols/udp	src/add-ons/kernel/network/stack">hugosantos at gmail.com
       </A><BR>
    <I>Mon Apr 16 15:02:26 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001635.html">[Haiku-commits] r20714 - in haiku/trunk: headers/private/net src/add-ons/kernel/network/protocols/ipv4 src/add-ons/kernel/network/protocols/udp src/add-ons/kernel/network/stack
</A></li>
        <LI>Next message: <A HREF="001648.html">[Haiku-commits] r20714 - in haiku/trunk: headers/private/net src/add-ons/kernel/network/protocols/ipv4 src/add-ons/kernel/network/protocols/udp src/add-ons/kernel/network/stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1643">[ date ]</a>
              <a href="thread.html#1643">[ thread ]</a>
              <a href="subject.html#1643">[ subject ]</a>
              <a href="author.html#1643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Axel,

  Because this is a common operation for all datagram sockets (i.e.
unbound). I would rather have this route and source address selection
in one place than changing N places when we decide that something
different or new stuff should be done in this step. It seems more
cleaner to me to not repeat code and keep this functionality in one
place. :-)

  Hugo

On 4/16/07, Axel D&#246;rfler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de</A>&gt; wrote:
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">hugosantos at mail.berlios.de</A> wrote:
</I>&gt;<i> &gt; +     net_route *route = NULL;
</I>&gt;<i> &gt; +     status_t status = get_buffer_route(domain, buffer, &amp;route);
</I>&gt;<i> &gt; +     if (status &lt; B_OK)
</I>&gt;<i> &gt; +             return status;
</I>&gt;<i> &gt; +
</I>&gt;<i> &gt; +     status = module-&gt;send_routed_data(protocol, route, buffer);
</I>&gt;<i> &gt; +     put_route(domain, route);
</I>&gt;<i> &gt; +     return status;
</I>&gt;<i>
</I>&gt;<i> I still don't understand why UdpEndpoint::SendData() shouldn't look
</I>&gt;<i> like this.
</I>&gt;<i> It's far from complicated and looks a lot cleaner to me.
</I>&gt;<i>
</I>&gt;<i> Bye,
</I>&gt;<i>    Axel.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Haiku-commits mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">Haiku-commits at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">https://lists.berlios.de/mailman/listinfo/haiku-commits</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001635.html">[Haiku-commits] r20714 - in haiku/trunk: headers/private/net src/add-ons/kernel/network/protocols/ipv4 src/add-ons/kernel/network/protocols/udp src/add-ons/kernel/network/stack
</A></li>
	<LI>Next message: <A HREF="001648.html">[Haiku-commits] r20714 - in haiku/trunk: headers/private/net src/add-ons/kernel/network/protocols/ipv4 src/add-ons/kernel/network/protocols/udp src/add-ons/kernel/network/stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1643">[ date ]</a>
              <a href="thread.html#1643">[ thread ]</a>
              <a href="subject.html#1643">[ subject ]</a>
              <a href="author.html#1643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
