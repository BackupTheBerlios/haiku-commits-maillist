<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r25873 - in haiku/trunk/src/add-ons/accelerants: .	nvidia_gpgpu nvidia_gpgpu/engine
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25873%20-%20in%20haiku/trunk/src/add-ons/accelerants%3A%20.%0A%09nvidia_gpgpu%20nvidia_gpgpu/engine&In-Reply-To=%3C200806091437.m59Eb6dk031089%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009461.html">
   <LINK REL="Next"  HREF="009463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r25873 - in haiku/trunk/src/add-ons/accelerants: .	nvidia_gpgpu nvidia_gpgpu/engine</H1>
    <B>rudolfc at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25873%20-%20in%20haiku/trunk/src/add-ons/accelerants%3A%20.%0A%09nvidia_gpgpu%20nvidia_gpgpu/engine&In-Reply-To=%3C200806091437.m59Eb6dk031089%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r25873 - in haiku/trunk/src/add-ons/accelerants: .	nvidia_gpgpu nvidia_gpgpu/engine">rudolfc at mail.berlios.de
       </A><BR>
    <I>Mon Jun  9 16:37:06 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009461.html">[Haiku-commits] r25872 - haiku/trunk/src/apps/mail
</A></li>
        <LI>Next message: <A HREF="009463.html">[Haiku-commits] r25873 - in	haiku/trunk/src/add-ons/accelerants: . nvidia_gpgpu	nvidia_gpgpu/engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9462">[ date ]</a>
              <a href="thread.html#9462">[ thread ]</a>
              <a href="subject.html#9462">[ subject ]</a>
              <a href="author.html#9462">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: rudolfc
Date: 2008-06-09 16:37:03 +0200 (Mon, 09 Jun 2008)
New Revision: 25873
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=25873&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=25873&amp;view=rev</A>

Added:
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/
Modified:
   haiku/trunk/src/add-ons/accelerants/Jamfile
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/GetAccelerantHook.c
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/InitAccelerant.c
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/Jamfile
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/SetDisplayMode.c
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/Jamfile
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_acc.c
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_acc_dma.c
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_general.c
   haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_proto.h
Log:
copied nvidia driver over to nvidia_gpgpu driver. Does nothing but compile. I hope to be fidding around with a EN8500GT soon. If for some reason I shouldn't be creating these folders, feel free to remove it again, and let me know :)

Modified: haiku/trunk/src/add-ons/accelerants/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/accelerants/Jamfile	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/Jamfile	2008-06-09 14:37:03 UTC (rev 25873)
@@ -5,6 +5,7 @@
 SubInclude HAIKU_TOP src add-ons accelerants intel_extreme ;
 SubInclude HAIKU_TOP src add-ons accelerants matrox ;
 SubInclude HAIKU_TOP src add-ons accelerants neomagic ;
+SubInclude HAIKU_TOP src add-ons accelerants nvidia_gpgpu ;
 SubInclude HAIKU_TOP src add-ons accelerants nvidia ;
 SubInclude HAIKU_TOP src add-ons accelerants radeon ;
 SubInclude HAIKU_TOP src add-ons accelerants s3 ;

Copied: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu (from rev 25872, haiku/trunk/src/add-ons/accelerants/nvidia)

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/GetAccelerantHook.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/GetAccelerantHook.c	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/GetAccelerantHook.c	2008-06-09 14:37:03 UTC (rev 25873)
@@ -4,7 +4,7 @@
 	
 	Other authors:
 	Mark Watson,
-	Rudolf Cornelissen 10/2002-1/2006
+	Rudolf Cornelissen 10/2002-6/2008
 */
 
 #define MODULE_BIT 0x08000000
@@ -74,9 +74,9 @@
 		HOOK(SET_DPMS_MODE);
 
 		/* cursor managment */
-		HRDC(SET_CURSOR_SHAPE);
-		HRDC(MOVE_CURSOR);
-		HRDC(SHOW_CURSOR);
+		//HRDC(SET_CURSOR_SHAPE);
+		//HRDC(MOVE_CURSOR);
+		//HRDC(SHOW_CURSOR);
 
 		/* synchronization */
 		HOOK(ACCELERANT_ENGINE_COUNT);
@@ -94,15 +94,15 @@
 		*/
 
 		/* only export video overlay functions if card is capable of it */
-		CHKO(OVERLAY_COUNT);
-		CHKO(OVERLAY_SUPPORTED_SPACES);
-		CHKO(OVERLAY_SUPPORTED_FEATURES);
-		CHKO(ALLOCATE_OVERLAY_BUFFER);
-		CHKO(RELEASE_OVERLAY_BUFFER);
-		CHKO(GET_OVERLAY_CONSTRAINTS);
-		CHKO(ALLOCATE_OVERLAY);
-		CHKO(RELEASE_OVERLAY);
-		CHKO(CONFIGURE_OVERLAY);
+		//CHKO(OVERLAY_COUNT);
+		//CHKO(OVERLAY_SUPPORTED_SPACES);
+		//CHKO(OVERLAY_SUPPORTED_FEATURES);
+		//CHKO(ALLOCATE_OVERLAY_BUFFER);
+		//CHKO(RELEASE_OVERLAY_BUFFER);
+		//CHKO(GET_OVERLAY_CONSTRAINTS);
+		//CHKO(ALLOCATE_OVERLAY);
+		//CHKO(RELEASE_OVERLAY);
+		//CHKO(CONFIGURE_OVERLAY);
 
 		/*
 		When requesting an acceleration hook, the calling application provides a
@@ -116,14 +116,14 @@
 
 		/* only export 2D acceleration functions in modes that are capable of it */
 		/* used by the app_server and applications (BWindowScreen) */
-		CHKA(SCREEN_TO_SCREEN_BLIT);
-		CHKA(FILL_RECTANGLE);
-		CHKA(INVERT_RECTANGLE);
-		CHKA(FILL_SPAN);
+		//CHKA(SCREEN_TO_SCREEN_BLIT);
+		//CHKA(FILL_RECTANGLE);
+		//CHKA(INVERT_RECTANGLE);
+		//CHKA(FILL_SPAN);
 		/* not (yet) used by the app_server:
 		 * so just for application use (BWindowScreen) */
 //		CHKA(SCREEN_TO_SCREEN_TRANSPARENT_BLIT);
-		CHKA(SCREEN_TO_SCREEN_SCALED_FILTERED_BLIT);
+		//CHKA(SCREEN_TO_SCREEN_SCALED_FILTERED_BLIT);
 	}
 
 	/* Return a null pointer for any feature we don't understand. */

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/InitAccelerant.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/InitAccelerant.c	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/InitAccelerant.c	2008-06-09 14:37:03 UTC (rev 25873)
@@ -38,10 +38,10 @@
 			goto error0;
 	}
 	// LOG is now available, si !NULL
-	LOG(4,(&quot;init_common: logmask 0x%08x, memory %dMB, hardcursor %d, usebios %d, switchhead %d, force_pci %d\n&quot;,
-		si-&gt;settings.logmask, si-&gt;settings.memory, si-&gt;settings.hardcursor, si-&gt;settings.usebios, si-&gt;settings.switchhead, si-&gt;settings.force_pci));
-	LOG(4,(&quot;init_common: dumprom %d, unhide_fw %d, pgm_panel %d, dma_acc %d, tv_output %d, vga_on_tv %d\n&quot;,
-		si-&gt;settings.dumprom, si-&gt;settings.unhide_fw, si-&gt;settings.pgm_panel, si-&gt;settings.dma_acc, si-&gt;settings.tv_output, si-&gt;settings.vga_on_tv));
+	LOG(4,(&quot;init_common: logmask 0x%08x, memory %dMB, hardcursor %d, usebios %d, switchhead %d\n&quot;,
+		si-&gt;settings.logmask, si-&gt;settings.memory, si-&gt;settings.hardcursor, si-&gt;settings.usebios, si-&gt;settings.switchhead));
+	LOG(4,(&quot;init_common: dumprom %d, pgm_panel %d, dma_acc %d, tv_output %d, vga_on_tv %d\n&quot;,
+		si-&gt;settings.dumprom, si-&gt;settings.pgm_panel, si-&gt;settings.dma_acc, si-&gt;settings.tv_output, si-&gt;settings.vga_on_tv));
 	LOG(4,(&quot;init_common: force_sync %d, gpu_clk %dMhz, ram_clk %dMhz, force_ws %d\n&quot;,
 		si-&gt;settings.force_sync, si-&gt;settings.gpu_clk, si-&gt;settings.ram_clk, si-&gt;settings.force_ws));
 

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/Jamfile	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/Jamfile	2008-06-09 14:37:03 UTC (rev 25873)
@@ -1,12 +1,12 @@
-SubDir HAIKU_TOP src add-ons accelerants nvidia ;
+SubDir HAIKU_TOP src add-ons accelerants nvidia_gpgpu ;
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
 UsePrivateHeaders graphics ;
-UsePrivateHeaders [ FDirName graphics nvidia ] ;
+UsePrivateHeaders [ FDirName graphics nvidia_gpgpu ] ;
 UseHeaders [ FDirName $(SUBDIR) engine ] ;
 
-Addon nvidia.accelerant :
+Addon nvidia_gpgpu.accelerant :
 	Acceleration.c
 	Cursor.c
 	EngineManagment.c
@@ -18,13 +18,13 @@
 	Overlay.c
 	ProposeDisplayMode.c
 	SetDisplayMode.c
-	: libnvidia_engine.a
+	: libnvidia_gpgpu_engine.a
 ;
 
-Package haiku-nvidia-cvs :
-	nvidia.accelerant : 
+Package haiku-nvidia_gpgpu-cvs :
+	nvidia_gpgpu.accelerant : 
 	boot home config add-ons accelerants ;
 
-Depends nvidia.accelerant : nvidia ;
+Depends nvidia_gpgpu.accelerant : nvidia_gpgpu ;
 
-SubInclude HAIKU_TOP src add-ons accelerants nvidia engine ;
+SubInclude HAIKU_TOP src add-ons accelerants nvidia_gpgpu engine ;

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/SetDisplayMode.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/SetDisplayMode.c	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/SetDisplayMode.c	2008-06-09 14:37:03 UTC (rev 25873)
@@ -59,16 +59,16 @@
 	si-&gt;engine.threeD.clones = 0x00000000;
 
 	/* disable interrupts using the kernel driver */
-	head1_interrupt_enable(false);
-	if (si-&gt;ps.secondary_head) head2_interrupt_enable(false);
+//	head1_interrupt_enable(false);
+//	if (si-&gt;ps.secondary_head) head2_interrupt_enable(false);
 
 	/* disable TVout if supported */
-	if (si-&gt;ps.tvout) BT_stop_tvout();
+//	if (si-&gt;ps.tvout) BT_stop_tvout();
 
 	/* turn off screen(s) _after_ TVout is disabled (if applicable) */
-	head1_dpms(false, false, false, true);
-	if (si-&gt;ps.secondary_head) head2_dpms(false, false, false, true);
-	if (si-&gt;ps.tvout) BT_dpms(false);
+//	head1_dpms(false, false, false, true);
+//	if (si-&gt;ps.secondary_head) head2_dpms(false, false, false, true);
+//	if (si-&gt;ps.tvout) BT_dpms(false);
 
 	/*where in framebuffer the screen is (should this be dependant on previous MOVEDISPLAY?)*/
 	startadd = (uint8*)si-&gt;fbc.frame_buffer - (uint8*)si-&gt;framebuffer;
@@ -116,43 +116,43 @@
 //				cross = false;
 //		}
 		/* set output connectors assignment if possible */
-		if ((target.flags &amp; DUALHEAD_BITS) == DUALHEAD_SWITCH)
+//		if ((target.flags &amp; DUALHEAD_BITS) == DUALHEAD_SWITCH)
 			/* invert output assignment in switch mode */
-			nv_general_head_select(true);
-		else
-			nv_general_head_select(false);
+//			nv_general_head_select(true);
+//		else
+//			nv_general_head_select(false);
 
 		/* set the pixel clock PLL(s) */
 		LOG(8,(&quot;SETMODE: target clock %dkHz\n&quot;,target.timing.pixel_clock));
-		if (head1_set_pix_pll(target) == B_ERROR)
-			LOG(8,(&quot;SETMODE: error setting pixel clock (internal DAC)\n&quot;));
+//		if (head1_set_pix_pll(target) == B_ERROR)
+//			LOG(8,(&quot;SETMODE: error setting pixel clock (internal DAC)\n&quot;));
 
 		LOG(8,(&quot;SETMODE: target2 clock %dkHz\n&quot;,target2.timing.pixel_clock));
-		if (head2_set_pix_pll(target2) == B_ERROR)
-			LOG(8,(&quot;SETMODE: error setting pixel clock (DAC2)\n&quot;));
+//		if (head2_set_pix_pll(target2) == B_ERROR)
+//			LOG(8,(&quot;SETMODE: error setting pixel clock (DAC2)\n&quot;));
 
 		/*set the colour depth for CRTC1 and the DAC */
 		switch(target.space)
 		{
 		case B_CMAP8:
 			colour_depth1 =  8;
-			head1_mode(BPP8, 1.0);
-			head1_depth(BPP8);
+//			head1_mode(BPP8, 1.0);
+//			head1_depth(BPP8);
 			break;
 		case B_RGB15_LITTLE:
 			colour_depth1 = 16;
-			head1_mode(BPP15, 1.0);
-			head1_depth(BPP15);
+//			head1_mode(BPP15, 1.0);
+//			head1_depth(BPP15);
 			break;
 		case B_RGB16_LITTLE:
 			colour_depth1 = 16;
-			head1_mode(BPP16, 1.0);
-			head1_depth(BPP16);
+//			head1_mode(BPP16, 1.0);
+//			head1_depth(BPP16);
 			break;
 		case B_RGB32_LITTLE:
 			colour_depth1 = 32;
-			head1_mode(BPP32, 1.0);
-			head1_depth(BPP32);
+//			head1_mode(BPP32, 1.0);
+//			head1_depth(BPP32);
 			break;
 		}
 		/*set the colour depth for CRTC2 and DAC2 */
@@ -160,23 +160,23 @@
 		{
 		case B_CMAP8:
 			colour_depth2 =  8;
-			head2_mode(BPP8, 1.0);
-			head2_depth(BPP8);
+//			head2_mode(BPP8, 1.0);
+//			head2_depth(BPP8);
 			break;
 		case B_RGB15_LITTLE:
 			colour_depth2 = 16;
-			head2_mode(BPP15, 1.0);
-			head2_depth(BPP15);
+//			head2_mode(BPP15, 1.0);
+//			head2_depth(BPP15);
 			break;
 		case B_RGB16_LITTLE:
 			colour_depth2 = 16;
-			head2_mode(BPP16, 1.0);
-			head2_depth(BPP16);
+//			head2_mode(BPP16, 1.0);
+//			head2_depth(BPP16);
 			break;
 		case B_RGB32_LITTLE:
 			colour_depth2 = 32;
-			head2_mode(BPP32, 1.0);
-			head2_depth(BPP32);
+//			head2_mode(BPP32, 1.0);
+//			head2_depth(BPP32);
 			break;
 		}
 
@@ -185,10 +185,10 @@
 		si-&gt;interlaced_tv_mode = false;
 
 		/*set the display(s) pitches*/
-		head1_set_display_pitch ();
+//		head1_set_display_pitch ();
 		//fixme: seperate for real dualhead modes:
 		//we need a secondary si-&gt;fbc!
-		head2_set_display_pitch ();
+//		head2_set_display_pitch ();
 
 		/*work out where the &quot;right&quot; screen starts*/
 		startadd_right = startadd + (target.timing.h_display * (colour_depth1 &gt;&gt; 3));
@@ -198,21 +198,21 @@
 		{
 		case DUALHEAD_ON:
 		case DUALHEAD_SWITCH:
-			head1_set_display_start(startadd,colour_depth1);
-			head2_set_display_start(startadd_right,colour_depth2);
+//			head1_set_display_start(startadd,colour_depth1);
+//			head2_set_display_start(startadd_right,colour_depth2);
 			break;
 		case DUALHEAD_CLONE:
-			head1_set_display_start(startadd,colour_depth1);
-			head2_set_display_start(startadd,colour_depth2);
+//			head1_set_display_start(startadd,colour_depth1);
+//			head2_set_display_start(startadd,colour_depth2);
 			break;
 		}
 
 		/* set the timing */
-		head1_set_timing(target);
-		head2_set_timing(target2);
+//		head1_set_timing(target);
+//		head2_set_timing(target2);
 
 		/* TVout support: program TVout encoder and modify CRTC timing */
-		if (si-&gt;ps.tvout &amp;&amp; (target2.flags &amp; TV_BITS)) BT_setmode(target2);
+//		if (si-&gt;ps.tvout &amp;&amp; (target2.flags &amp; TV_BITS)) BT_setmode(target2);
 	}
 	else /* single head mode */
 	{
@@ -257,26 +257,26 @@
 		}
 
 		/* set the pixel clock PLL */
-		if (head1_set_pix_pll(target) == B_ERROR)
-			LOG(8,(&quot;CRTC: error setting pixel clock (internal DAC)\n&quot;));
+//		if (head1_set_pix_pll(target) == B_ERROR)
+//			LOG(8,(&quot;CRTC: error setting pixel clock (internal DAC)\n&quot;));
 
 		/* set the colour depth for CRTC1 and the DAC */
 		/* first set the colordepth */
-		head1_depth(colour_mode);
+//		head1_depth(colour_mode);
 		/* then(!) program the PAL (&lt;8bit colordepth does not support 8bit PAL) */
-		head1_mode(colour_mode,1.0);
+//		head1_mode(colour_mode,1.0);
 
 		/* set the display pitch */
-		head1_set_display_pitch();
+//		head1_set_display_pitch();
 
 		/* tell the card what memory to display */
-		head1_set_display_start(startadd,colour_depth1);
+//		head1_set_display_start(startadd,colour_depth1);
 
 		/* set the timing */
-		head1_set_timing(target);
+//		head1_set_timing(target);
 
 		/* TVout support: program TVout encoder and modify CRTC timing */
-		if (si-&gt;ps.tvout &amp;&amp; (target.flags &amp; TV_BITS)) BT_setmode(target);
+//		if (si-&gt;ps.tvout &amp;&amp; (target.flags &amp; TV_BITS)) BT_setmode(target);
 
 		//fixme: shut-off the videoPLL if it exists...
 	}
@@ -285,8 +285,8 @@
 	si-&gt;dm = target;
 
 	/* update FIFO data fetching according to mode */
-	nv_crtc_update_fifo();
-	if (si-&gt;ps.secondary_head) nv_crtc2_update_fifo();
+//	nv_crtc_update_fifo();
+//	if (si-&gt;ps.secondary_head) nv_crtc2_update_fifo();
 
 	/* set up acceleration for this mode */
 	/* note:
@@ -301,7 +301,7 @@
 		nv_acc_init_dma();
 }
 	/* set up overlay unit for this mode */
-	nv_bes_init();
+//	nv_bes_init();
 
 	/* note freemem range */
 	/* first free adress follows hardcursor and workspace */
@@ -322,12 +322,12 @@
 	si-&gt;engine.threeD.mem_high -= (MAXBUFFERS * 1024 * 1024 * 2); /* see overlay.c file */
 
 	/* restore screen(s) output state(s) */
-	SET_DPMS_MODE(si-&gt;dpms_flags);
+//	SET_DPMS_MODE(si-&gt;dpms_flags);
 
 	/* enable interrupts using the kernel driver */
 	//fixme:
 	//add head2 once we use one driver instance 'per head' (instead of 'per card')
-	head1_interrupt_enable(true);
+//	head1_interrupt_enable(true);
 
 	/* make sure a possible 3D add-on will re-initialize itself by signalling ready */
 	si-&gt;engine.threeD.mode_changing = false;
@@ -336,7 +336,7 @@
 //	head1_mem_priority(colour_depth1);
 
 	/* Tune RAM CAS-latency if needed. Must be done *here*! */
-	nv_set_cas_latency();
+//	nv_set_cas_latency();
 
 	LOG(1,(&quot;SETMODE: booted since %f mS\n&quot;, system_time()/1000.0));
 

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/engine/Jamfile	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/Jamfile	2008-06-09 14:37:03 UTC (rev 25873)
@@ -1,11 +1,11 @@
-SubDir HAIKU_TOP src add-ons accelerants nvidia engine ;
+SubDir HAIKU_TOP src add-ons accelerants nvidia_gpgpu engine ;
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
 UsePrivateHeaders graphics ;
-UsePrivateHeaders [ FDirName graphics nvidia ] ;
+UsePrivateHeaders [ FDirName graphics nvidia_gpgpu ] ;
 
-StaticLibrary libnvidia_engine.a :
+StaticLibrary libnvidia_gpgpu_engine.a :
 	nv_acc.c
 	nv_acc_dma.c
 	nv_bes.c
@@ -15,7 +15,6 @@
 	nv_dac.c
 	nv_dac2.c
 	nv_general.c
-	nv_agp.c
 	nv_globals.c
 	nv_i2c.c
 	nv_info.c

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_acc.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/engine/nv_acc.c	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_acc.c	2008-06-09 14:37:03 UTC (rev 25873)
@@ -68,6 +68,7 @@
 
 status_t nv_acc_wait_idle()
 {
+return B_OK;
 	/* wait until engine completely idle */
 	while (ACCR(STATUS))
 	{

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_acc_dma.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/engine/nv_acc_dma.c	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_acc_dma.c	2008-06-09 14:37:03 UTC (rev 25873)
@@ -36,6 +36,7 @@
 	/* we'd better check for timeouts on the DMA engine as it's theoretically
 	 * breakable by malfunctioning software */
 	uint16 cnt = 0;
+return B_OK;
 
 	/* wait until all upcoming commands are in execution at least. Do this until
 	 * we hit a timeout; abort if we failed at least three times before:
@@ -488,7 +489,7 @@
 			ACCW(PR_CTX3_B, 0x00000000); /* method traps disabled */
 		}
 		/* setup DMA set pointed at by PF_CACH1_DMAI */
-		if (si-&gt;engine.agp_mode)
+		if (0)//si-&gt;engine.agp_mode)
 		{
 			/* DMA page table present and of linear type;
 			 * DMA class is $002 (b0-11);

Modified: haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_general.c
===================================================================
--- haiku/trunk/src/add-ons/accelerants/nvidia/engine/nv_general.c	2008-06-09 13:01:58 UTC (rev 25872)
+++ haiku/trunk/src/add-ons/accelerants/nvidia_gpgpu/engine/nv_general.c	2008-06-09 14:37:03 UTC (rev 25873)
@@ -1,7 +1,7 @@
 /* Authors:
    Mark Watson 12/1999,
    Apsed,
-   Rudolf Cornelissen 10/2002-10/2007
+   Rudolf Cornelissen 10/2002-6/2008
 */
 
 #define MODULE_BIT 0x00008000
@@ -91,7 +91,7 @@
 {
 	status_t status;
 
-	LOG(1,(&quot;POWERUP: Haiku nVidia Accelerant 0.84 running.\n&quot;));
+	LOG(1,(&quot;POWERUP: Haiku nVidia-gpgpu Accelerant 0.00 running.\n&quot;));
 
 	/* log VBLANK INT usability status */
 	if (si-&gt;ps.int_assigned)
@@ -109,585 +109,6 @@
 	switch(CFGR(DEVID))
 	{
 	/* Vendor Nvidia */
-	case 0x002010de: /* Nvidia TNT1 */
-		si-&gt;ps.card_type = NV04;
-		si-&gt;ps.card_arch = NV04A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia TNT1&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV04&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x002810de: /* Nvidia TNT2 (pro) */
-	case 0x002910de: /* Nvidia TNT2 Ultra */
-	case 0x002a10de: /* Nvidia TNT2 */
-	case 0x002b10de: /* Nvidia TNT2 */
-		si-&gt;ps.card_type = NV05;
-		si-&gt;ps.card_arch = NV04A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia TNT2&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV05&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x002c10de: /* Nvidia Vanta (Lt) */
-		si-&gt;ps.card_type = NV05;
-		si-&gt;ps.card_arch = NV04A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Vanta (Lt)&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV05&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x002d10de: /* Nvidia TNT2-M64 (Pro) */
-		si-&gt;ps.card_type = NV05M64;
-		si-&gt;ps.card_arch = NV04A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia TNT2-M64 (Pro)&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV05 model 64&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x002e10de: /* Nvidia NV06 Vanta */
-	case 0x002f10de: /* Nvidia NV06 Vanta */
-		si-&gt;ps.card_type = NV06;
-		si-&gt;ps.card_arch = NV04A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Vanta&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV06&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x004010de: /* Nvidia GeForce FX 6800 Ultra */
-	case 0x004110de: /* Nvidia GeForce FX 6800 */
-	case 0x004210de: /* Nvidia GeForce FX 6800LE */
-		si-&gt;ps.card_type = NV40;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6800&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV40&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x004310de: /* Nvidia GeForce 6800 XE */
-		si-&gt;ps.card_type = NV40;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6800 XE&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV40&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x004510de: /* Nvidia GeForce FX 6800 GT */
-	case 0x004610de: /* Nvidia GeForce FX 6800 GT */
-	case 0x004710de: /* Nvidia GeForce FX 6800 GS */
-	case 0x004810de: /* Nvidia GeForce FX 6800 XT */
-		si-&gt;ps.card_type = NV40;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6800&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV40&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x004910de: /* Nvidia unknown FX */
-		si-&gt;ps.card_type = NV40;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia unknown FX&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV40&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x004d10de: /* Nvidia Quadro FX 4400 */
-	case 0x004e10de: /* Nvidia Quadro FX 4000 */
-		si-&gt;ps.card_type = NV40;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 4000/4400&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV40&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x009110de: /* Nvidia GeForce 7800 GTX PCIe */
-	case 0x009210de: /* Nvidia Geforce 7800 GT PCIe */
-		si-&gt;ps.card_type = G70;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Geforce 7800 GT PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;G70&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x009810de: /* Nvidia Geforce 7800 Go PCIe */
-	case 0x009910de: /* Nvidia Geforce 7800 GTX Go PCIe */
-		si-&gt;ps.card_type = G70;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Geforce 7800 GTX Go PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;G70&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x009d10de: /* Nvidia Quadro FX 4500 */
-		si-&gt;ps.card_type = G70;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 4500&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;G70&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00a010de: /* Nvidia Aladdin TNT2 */
-		si-&gt;ps.card_type = NV05;
-		si-&gt;ps.card_arch = NV04A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Aladdin TNT2&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV05&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00c010de: /* Nvidia GeForce 6800 GS */
-		si-&gt;ps.card_type = NV41;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6800 GS&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV41&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00c110de: /* Nvidia GeForce FX 6800 */
-	case 0x00c210de: /* Nvidia GeForce FX 6800LE */
-	case 0x00c310de: /* Nvidia GeForce FX 6800 XT */
-		si-&gt;ps.card_type = NV41;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6800&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV41&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00c810de: /* Nvidia GeForce FX 6800 Go */
-	case 0x00c910de: /* Nvidia GeForce FX 6800 Ultra Go */
-		si-&gt;ps.card_type = NV41;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6800 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV41&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00cc10de: /* Nvidia Quadro FX 1400 Go */
-		si-&gt;ps.card_type = NV41;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 1400 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV41&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00cd10de: /* Nvidia Quadro FX 3450/4000 SDI */
-		si-&gt;ps.card_type = NV41;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 3450/4000 SDI&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV41&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00ce10de: /* Nvidia Quadro FX 1400 */
-		si-&gt;ps.card_type = NV41;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 1400&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV41&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f010de: /* Nvidia GeForce FX 6800 (Ultra) AGP(?) */
-		si-&gt;ps.card_type = NV40;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6800 AGP(?)&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV40(?)&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f110de: /* Nvidia GeForce FX 6600 GT AGP */
-	case 0x00f210de: /* Nvidia GeForce FX 6600 AGP */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6600 (GT) AGP&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f310de: /* Nvidia GeForce 6200 */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6200&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f410de: /* Nvidia GeForce 6600 LE */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6600 LE&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f510de: /* Nvidia GeForce FX 7800 GS AGP */
-		si-&gt;ps.card_type = G70;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 7800 GS AGP&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;G70&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f610de: /* Nvidia GeForce 6800 GS */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6800 GS&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f810de: /* Nvidia Quadro FX 3400/4400 PCIe */
-		si-&gt;ps.card_type = NV45;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 3400 PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV45&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00f910de: /* Nvidia GeForce PCX 6800 PCIe */
-		si-&gt;ps.card_type = NV45;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce PCX 6800 PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV45&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00fa10de: /* Nvidia GeForce PCX 5750 PCIe */
-		si-&gt;ps.card_type = NV36;
-		si-&gt;ps.card_arch = NV30A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce PCX 5750 PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV36&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00fb10de: /* Nvidia GeForce PCX 5900 PCIe */
-		si-&gt;ps.card_type = NV35;
-		si-&gt;ps.card_arch = NV30A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce PCX 5900 PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV35(?)&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00fc10de: /* Nvidia GeForce PCX 5300 PCIe */
-		si-&gt;ps.card_type = NV34;
-		si-&gt;ps.card_arch = NV30A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce PCX 5300 PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV34&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00fd10de: /* Nvidia Quadro PCX PCIe */
-		si-&gt;ps.card_type = NV45;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro PCX PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV45&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00fe10de: /* Nvidia Quadro FX 1300 PCIe(?) */
-		si-&gt;ps.card_type = NV36;
-		si-&gt;ps.card_arch = NV30A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 1300 PCIe(?)&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV36(?)&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x00ff10de: /* Nvidia GeForce PCX 4300 PCIe */
-		si-&gt;ps.card_type = NV18;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce PCX 4300 PCIe&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV18&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x010010de: /* Nvidia GeForce256 SDR */
-	case 0x010110de: /* Nvidia GeForce256 DDR */
-	case 0x010210de: /* Nvidia GeForce256 Ultra */
-		si-&gt;ps.card_type = NV10;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce256&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV10&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x010310de: /* Nvidia Quadro */
-		si-&gt;ps.card_type = NV10;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV10&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x011010de: /* Nvidia GeForce2 MX/MX400 */
-	case 0x011110de: /* Nvidia GeForce2 MX100/MX200 DDR */
-		si-&gt;ps.card_type = NV11;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce2 MX&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV11&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x011210de: /* Nvidia GeForce2 Go */
-		si-&gt;ps.card_type = NV11;
-		si-&gt;ps.card_arch = NV10A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce2 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV11&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x011310de: /* Nvidia Quadro2 MXR/EX/Go */
-		si-&gt;ps.card_type = NV11;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro2 MXR/EX/Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV11&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014010de: /* Nvidia GeForce FX 6600 GT */
-	case 0x014110de: /* Nvidia GeForce FX 6600 */
-	case 0x014210de: /* Nvidia GeForce FX 6600LE */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6600&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014310de: /* Nvidia GeForce 6600 VE */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6600 VE&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014410de: /* Nvidia GeForce FX 6600 Go */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6600 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014510de: /* Nvidia GeForce FX 6610 XL */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6610 XL&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014710de: /* Nvidia GeForce FX 6700 XL */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6700 XL&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014610de: /* Nvidia GeForce FX 6600 TE Go / 6200 TE Go */
-	case 0x014810de: /* Nvidia GeForce FX 6600 Go */
-	case 0x014910de: /* Nvidia GeForce FX 6600 GT Go */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6600Go/6200Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014b10de: /* Nvidia unknown FX */
-	case 0x014c10de: /* Nvidia Quadro FX 540 MXM */
-	case 0x014d10de: /* Nvidia unknown FX */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014e10de: /* Nvidia Quadro FX 540 */
-		si-&gt;ps.card_type = NV43;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX 540&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV43&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x014f10de: /* Nvidia GeForce 6200 PCIe (128Mb) */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6200 PCIe 128Mb&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x015010de: /* Nvidia GeForce2 GTS/Pro */
-	case 0x015110de: /* Nvidia GeForce2 Ti DDR */
-	case 0x015210de: /* Nvidia GeForce2 Ultra */
-		si-&gt;ps.card_type = NV15;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce2&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV15&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x015310de: /* Nvidia Quadro2 Pro */
-		si-&gt;ps.card_type = NV15;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro2 Pro&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV15&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016010de: /* Nvidia GeForce 6500 Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6500 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016110de: /* Nvidia GeForce 6200 TurboCache */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6200 TC&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016210de: /* Nvidia GeForce 6200SE TurboCache */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6200SE TC&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016310de: /* Nvidia GeForce 6200LE */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6200LE&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016410de: /* Nvidia GeForce FX 6200 Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce FX 6200 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016510de: /* Nvidia Quadro FX NVS 285 */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro FX NVS 285&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016610de: /* Nvidia GeForce 6400 Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6400 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016710de: /* Nvidia GeForce 6200 Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6200 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016810de: /* Nvidia GeForce 6400 Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6400 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016910de: /* Nvidia GeForce 6250 Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 6250 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016a10de: /* Nvidia 7100 GS */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce 7100 GS&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016b10de: /* Nvidia unknown FX Go */
-	case 0x016c10de: /* Nvidia unknown FX Go */
-	case 0x016d10de: /* Nvidia unknown FX Go */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia unknown FX Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x016e10de: /* Nvidia unknown FX */
-		si-&gt;ps.card_type = NV44;
-		si-&gt;ps.card_arch = NV40A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia unknown FX&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV44&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x017010de: /* Nvidia GeForce4 MX 460 */
-	case 0x017110de: /* Nvidia GeForce4 MX 440 */
-	case 0x017210de: /* Nvidia GeForce4 MX 420 */ 
-	case 0x017310de: /* Nvidia GeForce4 MX 440SE */ 
-		si-&gt;ps.card_type = NV17;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce4 MX&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV17&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x017410de: /* Nvidia GeForce4 440 Go */ 
-	case 0x017510de: /* Nvidia GeForce4 420 Go */
-	case 0x017610de: /* Nvidia GeForce4 420 Go 32M */
-	case 0x017710de: /* Nvidia GeForce4 460 Go */
-	case 0x017910de: /* Nvidia GeForce4 440 Go 64M (on PPC GeForce4 MX) */
-		si-&gt;ps.card_type = NV17;
-		si-&gt;ps.card_arch = NV10A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia GeForce4 Go&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV17&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x017810de: /* Nvidia Quadro4 500 XGL/550 XGL */
-	case 0x017a10de: /* Nvidia Quadro4 200 NVS/400 NVS */
-		si-&gt;ps.card_type = NV17;
-		si-&gt;ps.card_arch = NV10A;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro4&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV17&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x017c10de: /* Nvidia Quadro4 500 GoGL */
-		si-&gt;ps.card_type = NV17;
-		si-&gt;ps.card_arch = NV10A;
-		si-&gt;ps.laptop = true;
-		sprintf(si-&gt;adi.name, &quot;Nvidia Quadro4 500 GoGL&quot;);
-		sprintf(si-&gt;adi.chipset, &quot;NV17&quot;);
-		status = nvxx_general_powerup();
-		break;
-	case 0x017d10de: /* Nvidia GeForce4 410 Go 16M*/
-		si-&gt;ps.card_type = NV17;

[... truncated: 768 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009461.html">[Haiku-commits] r25872 - haiku/trunk/src/apps/mail
</A></li>
	<LI>Next message: <A HREF="009463.html">[Haiku-commits] r25873 - in	haiku/trunk/src/add-ons/accelerants: . nvidia_gpgpu	nvidia_gpgpu/engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9462">[ date ]</a>
              <a href="thread.html#9462">[ thread ]</a>
              <a href="subject.html#9462">[ subject ]</a>
              <a href="author.html#9462">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
