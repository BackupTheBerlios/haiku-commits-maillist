<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r26154 - haiku/trunk/src/add-ons/kernel/file_systems/bfs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%0A%20%3D%3Futf-8%3Fq%3Fr26154_-_haiku/trunk/src/add-ons/kernel%3F%3D%0A%20%3D%3Futf-8%3Fq%3F/file%3D5Fsystems/bfs%3F%3D&In-Reply-To=%3C36016690840-BeMail%40zon%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009885.html">
   <LINK REL="Next"  HREF="009886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r26154 - haiku/trunk/src/add-ons/kernel/file_systems/bfs</H1>
    <B>Axel D&#246;rfler</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%0A%20%3D%3Futf-8%3Fq%3Fr26154_-_haiku/trunk/src/add-ons/kernel%3F%3D%0A%20%3D%3Futf-8%3Fq%3F/file%3D5Fsystems/bfs%3F%3D&In-Reply-To=%3C36016690840-BeMail%40zon%3E"
       TITLE="[Haiku-commits] r26154 - haiku/trunk/src/add-ons/kernel/file_systems/bfs">axeld at pinc-software.de
       </A><BR>
    <I>Sat Jun 28 21:24:29 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009885.html">[Haiku-commits] r26154 -	haiku/trunk/src/add-ons/kernel/file_systems/bfs
</A></li>
        <LI>Next message: <A HREF="009886.html">[Haiku-commits] r26155 - haiku/trunk/src/add-ons/tracker/zipomatic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9888">[ date ]</a>
              <a href="thread.html#9888">[ thread ]</a>
              <a href="subject.html#9888">[ subject ]</a>
              <a href="author.html#9888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Salvatore Benedetto&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">emitrax at gmail.com</A>&gt; wrote:
&gt;<i> Why did you move up the transaction lock? Doesn't that reduce
</I>&gt;<i> the concurrency level of the file system? You lock it before you need 
</I>&gt;<i> it :-)
</I>&gt;<i> If only the volume lock is needed in the first part of the 
</I>&gt;<i> bfs_rename,
</I>&gt;<i> why not simply releasing it before acquire the journaled area lock?
</I>
Because that wouldn't help; between releasing the volume lock and 
acquiring the journal lock, the whole file system could have changed.
The only way to solve this by not reducing the level of concurrency is 
by introducing a read/write lock as I explained on the gsoc list.
But that would fall into the &quot;optimize BFS&quot; section and should only 
come after fixing the bugs :-)

Bye,
   Axel.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009885.html">[Haiku-commits] r26154 -	haiku/trunk/src/add-ons/kernel/file_systems/bfs
</A></li>
	<LI>Next message: <A HREF="009886.html">[Haiku-commits] r26155 - haiku/trunk/src/add-ons/tracker/zipomatic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9888">[ date ]</a>
              <a href="thread.html#9888">[ thread ]</a>
              <a href="subject.html#9888">[ subject ]</a>
              <a href="author.html#9888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
