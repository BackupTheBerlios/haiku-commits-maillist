<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31290 - in haiku/trunk: headers/libs/png	src/libs/png
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31290%20-%20in%20haiku/trunk%3A%20headers/libs/png%0A%09src/libs/png&In-Reply-To=%3C200906281346.n5SDkr4a012706%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017537.html">
   <LINK REL="Next"  HREF="017539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31290 - in haiku/trunk: headers/libs/png	src/libs/png</H1>
    <B>korli at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31290%20-%20in%20haiku/trunk%3A%20headers/libs/png%0A%09src/libs/png&In-Reply-To=%3C200906281346.n5SDkr4a012706%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r31290 - in haiku/trunk: headers/libs/png	src/libs/png">korli at mail.berlios.de
       </A><BR>
    <I>Sun Jun 28 15:46:53 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="017537.html">[Haiku-commits] r31289 - in haiku/trunk/src/kits/opengl/mesa: main	shader/slang swrast vbo
</A></li>
        <LI>Next message: <A HREF="017539.html">[Haiku-commits] r31291 - in haiku/trunk:	headers/private/graphics/nvidia src/add-ons/accelerants/nvidia	src/add-ons/accelerants/nvidia/engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17538">[ date ]</a>
              <a href="thread.html#17538">[ thread ]</a>
              <a href="subject.html#17538">[ subject ]</a>
              <a href="author.html#17538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: korli
Date: 2009-06-28 15:46:52 +0200 (Sun, 28 Jun 2009)
New Revision: 31290
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31290&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31290&amp;view=rev</A>

Modified:
   haiku/trunk/headers/libs/png/png.h
   haiku/trunk/headers/libs/png/pngconf.h
   haiku/trunk/src/libs/png/png.c
   haiku/trunk/src/libs/png/pngerror.c
   haiku/trunk/src/libs/png/pngget.c
   haiku/trunk/src/libs/png/pngmem.c
   haiku/trunk/src/libs/png/pngpread.c
   haiku/trunk/src/libs/png/pngread.c
   haiku/trunk/src/libs/png/pngrio.c
   haiku/trunk/src/libs/png/pngrtran.c
   haiku/trunk/src/libs/png/pngrutil.c
   haiku/trunk/src/libs/png/pngset.c
   haiku/trunk/src/libs/png/pngtrans.c
   haiku/trunk/src/libs/png/pngwio.c
   haiku/trunk/src/libs/png/pngwrite.c
   haiku/trunk/src/libs/png/pngwtran.c
   haiku/trunk/src/libs/png/pngwutil.c
Log:
updated libpng to 1.2.37


Modified: haiku/trunk/headers/libs/png/png.h
===================================================================
--- haiku/trunk/headers/libs/png/png.h	2009-06-28 13:40:23 UTC (rev 31289)
+++ haiku/trunk/headers/libs/png/png.h	2009-06-28 13:46:52 UTC (rev 31290)
@@ -1,6 +1,6 @@
 /* png.h - header file for PNG reference library
  *
- * libpng version 1.2.35 - February 14, 2009
+ * libpng version 1.2.37 - June 4, 2009
  * Copyright (c) 1998-2009 Glenn Randers-Pehrson
  * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)
  * (Version 0.88 Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)
@@ -8,7 +8,7 @@
  * Authors and maintainers:
  *  libpng versions 0.71, May 1995, through 0.88, January 1996: Guy Schalnat
  *  libpng versions 0.89c, June 1996, through 0.96, May 1997: Andreas Dilger
- *  libpng versions 0.97, January 1998, through 1.2.35 - February 14, 2009: Glenn
+ *  libpng versions 0.97, January 1998, through 1.2.37 - June 4, 2009: Glenn
  *  See also &quot;Contributing Authors&quot;, below.
  *
  * Note about libpng version numbers:
@@ -222,6 +222,13 @@
  *    1.2.35rc01-02           13    10235  12.so.0.35[.0]
  *    1.0.43                  10    10043  10.so.0.43[.0]
  *    1.2.35                  13    10235  12.so.0.35[.0]
+ *    1.2.36beta01-05         13    10236  12.so.0.36[.0]
+ *    1.2.36rc01              13    10236  12.so.0.36[.0]
+ *    1.0.44                  10    10044  10.so.0.44[.0]
+ *    1.2.36                  13    10236  12.so.0.36[.0]
+ *    1.2.37beta01-03         13    10237  12.so.0.37[.0]
+ *    1.2.37rc01              13    10237  12.so.0.37[.0]
+ *    1.2.37                  13    10237  12.so.0.37[.0]
  *
  *    Henceforth the source version will match the shared-library major
  *    and minor numbers; the shared-library major version number will be
@@ -251,8 +258,8 @@
  * If you modify libpng you may insert additional notices immediately following
  * this sentence.
  *
- * libpng versions 1.2.6, August 15, 2004, through 1.2.35, February 14, 2009, are
- * Copyright (c) 2004, 2006-2008 Glenn Randers-Pehrson, and are
+ * libpng versions 1.2.6, August 15, 2004, through 1.2.37, June 4, 2009, are
+ * Copyright (c) 2004, 2006-2009 Glenn Randers-Pehrson, and are
  * distributed according to the same disclaimer and license as libpng-1.2.5
  * with the following individual added to the list of Contributing Authors:
  *
@@ -363,13 +370,13 @@
  * Y2K compliance in libpng:
  * =========================
  *
- *    February 14, 2009
+ *    June 4, 2009
  *
  *    Since the PNG Development group is an ad-hoc body, we can't make
  *    an official declaration.
  *
  *    This is your unofficial assurance that libpng from version 0.71 and
- *    upward through 1.2.35 are Y2K compliant.  It is my belief that earlier
+ *    upward through 1.2.37 are Y2K compliant.  It is my belief that earlier
  *    versions were also Y2K compliant.
  *
  *    Libpng only has three year fields.  One is a 2-byte unsigned integer
@@ -425,9 +432,9 @@
  */
 
 /* Version information for png.h - this should match the version in png.c */
-#define PNG_LIBPNG_VER_STRING &quot;1.2.35&quot;
+#define PNG_LIBPNG_VER_STRING &quot;1.2.37&quot;
 #define PNG_HEADER_VERSION_STRING \
-   &quot; libpng version 1.2.35 - February 14, 2009\n&quot;
+   &quot; libpng version 1.2.37 - June 4, 2009\n&quot;
 
 #define PNG_LIBPNG_VER_SONUM   0
 #define PNG_LIBPNG_VER_DLLNUM  13
@@ -435,7 +442,7 @@
 /* These should match the first 3 components of PNG_LIBPNG_VER_STRING: */
 #define PNG_LIBPNG_VER_MAJOR   1
 #define PNG_LIBPNG_VER_MINOR   2
-#define PNG_LIBPNG_VER_RELEASE 35
+#define PNG_LIBPNG_VER_RELEASE 37
 /* This should match the numeric part of the final component of
  * PNG_LIBPNG_VER_STRING, omitting any leading zero: */
 
@@ -463,7 +470,7 @@
  * Versions 0.7 through 1.0.0 were in the range 0 to 100 here (only
  * version 1.0.0 was mis-numbered 100 instead of 10000).  From
  * version 1.0.1 it's    xxyyzz, where x=major, y=minor, z=release */
-#define PNG_LIBPNG_VER 10235 /* 1.2.35 */
+#define PNG_LIBPNG_VER 10237 /* 1.2.37 */
 
 #ifndef PNG_VERSION_INFO_ONLY
 /* include the compression library's header */
@@ -1487,7 +1494,7 @@
 /* This triggers a compiler error in png.c, if png.c and png.h
  * do not agree upon the version number.
  */
-typedef png_structp version_1_2_35;
+typedef png_structp version_1_2_37;
 
 typedef png_struct FAR * FAR * png_structpp;
 
@@ -1987,6 +1994,11 @@
  * If buffered output is not used, then output_flush_fn can be set to NULL.
  * If PNG_WRITE_FLUSH_SUPPORTED is not defined at libpng compile time
  * output_flush_fn will be ignored (and thus can be NULL).
+ * It is probably a mistake to use NULL for output_flush_fn if
+ * write_data_fn is not also NULL unless you have built libpng with
+ * PNG_WRITE_FLUSH_SUPPORTED undefined, because in this case libpng's
+ * default flush function, which uses the standard *FILE structure, will
+ * be used.
  */
 extern PNG_EXPORT(void,png_set_write_fn) PNGARG((png_structp png_ptr,
    png_voidp io_ptr, png_rw_ptr write_data_fn, png_flush_ptr output_flush_fn));
@@ -2556,64 +2568,72 @@
 #ifndef PNG_DEBUG_FILE
 #define PNG_DEBUG_FILE stderr
 #endif /* PNG_DEBUG_FILE */
+
 #if (PNG_DEBUG &gt; 1)
-#ifndef png_debug
 /* Note: [&quot;%s&quot;m PNG_STRING_NEWLINE] probably does not work on
  * non-ISO compilers */
-#ifdef __STDC__
-#define png_debug(l,m) \
-{ \
-     int num_tabs=l; \
-     fprintf(PNG_DEBUG_FILE,&quot;%s&quot;m PNG_STRING_NEWLINE,(num_tabs==1 ? &quot;\t&quot; : \
-       (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;)))); \
-}
-#endif
-#ifndef png_debug1
-#define png_debug1(l,m,p1) \
-{ \
-     int num_tabs=l; \
-     fprintf(PNG_DEBUG_FILE,&quot;%s&quot;m PNG_STRING_NEWLINE,(num_tabs==1 ? &quot;\t&quot; : \
-       (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))),p1); \
-}
-#endif
-#ifndef png_debug2
-#define png_debug2(l,m,p1,p2) \
-{ \
-     int num_tabs=l; \
-     fprintf(PNG_DEBUG_FILE,&quot;%s&quot;m PNG_STRING_NEWLINE,(num_tabs==1 ? &quot;\t&quot; : \
-       (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))),p1,p2); \
-}
-#endif
-#else /* __STDC __ */
-#ifndef png_debug
-#define png_debug(l,m) \
-     int num_tabs=l; \
-     char format[256]; \
-     snprintf(format,256,&quot;%s%s%s&quot;,(num_tabs==1 ? &quot;\t&quot; : \
-       (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))), \
-       m,PNG_STRING_NEWLINE); \
-     fprintf(PNG_DEBUG_FILE,format);
-#endif
-#ifndef png_debug1
-#define png_debug1(l,m,p1) \
-     int num_tabs=l; \
-     char format[256]; \
-     snprintf(format,256,&quot;%s%s%s&quot;,(num_tabs==1 ? &quot;\t&quot; : \
-       (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))), \
-       m,PNG_STRING_NEWLINE); \
-     fprintf(PNG_DEBUG_FILE,format,p1);
-#endif
-#ifndef png_debug2
-#define png_debug2(l,m,p1,p2) \
-     int num_tabs=l; \
-     char format[256]; \
-     snprintf(format,256,&quot;%s%s%s&quot;,(num_tabs==1 ? &quot;\t&quot; : \
-       (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))), \
-       m,PNG_STRING_NEWLINE); \
-     fprintf(PNG_DEBUG_FILE,format,p1,p2);
-#endif
-#endif /* __STDC __ */
+#  ifdef __STDC__
+#    ifndef png_debug
+#      define png_debug(l,m) \
+       { \
+       int num_tabs=l; \
+       fprintf(PNG_DEBUG_FILE,&quot;%s&quot;m PNG_STRING_NEWLINE,(num_tabs==1 ? &quot;\t&quot; : \
+         (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;)))); \
+       }
+#    endif
+#    ifndef png_debug1
+#      define png_debug1(l,m,p1) \
+       { \
+       int num_tabs=l; \
+       fprintf(PNG_DEBUG_FILE,&quot;%s&quot;m PNG_STRING_NEWLINE,(num_tabs==1 ? &quot;\t&quot; : \
+         (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))),p1); \
+       }
+#    endif
+#    ifndef png_debug2
+#      define png_debug2(l,m,p1,p2) \
+       { \
+       int num_tabs=l; \
+       fprintf(PNG_DEBUG_FILE,&quot;%s&quot;m PNG_STRING_NEWLINE,(num_tabs==1 ? &quot;\t&quot; : \
+         (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))),p1,p2); \
+       }
+#    endif
+#  else /* __STDC __ */
+#    ifndef png_debug
+#      define png_debug(l,m) \
+       { \
+       int num_tabs=l; \
+       char format[256]; \
+       snprintf(format,256,&quot;%s%s%s&quot;,(num_tabs==1 ? &quot;\t&quot; : \
+         (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))), \
+         m,PNG_STRING_NEWLINE); \
+       fprintf(PNG_DEBUG_FILE,format); \
+       }
+#    endif
+#    ifndef png_debug1
+#      define png_debug1(l,m,p1) \
+       { \
+       int num_tabs=l; \
+       char format[256]; \
+       snprintf(format,256,&quot;%s%s%s&quot;,(num_tabs==1 ? &quot;\t&quot; : \
+         (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))), \
+         m,PNG_STRING_NEWLINE); \
+       fprintf(PNG_DEBUG_FILE,format,p1); \
+       }
+#    endif
+#    ifndef png_debug2
+#      define png_debug2(l,m,p1,p2) \
+       { \
+       int num_tabs=l; \
+       char format[256]; \
+       snprintf(format,256,&quot;%s%s%s&quot;,(num_tabs==1 ? &quot;\t&quot; : \
+         (num_tabs==2 ? &quot;\t\t&quot;:(num_tabs&gt;2 ? &quot;\t\t\t&quot;:&quot;&quot;))), \
+         m,PNG_STRING_NEWLINE); \
+       fprintf(PNG_DEBUG_FILE,format,p1,p2); \
+       }
+#    endif
+#  endif /* __STDC __ */
 #endif /* (PNG_DEBUG &gt; 1) */
+
 #endif /* _MSC_VER */
 #endif /* (PNG_DEBUG &gt; 0) */
 #endif /* PNG_DEBUG */
@@ -2708,6 +2728,7 @@
 #if !defined(PNG_1_0_X)
 /* png.c, pnggccrd.c, or pngvcrd.c */
 extern PNG_EXPORT(int,png_mmx_support) PNGARG((void));
+#endif /* PNG_1_0_X */
 #endif /* PNG_ASSEMBLER_CODE_SUPPORTED */
 
 /* Strip the prepended error numbers (&quot;#nnn &quot;) from error and warning
@@ -2717,8 +2738,6 @@
    png_ptr, png_uint_32 strip_mode));
 #endif
 
-#endif /* PNG_1_0_X */
-
 /* Added at libpng-1.2.6 */
 #ifdef PNG_SET_USER_LIMITS_SUPPORTED
 extern PNG_EXPORT(void,png_set_user_limits) PNGARG((png_structp

Modified: haiku/trunk/headers/libs/png/pngconf.h
===================================================================
--- haiku/trunk/headers/libs/png/pngconf.h	2009-06-28 13:40:23 UTC (rev 31289)
+++ haiku/trunk/headers/libs/png/pngconf.h	2009-06-28 13:46:52 UTC (rev 31290)
@@ -1,7 +1,7 @@
 
 /* pngconf.h - machine configurable file for libpng
  *
- * libpng version 1.2.35 - February 14, 2009
+ * libpng version 1.2.37 - June 4, 2009
  * For conditions of distribution and use, see copyright notice in png.h
  * Copyright (c) 1998-2009 Glenn Randers-Pehrson
  * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)
@@ -314,21 +314,29 @@
 #ifdef PNG_SETJMP_SUPPORTED
 /* This is an attempt to force a single setjmp behaviour on Linux.  If
  * the X config stuff didn't define _BSD_SOURCE we wouldn't need this.
+ *
+ * You can bypass this test if you know that your application uses exactly
+ * the same setjmp.h that was included when libpng was built.  Only define
+ * PNG_SKIP_SETJMP_CHECK while building your application, prior to the
+ * application's '#include &quot;png.h&quot;'. Don't define PNG_SKIP_SETJMP_CHECK
+ * while building a separate libpng library for general use.
  */
 
-#  ifdef __linux__
-#    ifdef _BSD_SOURCE
-#      define PNG_SAVE_BSD_SOURCE
-#      undef _BSD_SOURCE
-#    endif
-#    ifdef _SETJMP_H
-     /* If you encounter a compiler error here, see the explanation
-      * near the end of INSTALL.
-      */
-         __pngconf.h__ already includes setjmp.h;
-         __dont__ include it again.;
-#    endif
-#  endif /* __linux__ */
+#  ifndef PNG_SKIP_SETJMP_CHECK
+#    ifdef __linux__
+#      ifdef _BSD_SOURCE
+#        define PNG_SAVE_BSD_SOURCE
+#        undef _BSD_SOURCE
+#      endif
+#      ifdef _SETJMP_H
+       /* If you encounter a compiler error here, see the explanation
+        * near the end of INSTALL.
+        */
+           __pngconf.h__ in libpng already includes setjmp.h;
+           __dont__ include it again.;
+#      endif
+#    endif /* __linux__ */
+#  endif /* PNG_SKIP_SETJMP_CHECK */
 
    /* include setjmp.h for error handling */
 #  include &lt;setjmp.h&gt;
@@ -800,7 +808,6 @@
 #  define PNG_USER_HEIGHT_MAX 1000000L
 #endif
 
-
 /* Added at libpng-1.2.34 and 1.4.0 */
 #ifndef PNG_STRING_NEWLINE
 #define PNG_STRING_NEWLINE &quot;\n&quot;

Modified: haiku/trunk/src/libs/png/png.c
===================================================================
--- haiku/trunk/src/libs/png/png.c	2009-06-28 13:40:23 UTC (rev 31289)
+++ haiku/trunk/src/libs/png/png.c	2009-06-28 13:46:52 UTC (rev 31290)
@@ -1,9 +1,9 @@
 
 /* png.c - location for general purpose libpng functions
  *
- * Last changed in libpng 1.2.34 [December 18, 2008]
+ * Last changed in libpng 1.2.37 [June 4, 2009]
  * For conditions of distribution and use, see copyright notice in png.h
- * Copyright (c) 1998-2008 Glenn Randers-Pehrson
+ * Copyright (c) 1998-2009 Glenn Randers-Pehrson
  * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)
  * (Version 0.88 Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)
  */
@@ -13,7 +13,7 @@
 #include &quot;png.h&quot;
 
 /* Generate a compiler error if there is an old png.h in the search path. */
-typedef version_1_2_35 Your_png_h_is_not_version_1_2_35;
+typedef version_1_2_37 Your_png_h_is_not_version_1_2_37;
 
 /* Version information for C files.  This had better match the version
  * string defined in png.h.  */
@@ -53,18 +53,18 @@
 PNG_zTXt;
 
 #ifdef PNG_READ_SUPPORTED
-/* arrays to facilitate easy interlacing - use pass (0 - 6) as index */
+/* Arrays to facilitate easy interlacing - use pass (0 - 6) as index */
 
-/* start of interlace block */
+/* Start of interlace block */
 PNG_CONST int FARDATA png_pass_start[] = {0, 4, 0, 2, 0, 1, 0};
 
-/* offset to next interlace block */
+/* Offset to next interlace block */
 PNG_CONST int FARDATA png_pass_inc[] = {8, 8, 4, 4, 2, 2, 1};
 
-/* start of interlace block in the y direction */
+/* Start of interlace block in the y direction */
 PNG_CONST int FARDATA png_pass_ystart[] = {0, 0, 4, 0, 2, 0, 1};
 
-/* offset to next interlace block in the y direction */
+/* Offset to next interlace block in the y direction */
 PNG_CONST int FARDATA png_pass_yinc[] = {8, 8, 8, 4, 4, 2, 2};
 
 /* Height of interlace block.  This is not currently used - if you need
@@ -92,7 +92,8 @@
 void PNGAPI
 png_set_sig_bytes(png_structp png_ptr, int num_bytes)
 {
-   if (png_ptr == NULL) return;
+   if (png_ptr == NULL)
+      return;
    png_debug(1, &quot;in png_set_sig_bytes&quot;);
    if (num_bytes &gt; 8)
       png_error(png_ptr, &quot;Too many bytes for PNG signature.&quot;);
@@ -153,7 +154,8 @@
    png_uint_32 save_flags=p-&gt;flags;
    png_uint_32 num_bytes;
 
-   if (png_ptr == NULL) return (NULL);
+   if (png_ptr == NULL)
+      return (NULL);
    if (items &gt; PNG_UINT_32_MAX/size)
    {
      png_warning (p, &quot;Potential overflow in png_zalloc()&quot;);
@@ -183,7 +185,7 @@
    return ((voidpf)ptr);
 }
 
-/* function to free memory for zlib */
+/* Function to free memory for zlib */
 #ifdef PNG_1_0_X
 void PNGAPI
 #else
@@ -241,7 +243,8 @@
    png_infop info_ptr;
 
    png_debug(1, &quot;in png_create_info_struct&quot;);
-   if (png_ptr == NULL) return (NULL);
+   if (png_ptr == NULL)
+      return (NULL);
 #ifdef PNG_USER_MEM_SUPPORTED
    info_ptr = (png_infop)png_create_struct_2(PNG_STRUCT_INFO,
       png_ptr-&gt;malloc_fn, png_ptr-&gt;mem_ptr);
@@ -263,7 +266,8 @@
 png_destroy_info_struct(png_structp png_ptr, png_infopp info_ptr_ptr)
 {
    png_infop info_ptr = NULL;
-   if (png_ptr == NULL) return;
+   if (png_ptr == NULL)
+      return;
 
    png_debug(1, &quot;in png_destroy_info_struct&quot;);
    if (info_ptr_ptr != NULL)
@@ -302,18 +306,19 @@
 {
    png_infop info_ptr = *ptr_ptr;
 
-   if (info_ptr == NULL) return;
+   if (info_ptr == NULL)
+      return;
 
    png_debug(1, &quot;in png_info_init_3&quot;);
 
    if (png_sizeof(png_info) &gt; png_info_struct_size)
-     {
-       png_destroy_struct(info_ptr);
-       info_ptr = (png_infop)png_create_struct(PNG_STRUCT_INFO);
-       *ptr_ptr = info_ptr;
-     }
+   {
+      png_destroy_struct(info_ptr);
+      info_ptr = (png_infop)png_create_struct(PNG_STRUCT_INFO);
+      *ptr_ptr = info_ptr;
+   }
 
-   /* set everything to 0 */
+   /* Set everything to 0 */
    png_memset(info_ptr, 0, png_sizeof(png_info));
 }
 
@@ -344,245 +349,245 @@
       return;
 
 #if defined(PNG_TEXT_SUPPORTED)
-/* free text item num or (if num == -1) all text items */
+   /* Free text item num or (if num == -1) all text items */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_TEXT) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_TEXT) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_TEXT)
+   if (mask &amp; PNG_FREE_TEXT)
 #endif
-{
-   if (num != -1)
    {
-     if (info_ptr-&gt;text &amp;&amp; info_ptr-&gt;text[num].key)
-     {
-         png_free(png_ptr, info_ptr-&gt;text[num].key);
-         info_ptr-&gt;text[num].key = NULL;
-     }
+      if (num != -1)
+      {
+         if (info_ptr-&gt;text &amp;&amp; info_ptr-&gt;text[num].key)
+         {
+            png_free(png_ptr, info_ptr-&gt;text[num].key);
+            info_ptr-&gt;text[num].key = NULL;
+         }
+      }
+      else
+      {
+         int i;
+         for (i = 0; i &lt; info_ptr-&gt;num_text; i++)
+             png_free_data(png_ptr, info_ptr, PNG_FREE_TEXT, i);
+         png_free(png_ptr, info_ptr-&gt;text);
+         info_ptr-&gt;text = NULL;
+         info_ptr-&gt;num_text=0;
+      }
    }
-   else
-   {
-       int i;
-       for (i = 0; i &lt; info_ptr-&gt;num_text; i++)
-           png_free_data(png_ptr, info_ptr, PNG_FREE_TEXT, i);
-       png_free(png_ptr, info_ptr-&gt;text);
-       info_ptr-&gt;text = NULL;
-       info_ptr-&gt;num_text=0;
-   }
-}
 #endif
 
 #if defined(PNG_tRNS_SUPPORTED)
-/* free any tRNS entry */
+   /* Free any tRNS entry */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_TRNS) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_TRNS) &amp; info_ptr-&gt;free_me)
 #else
-if ((mask &amp; PNG_FREE_TRNS) &amp;&amp; (png_ptr-&gt;flags &amp; PNG_FLAG_FREE_TRNS))
+   if ((mask &amp; PNG_FREE_TRNS) &amp;&amp; (png_ptr-&gt;flags &amp; PNG_FLAG_FREE_TRNS))
 #endif
-{
-    png_free(png_ptr, info_ptr-&gt;trans);
-    info_ptr-&gt;trans = NULL;
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_tRNS;
+   {
+      png_free(png_ptr, info_ptr-&gt;trans);
+      info_ptr-&gt;trans = NULL;
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_tRNS;
 #ifndef PNG_FREE_ME_SUPPORTED
-    png_ptr-&gt;flags &amp;= ~PNG_FLAG_FREE_TRNS;
+      png_ptr-&gt;flags &amp;= ~PNG_FLAG_FREE_TRNS;
 #endif
-}
+   }
 #endif
 
 #if defined(PNG_sCAL_SUPPORTED)
-/* free any sCAL entry */
+   /* Free any sCAL entry */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_SCAL) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_SCAL) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_SCAL)
+   if (mask &amp; PNG_FREE_SCAL)
 #endif
-{
+   {
 #if defined(PNG_FIXED_POINT_SUPPORTED) &amp;&amp; !defined(PNG_FLOATING_POINT_SUPPORTED)
-    png_free(png_ptr, info_ptr-&gt;scal_s_width);
-    png_free(png_ptr, info_ptr-&gt;scal_s_height);
-    info_ptr-&gt;scal_s_width = NULL;
-    info_ptr-&gt;scal_s_height = NULL;
+      png_free(png_ptr, info_ptr-&gt;scal_s_width);
+      png_free(png_ptr, info_ptr-&gt;scal_s_height);
+      info_ptr-&gt;scal_s_width = NULL;
+      info_ptr-&gt;scal_s_height = NULL;
 #endif
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_sCAL;
-}
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_sCAL;
+   }
 #endif
 
 #if defined(PNG_pCAL_SUPPORTED)
-/* free any pCAL entry */
+   /* Free any pCAL entry */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_PCAL) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_PCAL) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_PCAL)
+   if (mask &amp; PNG_FREE_PCAL)
 #endif
-{
-    png_free(png_ptr, info_ptr-&gt;pcal_purpose);
-    png_free(png_ptr, info_ptr-&gt;pcal_units);
-    info_ptr-&gt;pcal_purpose = NULL;
-    info_ptr-&gt;pcal_units = NULL;
-    if (info_ptr-&gt;pcal_params != NULL)
-    {
-        int i;
-        for (i = 0; i &lt; (int)info_ptr-&gt;pcal_nparams; i++)
-        {
-          png_free(png_ptr, info_ptr-&gt;pcal_params[i]);
-          info_ptr-&gt;pcal_params[i]=NULL;
-        }
-        png_free(png_ptr, info_ptr-&gt;pcal_params);
-        info_ptr-&gt;pcal_params = NULL;
-    }
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_pCAL;
-}
+   {
+      png_free(png_ptr, info_ptr-&gt;pcal_purpose);
+      png_free(png_ptr, info_ptr-&gt;pcal_units);
+      info_ptr-&gt;pcal_purpose = NULL;
+      info_ptr-&gt;pcal_units = NULL;
+      if (info_ptr-&gt;pcal_params != NULL)
+         {
+            int i;
+            for (i = 0; i &lt; (int)info_ptr-&gt;pcal_nparams; i++)
+            {
+               png_free(png_ptr, info_ptr-&gt;pcal_params[i]);
+               info_ptr-&gt;pcal_params[i]=NULL;
+            }
+            png_free(png_ptr, info_ptr-&gt;pcal_params);
+            info_ptr-&gt;pcal_params = NULL;
+         }
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_pCAL;
+   }
 #endif
 
 #if defined(PNG_iCCP_SUPPORTED)
-/* free any iCCP entry */
+   /* Free any iCCP entry */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_ICCP) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_ICCP) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_ICCP)
+   if (mask &amp; PNG_FREE_ICCP)
 #endif
-{
-    png_free(png_ptr, info_ptr-&gt;iccp_name);
-    png_free(png_ptr, info_ptr-&gt;iccp_profile);
-    info_ptr-&gt;iccp_name = NULL;
-    info_ptr-&gt;iccp_profile = NULL;
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_iCCP;
-}
+   {
+      png_free(png_ptr, info_ptr-&gt;iccp_name);
+      png_free(png_ptr, info_ptr-&gt;iccp_profile);
+      info_ptr-&gt;iccp_name = NULL;
+      info_ptr-&gt;iccp_profile = NULL;
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_iCCP;
+   }
 #endif
 
 #if defined(PNG_sPLT_SUPPORTED)
-/* free a given sPLT entry, or (if num == -1) all sPLT entries */
+   /* Free a given sPLT entry, or (if num == -1) all sPLT entries */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_SPLT) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_SPLT) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_SPLT)
+   if (mask &amp; PNG_FREE_SPLT)
 #endif
-{
-   if (num != -1)
    {
-      if (info_ptr-&gt;splt_palettes)
+      if (num != -1)
       {
-          png_free(png_ptr, info_ptr-&gt;splt_palettes[num].name);
-          png_free(png_ptr, info_ptr-&gt;splt_palettes[num].entries);
-          info_ptr-&gt;splt_palettes[num].name = NULL;
-          info_ptr-&gt;splt_palettes[num].entries = NULL;
+         if (info_ptr-&gt;splt_palettes)
+         {
+            png_free(png_ptr, info_ptr-&gt;splt_palettes[num].name);
+            png_free(png_ptr, info_ptr-&gt;splt_palettes[num].entries);
+            info_ptr-&gt;splt_palettes[num].name = NULL;
+            info_ptr-&gt;splt_palettes[num].entries = NULL;
+         }
       }
-   }
-   else
-   {
-       if (info_ptr-&gt;splt_palettes_num)
-       {
-         int i;
-         for (i = 0; i &lt; (int)info_ptr-&gt;splt_palettes_num; i++)
-            png_free_data(png_ptr, info_ptr, PNG_FREE_SPLT, i);
+      else
+      {
+         if (info_ptr-&gt;splt_palettes_num)
+         {
+            int i;
+            for (i = 0; i &lt; (int)info_ptr-&gt;splt_palettes_num; i++)
+               png_free_data(png_ptr, info_ptr, PNG_FREE_SPLT, i);
 
-         png_free(png_ptr, info_ptr-&gt;splt_palettes);
-         info_ptr-&gt;splt_palettes = NULL;
-         info_ptr-&gt;splt_palettes_num = 0;
-       }
-       info_ptr-&gt;valid &amp;= ~PNG_INFO_sPLT;
+            png_free(png_ptr, info_ptr-&gt;splt_palettes);
+            info_ptr-&gt;splt_palettes = NULL;
+            info_ptr-&gt;splt_palettes_num = 0;
+         }
+         info_ptr-&gt;valid &amp;= ~PNG_INFO_sPLT;
+      }
    }
-}
 #endif
 
 #if defined(PNG_UNKNOWN_CHUNKS_SUPPORTED)
-  if (png_ptr-&gt;unknown_chunk.data)
-  {
-    png_free(png_ptr, png_ptr-&gt;unknown_chunk.data);
-    png_ptr-&gt;unknown_chunk.data = NULL;
-  }
+   if (png_ptr-&gt;unknown_chunk.data)
+   {
+      png_free(png_ptr, png_ptr-&gt;unknown_chunk.data);
+      png_ptr-&gt;unknown_chunk.data = NULL;
+   }
 
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_UNKN) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_UNKN) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_UNKN)
+   if (mask &amp; PNG_FREE_UNKN)
 #endif
-{
-   if (num != -1)
    {
-       if (info_ptr-&gt;unknown_chunks)
-       {
-          png_free(png_ptr, info_ptr-&gt;unknown_chunks[num].data);
-          info_ptr-&gt;unknown_chunks[num].data = NULL;
-       }
-   }
-   else
-   {
-       int i;
+      if (num != -1)
+      {
+          if (info_ptr-&gt;unknown_chunks)
+          {
+             png_free(png_ptr, info_ptr-&gt;unknown_chunks[num].data);
+             info_ptr-&gt;unknown_chunks[num].data = NULL;
+          }
+      }
+      else
+      {
+         int i;
 
-       if (info_ptr-&gt;unknown_chunks_num)
-       {
-         for (i = 0; i &lt; (int)info_ptr-&gt;unknown_chunks_num; i++)
-            png_free_data(png_ptr, info_ptr, PNG_FREE_UNKN, i);
+         if (info_ptr-&gt;unknown_chunks_num)
+         {
+            for (i = 0; i &lt; (int)info_ptr-&gt;unknown_chunks_num; i++)
+               png_free_data(png_ptr, info_ptr, PNG_FREE_UNKN, i);
 
-         png_free(png_ptr, info_ptr-&gt;unknown_chunks);
-         info_ptr-&gt;unknown_chunks = NULL;
-         info_ptr-&gt;unknown_chunks_num = 0;
-       }
+            png_free(png_ptr, info_ptr-&gt;unknown_chunks);
+            info_ptr-&gt;unknown_chunks = NULL;
+            info_ptr-&gt;unknown_chunks_num = 0;
+         }
+      }
    }
-}
 #endif
 
 #if defined(PNG_hIST_SUPPORTED)
-/* free any hIST entry */
+   /* Free any hIST entry */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_HIST)  &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_HIST)  &amp; info_ptr-&gt;free_me)
 #else
-if ((mask &amp; PNG_FREE_HIST) &amp;&amp; (png_ptr-&gt;flags &amp; PNG_FLAG_FREE_HIST))
+   if ((mask &amp; PNG_FREE_HIST) &amp;&amp; (png_ptr-&gt;flags &amp; PNG_FLAG_FREE_HIST))
 #endif
-{
-    png_free(png_ptr, info_ptr-&gt;hist);
-    info_ptr-&gt;hist = NULL;
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_hIST;
+   {
+      png_free(png_ptr, info_ptr-&gt;hist);
+      info_ptr-&gt;hist = NULL;
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_hIST;
 #ifndef PNG_FREE_ME_SUPPORTED
-    png_ptr-&gt;flags &amp;= ~PNG_FLAG_FREE_HIST;
+      png_ptr-&gt;flags &amp;= ~PNG_FLAG_FREE_HIST;
 #endif
-}
+   }
 #endif
 
-/* free any PLTE entry that was internally allocated */
+   /* Free any PLTE entry that was internally allocated */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_PLTE) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_PLTE) &amp; info_ptr-&gt;free_me)
 #else
-if ((mask &amp; PNG_FREE_PLTE) &amp;&amp; (png_ptr-&gt;flags &amp; PNG_FLAG_FREE_PLTE))
+   if ((mask &amp; PNG_FREE_PLTE) &amp;&amp; (png_ptr-&gt;flags &amp; PNG_FLAG_FREE_PLTE))
 #endif
-{
-    png_zfree(png_ptr, info_ptr-&gt;palette);
-    info_ptr-&gt;palette = NULL;
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_PLTE;
+   {
+      png_zfree(png_ptr, info_ptr-&gt;palette);
+      info_ptr-&gt;palette = NULL;
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_PLTE;
 #ifndef PNG_FREE_ME_SUPPORTED
-    png_ptr-&gt;flags &amp;= ~PNG_FLAG_FREE_PLTE;
+      png_ptr-&gt;flags &amp;= ~PNG_FLAG_FREE_PLTE;
 #endif
-    info_ptr-&gt;num_palette = 0;
-}
+      info_ptr-&gt;num_palette = 0;
+   }
 
 #if defined(PNG_INFO_IMAGE_SUPPORTED)
-/* free any image bits attached to the info structure */
+   /* Free any image bits attached to the info structure */
 #ifdef PNG_FREE_ME_SUPPORTED
-if ((mask &amp; PNG_FREE_ROWS) &amp; info_ptr-&gt;free_me)
+   if ((mask &amp; PNG_FREE_ROWS) &amp; info_ptr-&gt;free_me)
 #else
-if (mask &amp; PNG_FREE_ROWS)
+   if (mask &amp; PNG_FREE_ROWS)
 #endif
-{
-    if (info_ptr-&gt;row_pointers)
-    {
-       int row;
-       for (row = 0; row &lt; (int)info_ptr-&gt;height; row++)
-       {
-          png_free(png_ptr, info_ptr-&gt;row_pointers[row]);
-          info_ptr-&gt;row_pointers[row]=NULL;
-       }
-       png_free(png_ptr, info_ptr-&gt;row_pointers);
-       info_ptr-&gt;row_pointers=NULL;
-    }
-    info_ptr-&gt;valid &amp;= ~PNG_INFO_IDAT;
-}
+   {
+      if (info_ptr-&gt;row_pointers)
+      {
+         int row;
+         for (row = 0; row &lt; (int)info_ptr-&gt;height; row++)
+         {
+            png_free(png_ptr, info_ptr-&gt;row_pointers[row]);
+            info_ptr-&gt;row_pointers[row]=NULL;
+         }
+         png_free(png_ptr, info_ptr-&gt;row_pointers);
+         info_ptr-&gt;row_pointers=NULL;
+      }
+      info_ptr-&gt;valid &amp;= ~PNG_INFO_IDAT;
+   }
 #endif
 
 #ifdef PNG_FREE_ME_SUPPORTED
    if (num == -1)
-     info_ptr-&gt;free_me &amp;= ~mask;
+      info_ptr-&gt;free_me &amp;= ~mask;
    else
-     info_ptr-&gt;free_me &amp;= ~(mask &amp; ~PNG_FREE_MUL);
+      info_ptr-&gt;free_me &amp;= ~(mask &amp; ~PNG_FREE_MUL);
 #endif
 }
 
@@ -600,9 +605,9 @@
 #if defined(PNG_UNKNOWN_CHUNKS_SUPPORTED)
    if (png_ptr-&gt;num_chunk_list)
    {
-       png_free(png_ptr, png_ptr-&gt;chunk_list);
-       png_ptr-&gt;chunk_list=NULL;
-       png_ptr-&gt;num_chunk_list = 0;
+      png_free(png_ptr, png_ptr-&gt;chunk_list);
+      png_ptr-&gt;chunk_list=NULL;
+      png_ptr-&gt;num_chunk_list = 0;
    }
 #endif
 
@@ -617,7 +622,8 @@
 png_voidp PNGAPI
 png_get_io_ptr(png_structp png_ptr)
 {
-   if (png_ptr == NULL) return (NULL);
+   if (png_ptr == NULL)
+      return (NULL);
    return (png_ptr-&gt;io_ptr);
 }
 
@@ -633,7 +639,8 @@
 png_init_io(png_structp png_ptr, png_FILE_p fp)
 {
    png_debug(1, &quot;in png_init_io&quot;);
-   if (png_ptr == NULL) return;
+   if (png_ptr == NULL)
+      return;
    png_ptr-&gt;io_ptr = (png_voidp)fp;
 }
 #endif
@@ -649,7 +656,8 @@
         {&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;,
          &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;};
 
-   if (png_ptr == NULL) return (NULL);
+   if (png_ptr == NULL)
+      return (NULL);
    if (png_ptr-&gt;time_buffer == NULL)
    {
       png_ptr-&gt;time_buffer = (png_charp)png_malloc(png_ptr, (png_uint_32)(29*
@@ -693,9 +701,9 @@
 png_charp PNGAPI
 png_get_copyright(png_structp png_ptr)
 {
-   png_ptr = png_ptr;  /* silence compiler warning about unused png_ptr */
-   return ((png_charp) &quot;\n libpng version 1.2.35 - February 14, 2009\n\
-   Copyright (c) 1998-2008 Glenn Randers-Pehrson\n\
+   png_ptr = png_ptr;  /* Silence compiler warning about unused png_ptr */
+   return ((png_charp) &quot;\n libpng version 1.2.37 - June 4, 2009\n\
+   Copyright (c) 1998-2009 Glenn Randers-Pehrson\n\
    Copyright (c) 1996-1997 Andreas Dilger\n\
    Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\n&quot;);
 }
@@ -712,7 +720,7 @@
 png_get_libpng_ver(png_structp png_ptr)
 {
    /* Version of *.c files used when building libpng */
-   png_ptr = png_ptr;  /* silence compiler warning about unused png_ptr */
+   png_ptr = png_ptr;  /* Silence compiler warning about unused png_ptr */
    return ((png_charp) PNG_LIBPNG_VER_STRING);
 }
 
@@ -720,7 +728,7 @@
 png_get_header_ver(png_structp png_ptr)
 {
    /* Version of *.h files used when building libpng */
-   png_ptr = png_ptr;  /* silence compiler warning about unused png_ptr */
+   png_ptr = png_ptr;  /* Silence compiler warning about unused png_ptr */
    return ((png_charp) PNG_LIBPNG_VER_STRING);
 }
 
@@ -728,7 +736,7 @@
 png_get_header_version(png_structp png_ptr)
 {
    /* Returns longer string containing both version and date */
-   png_ptr = png_ptr;  /* silence compiler warning about unused png_ptr */
+   png_ptr = png_ptr;  /* Silence compiler warning about unused png_ptr */
    return ((png_charp) PNG_HEADER_VERSION_STRING
 #ifndef PNG_READ_SUPPORTED
    &quot;     (NO READ SUPPORT)&quot;
@@ -741,7 +749,7 @@
 int PNGAPI
 png_handle_as_unknown(png_structp png_ptr, png_bytep chunk_name)
 {
-   /* check chunk_name and return &quot;keep&quot; value if it's on the list, else 0 */
+   /* Check chunk_name and return &quot;keep&quot; value if it's on the list, else 0 */
    int i;
    png_bytep p;
    if (png_ptr == NULL || chunk_name == NULL || png_ptr-&gt;num_chunk_list&lt;=0)
@@ -758,7 +766,8 @@
 int PNGAPI
 png_reset_zstream(png_structp png_ptr)
 {
-   if (png_ptr == NULL) return Z_STREAM_ERROR;
+   if (png_ptr == NULL)
+      return Z_STREAM_ERROR;
    return (inflateReset(&amp;png_ptr-&gt;zstream));
 }
 #endif /* defined(PNG_READ_SUPPORTED) || defined(PNG_WRITE_SUPPORTED) */
@@ -774,11 +783,11 @@
 
 #if defined(PNG_READ_SUPPORTED) &amp;&amp; defined(PNG_ASSEMBLER_CODE_SUPPORTED)
 #if !defined(PNG_1_0_X)
-/* this function was added to libpng 1.2.0 */
+/* This function was added to libpng 1.2.0 */
 int PNGAPI
 png_mmx_support(void)
 {
-   /* obsolete, to be removed from libpng-1.4.0 */
+   /* Obsolete, to be removed from libpng-1.4.0 */
     return -1;
 }
 #endif /* PNG_1_0_X */
@@ -791,53 +800,55 @@
 png_size_t PNGAPI
 png_convert_size(size_t size)
 {
-  if (size &gt; (png_size_t)-1)
-     PNG_ABORT();  /* We haven't got access to png_ptr, so no png_error() */
-  return ((png_size_t)size);
+   if (size &gt; (png_size_t)-1)
+      PNG_ABORT();  /* We haven't got access to png_ptr, so no png_error() */
+   return ((png_size_t)size);
 }
 #endif /* PNG_SIZE_T */
 
 /* Added at libpng version 1.2.34 and 1.4.0 (moved from pngset.c) */
 #if defined(PNG_cHRM_SUPPORTED)
 #if !defined(PNG_NO_CHECK_cHRM)
+
 /*
- Multiply two 32-bit numbers, V1 and V2, using 32-bit
- arithmetic, to produce a 64 bit result in the HI/LO words.
-
-          A B
-        x C D
-       ------
-      AD || BD
-AC || CB || 0
-
- where A and B are the high and low 16-bit words of V1,
- C and D are the 16-bit words of V2, AD is the product of
- A and D, and X || Y is (X &lt;&lt; 16) + Y.
+ *    Multiply two 32-bit numbers, V1 and V2, using 32-bit

[... truncated: 7139 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017537.html">[Haiku-commits] r31289 - in haiku/trunk/src/kits/opengl/mesa: main	shader/slang swrast vbo
</A></li>
	<LI>Next message: <A HREF="017539.html">[Haiku-commits] r31291 - in haiku/trunk:	headers/private/graphics/nvidia src/add-ons/accelerants/nvidia	src/add-ons/accelerants/nvidia/engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17538">[ date ]</a>
              <a href="thread.html#17538">[ thread ]</a>
              <a href="subject.html#17538">[ subject ]</a>
              <a href="author.html#17538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
