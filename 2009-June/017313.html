<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31115 - in haiku/trunk: headers/private/kernel headers/private/system src/kits/app src/system/kernel/vm src/system/libroot/posix/malloc src/system/runtime_loader
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31115%20-%20in%20haiku/trunk%3A%20headers/private/kernel%0A%20headers/private/system%20src/kits/app%20src/system/kernel/vm%0A%20src/system/libroot/posix/malloc%20src/system/runtime_loader&In-Reply-To=%3C20090619145855.2336.1%40bepc.1245415938.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017312.html">
   <LINK REL="Next"  HREF="017314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31115 - in haiku/trunk: headers/private/kernel headers/private/system src/kits/app src/system/kernel/vm src/system/libroot/posix/malloc src/system/runtime_loader</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31115%20-%20in%20haiku/trunk%3A%20headers/private/kernel%0A%20headers/private/system%20src/kits/app%20src/system/kernel/vm%0A%20src/system/libroot/posix/malloc%20src/system/runtime_loader&In-Reply-To=%3C20090619145855.2336.1%40bepc.1245415938.fake%3E"
       TITLE="[Haiku-commits] r31115 - in haiku/trunk: headers/private/kernel headers/private/system src/kits/app src/system/kernel/vm src/system/libroot/posix/malloc src/system/runtime_loader">superstippi at gmx.de
       </A><BR>
    <I>Fri Jun 19 14:58:55 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="017312.html">[Haiku-commits] r31115 - in haiku/trunk: headers/private/kernel	headers/private/system src/kits/app src/system/kernel/vm	src/system/libroot/posix/malloc src/system/runtime_loader
</A></li>
        <LI>Next message: <A HREF="017314.html">[Haiku-commits] r31116 - haiku/trunk/src/apps/debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17313">[ date ]</a>
              <a href="thread.html#17313">[ thread ]</a>
              <a href="subject.html#17313">[ subject ]</a>
              <a href="author.html#17313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2009-06-19 at 13:09:23 [+0200], axeld at BerliOS &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at mail.berlios.de</A>&gt; 
wrote:
&gt;<i> Author: axeld
</I>&gt;<i> Date: 2009-06-19 13:09:21 +0200 (Fri, 19 Jun 2009) New Revision: 31115
</I>&gt;<i> ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31115&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31115&amp;view=rev</A>
</I>&gt;<i> 
</I>&gt;<i> Modified:
</I>&gt;<i>    haiku/trunk/headers/private/kernel/vm.h
</I>&gt;<i>    haiku/trunk/headers/private/system/syscalls.h
</I>&gt;<i>    haiku/trunk/src/kits/app/ServerMemoryAllocator.cpp 
</I>&gt;<i>    haiku/trunk/src/system/kernel/vm/vm.cpp
</I>&gt;<i>    haiku/trunk/src/system/libroot/posix/malloc/arch-specific.cpp 
</I>&gt;<i>    haiku/trunk/src/system/runtime_loader/images.cpp
</I>&gt;<i> Log:
</I>&gt;<i> * Renamed _kern_reserve_heap_address_range() to 
</I>&gt;<i> _kern_reserve_address_range(),
</I>&gt;<i>   and added a _kern_unreserve_address_range() as well.
</I>&gt;<i> * The runtime loader now reserves the space needed for all its areas first
</I>&gt;<i>   to make sure there is enough space left for all areas of a single image.
</I>&gt;<i> * This also fixes the final part of bug #4008.
</I>
It doesn't seem to be the only thing this fixes, although it may still be 
one and the same bug. From my testing with Clockwerk, I could also 
reproduce a situation where decoder plug-ins for clips needed to be opened 
on program start up, since the playlist would open such that a clip would 
immediately need to be rendered on the canvas. These clips would often 
display black while a second instace of the clip later in the timeline 
would display correctly. From when I had all sorts of debugging output in 
libmedia.so, I could see that actual plug-in loading was were it failed for 
the first instance. This is no longer the case and clips seem to display 
reliably. It could also be that they failed to load because of the 
corruption.

Great job, Axel, thanks a lot!

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017312.html">[Haiku-commits] r31115 - in haiku/trunk: headers/private/kernel	headers/private/system src/kits/app src/system/kernel/vm	src/system/libroot/posix/malloc src/system/runtime_loader
</A></li>
	<LI>Next message: <A HREF="017314.html">[Haiku-commits] r31116 - haiku/trunk/src/apps/debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17313">[ date ]</a>
              <a href="thread.html#17313">[ thread ]</a>
              <a href="subject.html#17313">[ subject ]</a>
              <a href="author.html#17313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
