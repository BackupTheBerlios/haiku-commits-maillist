<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r22404 - haiku/trunk/src/system/kernel/vm
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22404%20-%20haiku/trunk/src/system/kernel/vm&In-Reply-To=%3C200710020001.l9201IYG024175%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004091.html">
   <LINK REL="Next"  HREF="004093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r22404 - haiku/trunk/src/system/kernel/vm</H1>
    <B>axeld at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22404%20-%20haiku/trunk/src/system/kernel/vm&In-Reply-To=%3C200710020001.l9201IYG024175%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r22404 - haiku/trunk/src/system/kernel/vm">axeld at mail.berlios.de
       </A><BR>
    <I>Tue Oct  2 02:01:18 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004091.html">[Haiku-commits] r22403 - haiku/trunk/src/system/kernel
</A></li>
        <LI>Next message: <A HREF="004093.html">[Haiku-commits] r22405 -	haiku/trunk/src/add-ons/kernel/drivers/network/stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4092">[ date ]</a>
              <a href="thread.html#4092">[ thread ]</a>
              <a href="subject.html#4092">[ subject ]</a>
              <a href="author.html#4092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: axeld
Date: 2007-10-02 02:01:18 +0200 (Tue, 02 Oct 2007)
New Revision: 22404
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=22404&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=22404&amp;view=rev</A>

Modified:
   haiku/trunk/src/system/kernel/vm/vm_store_anonymous_noswap.cpp
Log:
The no-swap store shouldn't fool the page writer into believing that its pages
could be written back. This should stop the page thief from stealing active
pages that cannot be recreated easily :-)


Modified: haiku/trunk/src/system/kernel/vm/vm_store_anonymous_noswap.cpp
===================================================================
--- haiku/trunk/src/system/kernel/vm/vm_store_anonymous_noswap.cpp	2007-10-01 22:46:56 UTC (rev 22403)
+++ haiku/trunk/src/system/kernel/vm/vm_store_anonymous_noswap.cpp	2007-10-02 00:01:18 UTC (rev 22404)
@@ -102,7 +102,7 @@
 	size_t count, size_t *_numBytes, bool fsReenter)
 {
 	// no place to write, this will cause the page daemon to skip this store
-	return 0;
+	return B_ERROR;
 }
 
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004091.html">[Haiku-commits] r22403 - haiku/trunk/src/system/kernel
</A></li>
	<LI>Next message: <A HREF="004093.html">[Haiku-commits] r22405 -	haiku/trunk/src/add-ons/kernel/drivers/network/stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4092">[ date ]</a>
              <a href="thread.html#4092">[ thread ]</a>
              <a href="subject.html#4092">[ subject ]</a>
              <a href="author.html#4092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
