<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r22762 - in haiku/trunk/src: apps/aboutsystem	apps/clock apps/diskprobe apps/installer bin	preferences/filetypes preferences/mail preferences/media	preferences/mouse preferences/screen servers/midi
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22762%20-%20in%20haiku/trunk/src%3A%20apps/aboutsystem%0A%09apps/clock%20apps/diskprobe%20apps/installer%20bin%0A%09preferences/filetypes%20preferences/mail%20preferences/media%0A%09preferences/mouse%20preferences/screen%20servers/midi&In-Reply-To=%3C200710291910.l9TJAW2T025910%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004533.html">
   <LINK REL="Next"  HREF="004535.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r22762 - in haiku/trunk/src: apps/aboutsystem	apps/clock apps/diskprobe apps/installer bin	preferences/filetypes preferences/mail preferences/media	preferences/mouse preferences/screen servers/midi</H1>
    <B>korli at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22762%20-%20in%20haiku/trunk/src%3A%20apps/aboutsystem%0A%09apps/clock%20apps/diskprobe%20apps/installer%20bin%0A%09preferences/filetypes%20preferences/mail%20preferences/media%0A%09preferences/mouse%20preferences/screen%20servers/midi&In-Reply-To=%3C200710291910.l9TJAW2T025910%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r22762 - in haiku/trunk/src: apps/aboutsystem	apps/clock apps/diskprobe apps/installer bin	preferences/filetypes preferences/mail preferences/media	preferences/mouse preferences/screen servers/midi">korli at mail.berlios.de
       </A><BR>
    <I>Mon Oct 29 20:10:32 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004533.html">[Haiku-commits] r22761 - haiku/trunk/src/tests/kits/interface
</A></li>
        <LI>Next message: <A HREF="004535.html">[Haiku-commits] r22763 - haiku/trunk/src/servers/print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4534">[ date ]</a>
              <a href="thread.html#4534">[ thread ]</a>
              <a href="subject.html#4534">[ subject ]</a>
              <a href="author.html#4534">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: korli
Date: 2007-10-29 20:10:30 +0100 (Mon, 29 Oct 2007)
New Revision: 22762
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=22762&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=22762&amp;view=rev</A>

Modified:
   haiku/trunk/src/apps/aboutsystem/AboutSystem.cpp
   haiku/trunk/src/apps/clock/cl_view.cpp
   haiku/trunk/src/apps/diskprobe/AttributeEditors.cpp
   haiku/trunk/src/apps/installer/FSUtils.cpp
   haiku/trunk/src/bin/listattr.cpp
   haiku/trunk/src/bin/listres.cpp
   haiku/trunk/src/preferences/filetypes/IconView.cpp
   haiku/trunk/src/preferences/mail/ConfigWindow.cpp
   haiku/trunk/src/preferences/media/MediaAlert.cpp
   haiku/trunk/src/preferences/mouse/MouseView.cpp
   haiku/trunk/src/preferences/screen/AlertView.cpp
   haiku/trunk/src/servers/midi/DeviceWatcher.cpp
Log:
replaced misc values with respective constants


Modified: haiku/trunk/src/apps/aboutsystem/AboutSystem.cpp
===================================================================
--- haiku/trunk/src/apps/aboutsystem/AboutSystem.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/apps/aboutsystem/AboutSystem.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -21,9 +21,10 @@
 #include &lt;Screen.h&gt;
 #include &lt;ScrollView.h&gt;
 #include &lt;String.h&gt;
+#include &lt;StringView.h&gt;
 #include &lt;TextView.h&gt;
 #include &lt;TranslationUtils.h&gt;
-#include &lt;StringView.h&gt;
+#include &lt;TranslatorFormats.h&gt;
 #include &lt;View.h&gt;
 #include &lt;Window.h&gt;
 
@@ -118,7 +119,7 @@
 	fLastActionTime(system_time()),
 	fScrollRunner(NULL)
 {
-	fLogo = BTranslationUtils::GetBitmap('PNG ', &quot;haikulogo.png&quot;);
+	fLogo = BTranslationUtils::GetBitmap(B_PNG_FORMAT, &quot;haikulogo.png&quot;);
 	if (fLogo) {
 		fDrawPoint.x = (225-fLogo-&gt;Bounds().Width()) / 2;
 		fDrawPoint.y = 0;

Modified: haiku/trunk/src/apps/clock/cl_view.cpp
===================================================================
--- haiku/trunk/src/apps/clock/cl_view.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/apps/clock/cl_view.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -65,7 +65,7 @@
 			}
 
 			theRect.Set(0,0,15,15);
-			if ((picH = rsrcs.FindResource('MICN', &quot;center&quot;, &amp;len))) {
+			if ((picH = rsrcs.FindResource(B_MINI_ICON_TYPE, &quot;center&quot;, &amp;len))) {
 				fCenter = new BBitmap(theRect, B_CMAP8);
 				fCenter-&gt;SetBits(picH, len, 0, B_CMAP8);
 				free(picH);

Modified: haiku/trunk/src/apps/diskprobe/AttributeEditors.cpp
===================================================================
--- haiku/trunk/src/apps/diskprobe/AttributeEditors.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/apps/diskprobe/AttributeEditors.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -25,6 +25,7 @@
 #include &lt;TextControl.h&gt;
 #include &lt;TextView.h&gt;
 #include &lt;TranslationUtils.h&gt;
+#include &lt;TranslatorFormats.h&gt;
 
 #include &lt;stdlib.h&gt;
 
@@ -772,7 +773,7 @@
 	fBitmap(NULL),
 	fScaleSlider(NULL)
 {
-	if (editor.Type() == 'MICN' || editor.Type() == 'ICON'
+	if (editor.Type() == B_MINI_ICON_TYPE || editor.Type() == B_LARGE_ICON_TYPE 
 #ifdef HAIKU_TARGET_PLATFORM_HAIKU
 		|| editor.Type() == B_VECTOR_ICON_TYPE
 #endif
@@ -878,7 +879,7 @@
 		return;
 	}
 
-	if (fBitmap != NULL &amp;&amp; (fEditor.Type() == 'MICN' || fEditor.Type() == 'ICON')) {
+	if (fBitmap != NULL &amp;&amp; (fEditor.Type() == B_MINI_ICON_TYPE || fEditor.Type() == B_LARGE_ICON_TYPE)) {
 		// optimize icon update...
 		fBitmap-&gt;SetBits(data, fEditor.FileSize(), 0, B_CMAP8);
 		fEditor.SetViewSize(viewSize);
@@ -899,12 +900,12 @@
 	fBitmap = NULL;
 
 	switch (fEditor.Type()) {
-		case 'MICN':
+		case B_MINI_ICON_TYPE:
 			fBitmap = new BBitmap(BRect(0, 0, 15, 15), B_CMAP8);
 			if (fBitmap-&gt;InitCheck() == B_OK)
 				fBitmap-&gt;SetBits(data, fEditor.FileSize(), 0, B_CMAP8);
 			break;
-		case 'ICON':
+		case B_LARGE_ICON_TYPE:
 			fBitmap = new BBitmap(BRect(0, 0, 31, 31), B_CMAP8);
 			if (fBitmap-&gt;InitCheck() == B_OK)
 				fBitmap-&gt;SetBits(data, fEditor.FileSize(), 0, B_CMAP8);
@@ -921,13 +922,13 @@
 			}
 			break;
 #endif
-		case 'PNG ':
+		case B_PNG_FORMAT:
 		{
 			BMemoryIO stream(data, fEditor.FileSize());
 			fBitmap = BTranslationUtils::GetBitmap(&amp;stream);
 			break;
 		}
-		case 'MSGG':
+		case B_MESSAGE_TYPE:
 		{
 			BMessage message;
 			// ToDo: this could be problematic if the data is not large
@@ -950,17 +951,17 @@
 		char buffer[256];
 		const char *type = &quot;Unknown Type&quot;;
 		switch (fEditor.Type()) {
-			case 'MICN':
-			case 'ICON':
+			case B_MINI_ICON_TYPE:
+			case B_LARGE_ICON_TYPE:
 #ifdef HAIKU_TARGET_PLATFORM_HAIKU
 			case B_VECTOR_ICON_TYPE:
 #endif
 				type = &quot;Icon&quot;;
 				break;
-			case 'PNG ':
+			case B_PNG_FORMAT:
 				type = &quot;PNG Format&quot;;
 				break;
-			case 'MSGG':
+			case B_MESSAGE_TYPE:
 				type = &quot;Flattened Bitmap&quot;;
 				break;
 			default:	
@@ -1083,10 +1084,10 @@
 		case B_OFF_T_TYPE:
 		case B_POINTER_TYPE:
 			return new NumberEditor(rect, editor);
-		case 'MICN':
-		case 'ICON':
-		case 'PNG ':
-		case 'MSGG':
+		case B_MINI_ICON_TYPE:
+		case B_LARGE_ICON_TYPE:
+		case B_PNG_FORMAT:
+		case B_MESSAGE_TYPE:
 #ifdef HAIKU_TARGET_PLATFORM_HAIKU
 		case B_VECTOR_ICON_TYPE:
 #endif

Modified: haiku/trunk/src/apps/installer/FSUtils.cpp
===================================================================
--- haiku/trunk/src/apps/installer/FSUtils.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/apps/installer/FSUtils.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -2140,13 +2140,13 @@
 
 	size_t size;
 	const void* data = GetTrackerResources()-&gt;
-		LoadResource('ICON', kResDeskIcon, &amp;size);
+		LoadResource(B_LARGE_ICON_TYPE, kResDeskIcon, &amp;size);
 
 	if (data)
 		deskDir-&gt;WriteAttr(kAttrLargeIcon, B_COLOR_8_BIT_TYPE, 0, data, size);
 
 	data = GetTrackerResources()-&gt;
-		LoadResource('MICN', kResDeskIcon, &amp;size);
+		LoadResource(B_MINI_ICON_TYPE, kResDeskIcon, &amp;size);
 
 	if (data)
 		deskDir-&gt;WriteAttr(kAttrMiniIcon, B_COLOR_8_BIT_TYPE, 0, data, size);
@@ -2639,13 +2639,13 @@
 		if (FSGetTrashDir(&amp;trashDir, volume.Device()) == B_OK) {
 			size_t size;
 			const void* data = GetTrackerResources()-&gt;
-				LoadResource('ICON', kResTrashIcon, &amp;size);
+				LoadResource(B_LARGE_ICON_TYPE, kResTrashIcon, &amp;size);
 			if (data) {
 				trashDir.WriteAttr(kAttrLargeIcon, B_COLOR_8_BIT_TYPE, 0,
 					data, size);
 			}
 			data = GetTrackerResources()-&gt;
-				LoadResource('MICN', kResTrashIcon, &amp;size);
+				LoadResource(B_MINI_ICON_TYPE, kResTrashIcon, &amp;size);
 			if (data) {
 				trashDir.WriteAttr(kAttrMiniIcon, B_COLOR_8_BIT_TYPE, 0,
 					data, size);

Modified: haiku/trunk/src/bin/listattr.cpp
===================================================================
--- haiku/trunk/src/bin/listattr.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/bin/listattr.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -51,9 +51,9 @@
 		case B_DOUBLE_TYPE:
 			return &quot;Double&quot;;
 
-		case 'MICN':
+		case B_MINI_ICON_TYPE:
 			return &quot;Mini Icon&quot;;
-		case 'ICON':
+		case B_LARGE_ICON_TYPE:
 			return &quot;Icon&quot;;
 
 		default:

Modified: haiku/trunk/src/bin/listres.cpp
===================================================================
--- haiku/trunk/src/bin/listres.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/bin/listres.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -49,9 +49,9 @@
 		case B_DOUBLE_TYPE:
 			return &quot;Double&quot;;
 
-		case 'MICN':
+		case B_MINI_ICON_TYPE:
 			return &quot;Mini Icon&quot;;
-		case 'ICON':
+		case B_LARGE_ICON_TYPE:
 			return &quot;Icon&quot;;
 
 		default:

Modified: haiku/trunk/src/preferences/filetypes/IconView.cpp
===================================================================
--- haiku/trunk/src/preferences/filetypes/IconView.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/preferences/filetypes/IconView.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -1073,7 +1073,7 @@
 			if (data == NULL) {
 				// no vector icon or failed to get bitmap
 				// try bitmap icon
-				data = resources-&gt;LoadResource('ICON', &quot;icon heap&quot;, NULL);
+				data = resources-&gt;LoadResource(B_LARGE_ICON_TYPE, &quot;icon heap&quot;, NULL);
 				if (data != NULL) {
 					fHeapIcon = Icon::AllocateBitmap(B_LARGE_ICON, B_CMAP8);
 					memcpy(fHeapIcon-&gt;Bits(), data, fHeapIcon-&gt;BitsLength());

Modified: haiku/trunk/src/preferences/mail/ConfigWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/mail/ConfigWindow.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/preferences/mail/ConfigWindow.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -443,7 +443,7 @@
 	BResources *resources = BApplication::AppResources();
 	if (resources) {
 		size_t length;
-		char *buffer = (char *)resources-&gt;FindResource('ICON', 101, &amp;length);
+		char *buffer = (char *)resources-&gt;FindResource(B_LARGE_ICON_TYPE, 101, &amp;length);
 		if (buffer) {
 			BBitmap *bitmap = new BBitmap(BRect(0, 0, 63, 63), B_CMAP8);
 			if (bitmap &amp;&amp; bitmap-&gt;InitCheck() == B_OK) {

Modified: haiku/trunk/src/preferences/media/MediaAlert.cpp
===================================================================
--- haiku/trunk/src/preferences/media/MediaAlert.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/preferences/media/MediaAlert.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -130,7 +130,7 @@
 				// Load the raw icon data
 				size_t size;
 				const void* rawIcon =
-					Resources.LoadResource('ICON', iconName, &amp;size);
+					Resources.LoadResource(B_LARGE_ICON_TYPE, iconName, &amp;size);
 
 				if (rawIcon)
 				{

Modified: haiku/trunk/src/preferences/mouse/MouseView.cpp
===================================================================
--- haiku/trunk/src/preferences/mouse/MouseView.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/preferences/mouse/MouseView.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -96,8 +96,8 @@
 	fMouseDownBitmap-&gt;SetBits(kMouseDownBits, sizeof(kMouseDownBits), 0, kMouseDownColorSpace);
 
 	// ToDo: move these images to the resources as well
-	//fMouseBitmap = BTranslationUtils::GetBitmap('PNG ', &quot;mouse_bmap&quot;);
-	//fMouseDownBitmap = BTranslationUtils::GetBitmap('PNG ', &quot;pressed_mouse_bmap&quot;);
+	//fMouseBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, &quot;mouse_bmap&quot;);
+	//fMouseDownBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, &quot;pressed_mouse_bmap&quot;);
 
   	if (fMouseDownBitmap != NULL)
   		fMouseDownBounds = fMouseDownBitmap-&gt;Bounds();

Modified: haiku/trunk/src/preferences/screen/AlertView.cpp
===================================================================
--- haiku/trunk/src/preferences/screen/AlertView.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/preferences/screen/AlertView.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -144,7 +144,7 @@
 			&amp;&amp; resources.SetTo(&amp;file) == B_OK) {
 			// Load the raw icon data
 			size_t size;
-			const void* data = resources.LoadResource('ICON', &quot;warn&quot;, &amp;size);
+			const void* data = resources.LoadResource(B_LARGE_ICON_TYPE, &quot;warn&quot;, &amp;size);
 			if (data) {
 				// Now build the bitmap
 				icon = new BBitmap(BRect(0, 0, 31, 31), 0, B_CMAP8);

Modified: haiku/trunk/src/servers/midi/DeviceWatcher.cpp
===================================================================
--- haiku/trunk/src/servers/midi/DeviceWatcher.cpp	2007-10-29 15:03:57 UTC (rev 22761)
+++ haiku/trunk/src/servers/midi/DeviceWatcher.cpp	2007-10-29 19:10:30 UTC (rev 22762)
@@ -51,10 +51,10 @@
 		size_t size;
 		const void* bits;
 
-		bits = res.LoadResource('ICON', 10, &amp;size);
+		bits = res.LoadResource(B_LARGE_ICON_TYPE, 10, &amp;size);
 		largeIcon-&gt;SetBits(bits, size, 0, B_CMAP8);
 
-		bits = res.LoadResource('MICN', 11, &amp;size);
+		bits = res.LoadResource(B_MINI_ICON_TYPE, 11, &amp;size);
 		miniIcon-&gt;SetBits(bits, size, 0, B_CMAP8);
 	}
 }
@@ -132,10 +132,10 @@
 	BMessage msg;
 
 	msg.AddData(
-		&quot;be:large_icon&quot;, 'ICON', largeIcon-&gt;Bits(), largeIcon-&gt;BitsLength());
+		&quot;be:large_icon&quot;, B_LARGE_ICON_TYPE, largeIcon-&gt;Bits(), largeIcon-&gt;BitsLength());
 	
 	msg.AddData(
-		&quot;be:mini_icon&quot;, 'MICN', miniIcon-&gt;Bits(), miniIcon-&gt;BitsLength());
+		&quot;be:mini_icon&quot;, B_MINI_ICON_TYPE, miniIcon-&gt;Bits(), miniIcon-&gt;BitsLength());
 
 	endp-&gt;SetProperties(&amp;msg);
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004533.html">[Haiku-commits] r22761 - haiku/trunk/src/tests/kits/interface
</A></li>
	<LI>Next message: <A HREF="004535.html">[Haiku-commits] r22763 - haiku/trunk/src/servers/print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4534">[ date ]</a>
              <a href="thread.html#4534">[ thread ]</a>
              <a href="subject.html#4534">[ subject ]</a>
              <a href="author.html#4534">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
