<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r23749 - haiku/trunk/src/system/kernel
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23749%20-%20haiku/trunk/src/system/kernel&In-Reply-To=%3C978389548-BeMail%40primary%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005785.html">
   <LINK REL="Next"  HREF="005786.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r23749 - haiku/trunk/src/system/kernel</H1>
    <B>Michael Lotz</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23749%20-%20haiku/trunk/src/system/kernel&In-Reply-To=%3C978389548-BeMail%40primary%3E"
       TITLE="[Haiku-commits] r23749 - haiku/trunk/src/system/kernel">mmlr at mlotz.ch
       </A><BR>
    <I>Sat Jan 26 19:48:07 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="005785.html">[Haiku-commits] r23749 - haiku/trunk/src/system/kernel
</A></li>
        <LI>Next message: <A HREF="005786.html">[Haiku-commits] r23750 - haiku/trunk/src/system/kernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5787">[ date ]</a>
              <a href="thread.html#5787">[ thread ]</a>
              <a href="subject.html#5787">[ subject ]</a>
              <a href="author.html#5787">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Modified:
</I>&gt;<i>    haiku/trunk/src/system/kernel/sem.cpp
</I>&gt;<i> Log:
</I>&gt;<i> Don't panic in case a thread is not in the wait queue of a sem 
</I>&gt;<i> anymore. On SMP
</I>&gt;<i> systems it can easily happen that the thread gets removed from the 
</I>&gt;<i> queue (when
</I>&gt;<i> it times out for example) during the time we don't hold the sem lock.
</I>
So it seems it really wasn't that unlikely after all. Could easily 
reproduce the bug fixed with the revision before this and then this 
panic when using QEMU under Haiku for some time. Hope this is enough 
&quot;error handling&quot;. I looked at what uses this function and it seems ok 
to just return the original error (which should be B_ENTRY_NOT_FOUND in 
this case).

Regards
Michael

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005785.html">[Haiku-commits] r23749 - haiku/trunk/src/system/kernel
</A></li>
	<LI>Next message: <A HREF="005786.html">[Haiku-commits] r23750 - haiku/trunk/src/system/kernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5787">[ date ]</a>
              <a href="thread.html#5787">[ thread ]</a>
              <a href="subject.html#5787">[ subject ]</a>
              <a href="author.html#5787">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
