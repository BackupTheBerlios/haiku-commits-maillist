<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r23559 - haiku/trunk/src/add-ons/translators/jpeg
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23559%20-%0A%20haiku/trunk/src/add-ons/translators/jpeg&In-Reply-To=%3C20080116215958.473.2%40knochen-vm.nameserver%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005540.html">
   <LINK REL="Next"  HREF="005541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r23559 - haiku/trunk/src/add-ons/translators/jpeg</H1>
    <B>Ingo Weinhold</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23559%20-%0A%20haiku/trunk/src/add-ons/translators/jpeg&In-Reply-To=%3C20080116215958.473.2%40knochen-vm.nameserver%3E"
       TITLE="[Haiku-commits] r23559 - haiku/trunk/src/add-ons/translators/jpeg">ingo_weinhold at gmx.de
       </A><BR>
    <I>Wed Jan 16 21:59:58 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="005540.html">[Haiku-commits] r23559 - haiku/trunk/src/add-ons/translators/jpeg
</A></li>
        <LI>Next message: <A HREF="005541.html">[Haiku-commits] r23560 - in	haiku/trunk/src/add-ons/translators/jpeg: . libjpeg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5555">[ date ]</a>
              <a href="thread.html#5555">[ thread ]</a>
              <a href="subject.html#5555">[ subject ]</a>
              <a href="author.html#5555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2008-01-16 at 16:25:20 [+0100], Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt; 
wrote:
&gt;<i> 
</I>&gt;<i> &gt; BTW, using a single global jmp_buf makes the code thread unsafe.
</I>&gt;<i> 
</I>&gt;<i> Yeah, I didn't think about that. That will need to get fixed. Am I correct
</I>&gt;<i> in assuming that the return address that is saved by setjmp() depends on
</I>&gt;<i> the thread's local stack and therefor one thread could jump into the stack
</I>&gt;<i> of another thread? Or at least free temporary variables there? (Assuming
</I>&gt;<i> you have two threads reading a JPG, one of them reading a corrupt JPG,
</I>&gt;<i> having called setjmp() before the other thread.)
</I>
The return address (from setjmp()) would be the same (the instruction in 
the method following the call to setjmp()), but the longjmp()ed thread 
would indeed continue with the other thread's stack which would be 
seriously unhealthy for the application.

CU, Ingo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005540.html">[Haiku-commits] r23559 - haiku/trunk/src/add-ons/translators/jpeg
</A></li>
	<LI>Next message: <A HREF="005541.html">[Haiku-commits] r23560 - in	haiku/trunk/src/add-ons/translators/jpeg: . libjpeg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5555">[ date ]</a>
              <a href="thread.html#5555">[ thread ]</a>
              <a href="subject.html#5555">[ subject ]</a>
              <a href="author.html#5555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
