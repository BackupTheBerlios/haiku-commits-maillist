<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r28756 -	haiku/trunk/src/add-ons/kernel/network/protocols/l2cap
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28756%20-%0A%09haiku/trunk/src/add-ons/kernel/network/protocols/l2cap&In-Reply-To=%3C200812012309.mB1N9C1W022485%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013692.html">
   <LINK REL="Next"  HREF="013694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r28756 -	haiku/trunk/src/add-ons/kernel/network/protocols/l2cap</H1>
    <B>oruizdorantes at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28756%20-%0A%09haiku/trunk/src/add-ons/kernel/network/protocols/l2cap&In-Reply-To=%3C200812012309.mB1N9C1W022485%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r28756 -	haiku/trunk/src/add-ons/kernel/network/protocols/l2cap">oruizdorantes at mail.berlios.de
       </A><BR>
    <I>Tue Dec  2 00:09:12 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="013692.html">[Haiku-commits] r28755 -	haiku/trunk/src/add-ons/kernel/network/protocols/l2cap
</A></li>
        <LI>Next message: <A HREF="013694.html">[Haiku-commits] r28757 - haiku/trunk/src/kits/storage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13693">[ date ]</a>
              <a href="thread.html#13693">[ thread ]</a>
              <a href="subject.html#13693">[ subject ]</a>
              <a href="author.html#13693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: oruizdorantes
Date: 2008-12-02 00:09:11 +0100 (Tue, 02 Dec 2008)
New Revision: 28756
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=28756&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=28756&amp;view=rev</A>

Modified:
   haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.cpp
   haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.h
   haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap.cpp
   haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap_address.h
Log:
Style changes
whitespaces remaining... what editor do you use to avoid that?



Modified: haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.cpp	2008-12-01 23:06:01 UTC (rev 28755)
+++ haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.cpp	2008-12-01 23:09:11 UTC (rev 28756)
@@ -1,15 +1,23 @@
+/*
+ * Copyright 2008, Haiku, Inc. All Rights Reserved.
+ * Distributed under the terms of the MIT License.
+ *
+ * Authors:
+ *		Oliver Ruiz Dorantes, oliver-ruiz.dorantes_at_gmail.com
+ */
 #include &quot;L2capEndpoint.h&quot;
+#include &quot;l2cap_address.h&quot;
 
 #include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
 #include &lt;sys/stat.h&gt;
-#include &lt;string.h&gt;
 
-#include &quot;l2cap_address.h&quot;
 
 #include &lt;bluetooth/L2CAP/btL2CAP.h&gt;
 #define BT_DEBUG_THIS_MODULE
 #include &lt;btDebug.h&gt;
 
+
 static inline bigtime_t
 absolute_timeout(bigtime_t timeout)
 {
@@ -58,7 +66,7 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Init()\n&quot;, find_thread(NULL), this);
 
-	return(B_OK);
+	return B_OK;
 }
 
 
@@ -67,7 +75,6 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Uninit()\n&quot;, find_thread(NULL), this);
 
-
 }
 
 
@@ -76,13 +83,11 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Open()\n&quot;, find_thread(NULL), this);
 
-    status_t error = ProtocolSocket::Open();
+	status_t error = ProtocolSocket::Open();
 	if (error != B_OK)
-		return(error);
+		return error;
 
-
-
-	return(B_OK);
+	return B_OK;
 }
 
 
@@ -91,7 +96,7 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Close()\n&quot;, find_thread(NULL), this);
 
-	return(B_OK);
+	return B_OK;
 }
 
 
@@ -100,7 +105,7 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Free()\n&quot;, find_thread(NULL), this);
 
-	return(B_OK);
+	return B_OK;
 }
 
 
@@ -111,7 +116,7 @@
 		panic(&quot;null adrresss!&quot;);
 	
 	if (_address-&gt;sa_family != AF_BLUETOOTH )
-		return(EAFNOSUPPORT);
+		return EAFNOSUPPORT;
 
 	// TODO: Check socladdr_l2cap size
 
@@ -144,7 +149,7 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Unbind()\n&quot;, find_thread(NULL), this);
 
-	return(B_OK);
+	return B_OK;
 }
 
 
@@ -168,7 +173,7 @@
 L2capEndpoint::Connect(const struct sockaddr *_address)
 {
 	if (_address-&gt;sa_family != AF_BLUETOOTH)
-		return(EAFNOSUPPORT);
+		return EAFNOSUPPORT;
 
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Connect(\&quot;%s\&quot;)\n&quot;, find_thread(NULL), this,
 		ConstSocketAddress(&amp;gL2cap4AddressModule, _address).AsString().Data());
@@ -232,7 +237,6 @@
 {
 	debugf(&quot;[%ld] %p-&gt;L2capEndpoint::Sendable()\n&quot;, find_thread(NULL), this);
 
-
 	return 0;
 }
 
@@ -257,8 +261,8 @@
 	while (iterator.HasNext()) {
 
 		endpoint = iterator.Next();
-		if (((struct sockaddr_l2cap*)&amp;endpoint-&gt;socket-&gt;address)-&gt;l2cap_psm == psm &amp;&amp; 
-			endpoint-&gt;fState == LISTEN) {
+		if (((struct sockaddr_l2cap*)&amp;endpoint-&gt;socket-&gt;address)-&gt;l2cap_psm == psm
+			&amp;&amp; endpoint-&gt;fState == LISTEN) {
 			// TODO endpoint ocupied, lock it! define a channel for it
 			return endpoint;
 		}

Modified: haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.h
===================================================================
--- haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.h	2008-12-01 23:06:01 UTC (rev 28755)
+++ haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/L2capEndpoint.h	2008-12-01 23:09:11 UTC (rev 28756)
@@ -1,7 +1,13 @@
+/*
+ * Copyright 2008, Haiku, Inc. All Rights Reserved.
+ * Distributed under the terms of the MIT License.
+ *
+ * Authors:
+ *		Oliver Ruiz Dorantes, oliver-ruiz.dorantes_at_gmail.com
+ */
 #ifndef L2CAP_ENDPOINT_H
 #define L2CAP_ENDPOINT_H
 
-
 #include &lt;sys/stat.h&gt;
 
 #include &lt;lock.h&gt;
@@ -18,8 +24,7 @@
 
 class L2capEndpoint : public net_protocol, 
 					  public ProtocolSocket,
-                      public DoublyLinkedListLinkImpl&lt;L2capEndpoint&gt;
-{
+                      public DoublyLinkedListLinkImpl&lt;L2capEndpoint&gt; {
 
 public:
 	L2capEndpoint(net_socket* socket);
@@ -102,4 +107,4 @@
 
 extern DoublyLinkedList&lt;L2capEndpoint&gt; EndpointList;
 
-#endif	// L2cap_ENDPOINT_H
+#endif	// L2CAP_ENDPOINT_H

Modified: haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap.cpp	2008-12-01 23:06:01 UTC (rev 28755)
+++ haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap.cpp	2008-12-01 23:09:11 UTC (rev 28756)
@@ -51,16 +51,16 @@
 extern net_protocol_module_info gL2CAPModule;
 
 // module references
-bluetooth_core_data_module_info *btCoreData;
+bluetooth_core_data_module_info* btCoreData;
 
-net_buffer_module_info *gBufferModule;
-net_stack_module_info *gStackModule;
-net_socket_module_info *gSocketModule;
+net_buffer_module_info* gBufferModule;
+net_stack_module_info* gStackModule;
+net_socket_module_info* gSocketModule;
 
-static struct net_domain *sDomain;
+static struct net_domain* sDomain;
 
-net_protocol *
-l2cap_init_protocol(net_socket *socket)
+net_protocol*
+l2cap_init_protocol(net_socket* socket)
 {
 	flowf(&quot;\n&quot;);
 
@@ -75,7 +75,7 @@
 
 
 status_t
-l2cap_uninit_protocol(net_protocol *protocol)
+l2cap_uninit_protocol(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -88,7 +88,7 @@
 
 
 status_t
-l2cap_open(net_protocol *protocol)
+l2cap_open(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -97,7 +97,7 @@
 
 
 status_t
-l2cap_close(net_protocol *protocol)
+l2cap_close(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -106,7 +106,7 @@
 
 
 status_t
-l2cap_free(net_protocol *protocol)
+l2cap_free(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -115,7 +115,7 @@
 
 
 status_t
-l2cap_connect(net_protocol *protocol, const struct sockaddr *address)
+l2cap_connect(net_protocol* protocol, const struct sockaddr* address)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -124,7 +124,7 @@
 
 
 status_t
-l2cap_accept(net_protocol *protocol, struct net_socket **_acceptedSocket)
+l2cap_accept(net_protocol* protocol, struct net_socket** _acceptedSocket)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -133,8 +133,8 @@
 
 
 status_t
-l2cap_control(net_protocol *protocol, int level, int option, void *value,
-	size_t *_length)
+l2cap_control(net_protocol* protocol, int level, int option, void* value,
+	size_t* _length)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -144,8 +144,8 @@
 
 
 status_t
-l2cap_getsockopt(net_protocol *protocol, int level, int option,
-	void *value, int *length)
+l2cap_getsockopt(net_protocol* protocol, int level, int option,
+	void* value, int* length)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -155,8 +155,8 @@
 
 
 status_t
-l2cap_setsockopt(net_protocol *protocol, int level, int option,
-	const void *value, int length)
+l2cap_setsockopt(net_protocol* protocol, int level, int option,
+	const void* value, int length)
 {
 	flowf(&quot;\n&quot;);
 
@@ -175,7 +175,7 @@
 
 
 status_t
-l2cap_unbind(net_protocol *protocol, struct sockaddr *address)
+l2cap_unbind(net_protocol* protocol, struct sockaddr* address)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -184,14 +184,14 @@
 
 
 status_t
-l2cap_listen(net_protocol *protocol, int count)
+l2cap_listen(net_protocol* protocol, int count)
 {
 	return ((L2capEndpoint*)protocol)-&gt;Listen(count);
 }
 
 
 status_t
-l2cap_shutdown(net_protocol *protocol, int direction)
+l2cap_shutdown(net_protocol* protocol, int direction)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -200,7 +200,7 @@
 
 
 status_t
-l2cap_send_data(net_protocol *protocol, net_buffer *buffer)
+l2cap_send_data(net_protocol* protocol, net_buffer* buffer)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -209,8 +209,8 @@
 
 
 status_t
-l2cap_send_routed_data(net_protocol *protocol, struct net_route *route,
-	net_buffer *buffer)
+l2cap_send_routed_data(net_protocol* protocol, struct net_route* route,
+	net_buffer* buffer)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -219,7 +219,7 @@
 
 
 ssize_t
-l2cap_send_avail(net_protocol *protocol)
+l2cap_send_avail(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -228,8 +228,8 @@
 
 
 status_t
-l2cap_read_data(net_protocol *protocol, size_t numBytes, uint32 flags,
-	net_buffer **_buffer)
+l2cap_read_data(net_protocol* protocol, size_t numBytes, uint32 flags,
+	net_buffer** _buffer)
 {
 	flowf(&quot;\n&quot;);
 
@@ -238,7 +238,7 @@
 
 
 ssize_t
-l2cap_read_avail(net_protocol *protocol)
+l2cap_read_avail(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -246,8 +246,8 @@
 }
 
 
-struct net_domain *
-l2cap_get_domain(net_protocol *protocol)
+struct net_domain*
+l2cap_get_domain(net_protocol* protocol)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -256,7 +256,7 @@
 
 
 size_t
-l2cap_get_mtu(net_protocol *protocol, const struct sockaddr *address)
+l2cap_get_mtu(net_protocol* protocol, const struct sockaddr* address)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -265,9 +265,9 @@
 
 
 status_t
-l2cap_receive_data(net_buffer *buffer)
+l2cap_receive_data(net_buffer* buffer)
 {
-	HciConnection* conn = (HciConnection*) buffer;
+	HciConnection* conn = (HciConnection*)buffer;
 	debugf(&quot;received some data, buffer length %lu\n&quot;, conn-&gt;currentRxPacket-&gt;size);
 	
 	l2cap_receive(conn, conn-&gt;currentRxPacket);
@@ -277,7 +277,7 @@
 
 
 status_t
-l2cap_error(uint32 code, net_buffer *data)
+l2cap_error(uint32 code, net_buffer* data)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -286,8 +286,8 @@
 
 
 status_t
-l2cap_error_reply(net_protocol *protocol, net_buffer *causedError, uint32 code,
-	void *errorData)
+l2cap_error_reply(net_protocol* protocol, net_buffer* causedError, uint32 code,
+	void* errorData)
 {
 	flowf(&quot;\n&quot;);
 	
@@ -384,14 +384,14 @@
 };
 
 module_dependency module_dependencies[] = {
-	{NET_STACK_MODULE_NAME, (module_info **)&amp;gStackModule},
-	{NET_BUFFER_MODULE_NAME, (module_info **)&amp;gBufferModule},
-	{BT_CORE_DATA_MODULE_NAME, (module_info **)&amp;btCoreData},
-	{NET_SOCKET_MODULE_NAME, (module_info **)&amp;gSocketModule},
+	{NET_STACK_MODULE_NAME, (module_info**)&amp;gStackModule},
+	{NET_BUFFER_MODULE_NAME, (module_info**)&amp;gBufferModule},
+	{BT_CORE_DATA_MODULE_NAME, (module_info**)&amp;btCoreData},
+	{NET_SOCKET_MODULE_NAME, (module_info**)&amp;gSocketModule},
 	{}
 };
 
-module_info *modules[] = {
-	(module_info *)&amp;gL2CAPModule,
+module_info* modules[] = {
+	(module_info*)&amp;gL2CAPModule,
 	NULL
 };

Modified: haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap_address.h
===================================================================
--- haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap_address.h	2008-12-01 23:06:01 UTC (rev 28755)
+++ haiku/trunk/src/add-ons/kernel/network/protocols/l2cap/l2cap_address.h	2008-12-01 23:09:11 UTC (rev 28756)
@@ -1,12 +1,10 @@
 /*
- * Copyright 2006, Haiku, Inc. All Rights Reserved.
+ * Copyright 2007, Haiku, Inc. All Rights Reserved.
  * Distributed under the terms of the MIT License.
  *
  * Authors:
  *		Oliver Ruiz Dorantes, oliver-ruiz.dorantes_at_gmail.com
  */
-
-
 #ifndef L2CAP_ADDRESS_H
 #define L2CAP_ADDRESS_H
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013692.html">[Haiku-commits] r28755 -	haiku/trunk/src/add-ons/kernel/network/protocols/l2cap
</A></li>
	<LI>Next message: <A HREF="013694.html">[Haiku-commits] r28757 - haiku/trunk/src/kits/storage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13693">[ date ]</a>
              <a href="thread.html#13693">[ thread ]</a>
              <a href="subject.html#13693">[ subject ]</a>
              <a href="author.html#13693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
