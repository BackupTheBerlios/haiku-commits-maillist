<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r28965 -	haiku/trunk/src/system/boot/loader/file_systems/tarfs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28965%20-%0A%09haiku/trunk/src/system/boot/loader/file_systems/tarfs&In-Reply-To=%3C200901200441.n0K4f0A1009659%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013995.html">
   <LINK REL="Next"  HREF="013998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r28965 -	haiku/trunk/src/system/boot/loader/file_systems/tarfs</H1>
    <B>mmu_man at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28965%20-%0A%09haiku/trunk/src/system/boot/loader/file_systems/tarfs&In-Reply-To=%3C200901200441.n0K4f0A1009659%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r28965 -	haiku/trunk/src/system/boot/loader/file_systems/tarfs">mmu_man at mail.berlios.de
       </A><BR>
    <I>Tue Jan 20 05:41:00 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013995.html">[Haiku-commits] r28964 -	haiku/trunk/src/add-ons/kernel/drivers/bluetooth/h2/h2generic
</A></li>
        <LI>Next message: <A HREF="013998.html">[Haiku-commits] r28966 - in haiku/trunk/src/tests/kits/interface: .	look
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13996">[ date ]</a>
              <a href="thread.html#13996">[ thread ]</a>
              <a href="subject.html#13996">[ subject ]</a>
              <a href="author.html#13996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mmu_man
Date: 2009-01-20 05:40:57 +0100 (Tue, 20 Jan 2009)
New Revision: 28965
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=28965&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=28965&amp;view=rev</A>

Modified:
   haiku/trunk/src/system/boot/loader/file_systems/tarfs/tarfs.cpp
Log:
This should definitely fix CD booting, it was still looking for the tgz at 192k while zbeos is now almost 300k... Maybe we need something more failproof but it shoudl do for now.


Modified: haiku/trunk/src/system/boot/loader/file_systems/tarfs/tarfs.cpp
===================================================================
--- haiku/trunk/src/system/boot/loader/file_systems/tarfs/tarfs.cpp	2009-01-20 02:22:57 UTC (rev 28964)
+++ haiku/trunk/src/system/boot/loader/file_systems/tarfs/tarfs.cpp	2009-01-20 04:40:57 UTC (rev 28965)
@@ -33,7 +33,7 @@
 #endif
 
 
-static const uint32 kFloppyArchiveOffset = 192 * 1024;	// at 192 kB
+static const uint32 kFloppyArchiveOffset = BOOT_ARCHIVE_IMAGE_OFFSET * 1024;	// initially at 192 kB, now defined at build time
 static const size_t kTarRegionSize = 16 * 1024 * 1024;	// 16 MB
 
 namespace TarFS {


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013995.html">[Haiku-commits] r28964 -	haiku/trunk/src/add-ons/kernel/drivers/bluetooth/h2/h2generic
</A></li>
	<LI>Next message: <A HREF="013998.html">[Haiku-commits] r28966 - in haiku/trunk/src/tests/kits/interface: .	look
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13996">[ date ]</a>
              <a href="thread.html#13996">[ thread ]</a>
              <a href="subject.html#13996">[ subject ]</a>
              <a href="author.html#13996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
