<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r28928 - in haiku/trunk: headers/os/net src/kits/network/libnetapi
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%0A%20%3D%3Futf-8%3Fq%3Fr28928_-_in_haiku/trunk%3D3A_headers/os/n%3F%3D%0A%20%3D%3Futf-8%3Fq%3Fet_src/kits/network/libnetapi%3F%3D&In-Reply-To=%3C3192993345-BeMail%40Gaspode%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013923.html">
   <LINK REL="Next"  HREF="013935.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r28928 - in haiku/trunk: headers/os/net src/kits/network/libnetapi</H1>
    <B>Bruno Albuquerque</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%0A%20%3D%3Futf-8%3Fq%3Fr28928_-_in_haiku/trunk%3D3A_headers/os/n%3F%3D%0A%20%3D%3Futf-8%3Fq%3Fet_src/kits/network/libnetapi%3F%3D&In-Reply-To=%3C3192993345-BeMail%40Gaspode%3E"
       TITLE="[Haiku-commits] r28928 - in haiku/trunk: headers/os/net src/kits/network/libnetapi">bga at bug-br.org.br
       </A><BR>
    <I>Sun Jan 18 12:42:18 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013923.html">[Haiku-commits] r28928 - in haiku/trunk:	headers/os/net	src/kits/network/libnetapi
</A></li>
        <LI>Next message: <A HREF="013935.html">[Haiku-commits] r28928 - in haiku/trunk: headers/os/net	src/kits/network/libnetapi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13934">[ date ]</a>
              <a href="thread.html#13934">[ thread ]</a>
              <a href="subject.html#13934">[ subject ]</a>
              <a href="author.html#13934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 18 Jan 2009 01:19:55 +0100, Stephan A&#223;mus said:

&gt;<i> Even though there may not be any actual code left from Scott, I would 
</I>&gt;<i> still keep him in the authors list, since at least you may have 
</I>&gt;<i> learned 
</I>&gt;<i> from his code, even if just about flaws you need to avoid :-). I 
</I>&gt;<i> think 
</I>&gt;<i> that's a nice practice anyways.
</I>
I am fine with that. Done.

&gt;<i> You are leaking the previous fImpl here.
</I>
Fixed.

&gt;<i> Not very important, but I usually try to forward the BMessage error 
</I>&gt;<i> in 
</I>&gt;<i> these situations. Maybe it helps someone debugging one day... :-)
</I>
Done.

&gt;<i> Need to use std::nothrow here again.
</I>
Fixed.

&gt;<i> A possible performance optimization: you could pre-allocate a fixed 
</I>&gt;<i> (2K 
</I>&gt;<i> maybe?) buffer size on the stack, and only use the allocator if the 
</I>&gt;<i> flattened size exceeds that size. Might be nice to have that since 
</I>&gt;<i> this 
</I>&gt;<i> call may be used frequently. In one test I was doing once, it saved 
</I>&gt;<i> about 200&#181;s per call, which may actually be quite a lot depending on 
</I>&gt;<i> how 
</I>&gt;<i> small the message is and our BMessages probably flatten pretty quickly 
</I>&gt;<i> anyways.
</I>
Done, although it is still to be proven if this optimization really 
helps as this is a buffer being flattened. It could easily be bigger 
than 2K.

Thanks.

-Bruno


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013923.html">[Haiku-commits] r28928 - in haiku/trunk:	headers/os/net	src/kits/network/libnetapi
</A></li>
	<LI>Next message: <A HREF="013935.html">[Haiku-commits] r28928 - in haiku/trunk: headers/os/net	src/kits/network/libnetapi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13934">[ date ]</a>
              <a href="thread.html#13934">[ thread ]</a>
              <a href="subject.html#13934">[ subject ]</a>
              <a href="author.html#13934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
