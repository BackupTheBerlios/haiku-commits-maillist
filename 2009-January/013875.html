<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r28891 - haiku/trunk/src/kits/tracker
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28891%20-%20haiku/trunk/src/kits/tracker&In-Reply-To=%3C496C8D16.9050006%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013874.html">
   <LINK REL="Next"  HREF="013876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r28891 - haiku/trunk/src/kits/tracker</H1>
    <B>Stephan A&#223;mus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28891%20-%20haiku/trunk/src/kits/tracker&In-Reply-To=%3C496C8D16.9050006%40gmx.de%3E"
       TITLE="[Haiku-commits] r28891 - haiku/trunk/src/kits/tracker">superstippi at gmx.de
       </A><BR>
    <I>Tue Jan 13 13:46:14 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013874.html">[Haiku-commits] r28891 - haiku/trunk/src/kits/tracker
</A></li>
        <LI>Next message: <A HREF="013876.html">[Haiku-commits] r28891 - haiku/trunk/src/kits/tracker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13875">[ date ]</a>
              <a href="thread.html#13875">[ thread ]</a>
              <a href="subject.html#13875">[ subject ]</a>
              <a href="author.html#13875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alexandre Deckner schrieb:
&gt;<i> Stefano Ceccherini wrote:
</I>&gt;&gt;<i> 2009/1/12 aldeck at BerliOS &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">aldeck at mail.berlios.de</A>&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i> * There was a bug in the way the mimetypes list was constructed, it would recalculate the list on
</I>&gt;&gt;&gt;<i> each addition, which is o(n). It's already refreshed lazily on read, only rarely when ContainerWindow updates
</I>&gt;&gt;&gt;<i> his menu.
</I>&gt;&gt;&gt;<i>  Now there's only one recalc when finished adding poses, 9ms for 20K files here.
</I>&gt;&gt;&gt;<i> Pose adding is almost linear now for the first thousand files, but it gets worse after that due to
</I>&gt;&gt;&gt;<i> another known problem. Now doing 35s instead of 80s on a 20K files folder here, more to come :)
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;<i> Nice catch!
</I>&gt;<i> Thanks! Well, the profiler helped a lot in this case :)
</I>&gt;<i> 
</I>&gt;<i> As much as i wanted a rewrite, my solution is just a fix, see it as 
</I>&gt;<i> short/mid term, i just fixed the current mechanism wich i don't like much.
</I>&gt;<i> I certainly wanted to fully rewrite this and update the menu live while 
</I>&gt;<i> loading the poses, but that was a bit overkill for now.
</I>&gt;<i> 
</I>&gt;<i> Besides the recalc when finished adding poses, it's the attribute menu 
</I>&gt;<i> that triggers a refresh of the list (if dirty) in its MenuBegining method.
</I>&gt;<i> A nicer solution would be for the PoseView to notify its ContainerWindow 
</I>&gt;<i> of new/removed mimetypes. That would make the menu update live while 
</I>&gt;<i> loading lots of poses.
</I>
I don't really see the necessity for this, unless the menu is currently 
showing. And even then the usefulness is limited. If the menu is 
currently showing, the usre may be navigating to an attribute. If new 
attributes are inserted live, the location of the mouse target may 
change and annoy the user. The faster the pose list is updated the 
better. Things like the attribute menu should be updated in &quot;pull&quot; mode, 
ie on demand.

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013874.html">[Haiku-commits] r28891 - haiku/trunk/src/kits/tracker
</A></li>
	<LI>Next message: <A HREF="013876.html">[Haiku-commits] r28891 - haiku/trunk/src/kits/tracker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13875">[ date ]</a>
              <a href="thread.html#13875">[ thread ]</a>
              <a href="subject.html#13875">[ subject ]</a>
              <a href="author.html#13875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
