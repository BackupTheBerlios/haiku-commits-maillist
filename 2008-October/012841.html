<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r28208 - haiku/trunk/headers/private/kernel
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28208%20-%20haiku/trunk/headers/private/kernel&In-Reply-To=%3C200810170832.m9H8Wiux031561%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012838.html">
   <LINK REL="Next"  HREF="012842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r28208 - haiku/trunk/headers/private/kernel</H1>
    <B>mmlr at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r28208%20-%20haiku/trunk/headers/private/kernel&In-Reply-To=%3C200810170832.m9H8Wiux031561%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r28208 - haiku/trunk/headers/private/kernel">mmlr at mail.berlios.de
       </A><BR>
    <I>Fri Oct 17 10:32:44 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="012838.html">[Haiku-commits] r28207 - in haiku/trunk/src:	add-ons/translators/jpeg2000 apps/pulse bin preferences/screen
</A></li>
        <LI>Next message: <A HREF="012842.html">[Haiku-commits] r28209 - haiku/trunk/src/kits/tracker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12841">[ date ]</a>
              <a href="thread.html#12841">[ thread ]</a>
              <a href="subject.html#12841">[ subject ]</a>
              <a href="author.html#12841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mmlr
Date: 2008-10-17 10:32:42 +0200 (Fri, 17 Oct 2008)
New Revision: 28208
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=28208&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=28208&amp;view=rev</A>

Modified:
   haiku/trunk/headers/private/kernel/heap.h
Log:
Add throw() to the nogrow new operator. This will cause the right version to be
used that handles NULL returns and doesn't expect an exception. This fixes that
certain constructors would still be called even if the allocation failed in low
memory situations.


Modified: haiku/trunk/headers/private/kernel/heap.h
===================================================================
--- haiku/trunk/headers/private/kernel/heap.h	2008-10-17 08:08:20 UTC (rev 28207)
+++ haiku/trunk/headers/private/kernel/heap.h	2008-10-17 08:32:42 UTC (rev 28208)
@@ -79,7 +79,7 @@
 } nogrow = {};
 
 inline void*
-operator new(size_t size, const nogrow_t&amp; nogrow)
+operator new(size_t size, const nogrow_t&amp; nogrow) throw()
 {
 	return malloc_nogrow(size);
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012838.html">[Haiku-commits] r28207 - in haiku/trunk/src:	add-ons/translators/jpeg2000 apps/pulse bin preferences/screen
</A></li>
	<LI>Next message: <A HREF="012842.html">[Haiku-commits] r28209 - haiku/trunk/src/kits/tracker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12841">[ date ]</a>
              <a href="thread.html#12841">[ thread ]</a>
              <a href="subject.html#12841">[ subject ]</a>
              <a href="author.html#12841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
