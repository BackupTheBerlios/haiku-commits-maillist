<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31466%20-%0A%20haiku/trunk/src/add-ons/media/plugins/ffmpeg&In-Reply-To=%3C20090709113057.493.1%40bepc.1247120015.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017842.html">
   <LINK REL="Next"  HREF="017847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31466%20-%0A%20haiku/trunk/src/add-ons/media/plugins/ffmpeg&In-Reply-To=%3C20090709113057.493.1%40bepc.1247120015.fake%3E"
       TITLE="[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg">superstippi at gmx.de
       </A><BR>
    <I>Thu Jul  9 11:30:57 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="017842.html">[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg
</A></li>
        <LI>Next message: <A HREF="017847.html">[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17846">[ date ]</a>
              <a href="thread.html#17846">[ thread ]</a>
              <a href="subject.html#17846">[ subject ]</a>
              <a href="author.html#17846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2009-07-09 at 08:52:54 [+0200], Axel D&#246;rfler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de</A>&gt; 
wrote:
&gt;<i> Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt; wrote:
</I>&gt;<i> &gt; Nice one, thanks! Personally, I find the whole &quot;family&quot; thing a bit 
</I>&gt;<i> &gt; messy, 
</I>&gt;<i> &gt; but I guess it's supposed to cover the case where the same codec tag 
</I>&gt;<i> &gt; (fourcc) means two different codecs in two different families. Not that 
</I>&gt;<i> &gt; I'd 
</I>&gt;<i> &gt; come across such a situation... In any case, I was considering the 
</I>&gt;<i> &gt; option 
</I>&gt;<i> &gt; to make a special FFmpeg format family, such that the AVCodecDecoder 
</I>&gt;<i> &gt; and 
</I>&gt;<i> &gt; the AVFormatContext could work together and share information.
</I>&gt;<i> 
</I>&gt;<i> Not sure if I understand what you're talking about, but if you want to 
</I>&gt;<i> introduce a special family alongside B_AVI_FORMAT_FAMILY and friends, I 
</I>&gt;<i> wouldn't like that change.
</I>&gt;<i> We have plenty of reserved and meta data stuff in the formats that could 
</I>&gt;<i> possibly carry any extra information you would need.
</I>
The format family stuff seems to be intended to work exactly like I would 
utilize in this case. There is also B_BEOS_FORMAT_FAMILY for example. Maybe 
I can use some extra field, but that would actually be more hackish than to 
do what I proposed. What extra field would you actually use? For example, 
you cannot put this into the extra data, since then you would have to adapt 
every Decoder to exract information from the extra data in specific ways. 
My solution would at least elliminate the need to know each codec by it's 
ID in the upper layer, ie the &quot;format + codec ID&quot; to Decoder plug-in 
mapping. To be honest, I find the solution quite elegant.

Then of course there is the problem that J&#233;r&#244;me mentioned, where decoder 
and demuxer live in different address spaces. That's of course a show 
stopper to my idea.

I know already that it doesn't help to use the same AVCodecContext instance 
in the Decoder, the video is scrabled in the same way. My next test will be 
to write the demuxer packets into a file to compare the raw streams of 
ffplay and the AVFormatReader.

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017842.html">[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg
</A></li>
	<LI>Next message: <A HREF="017847.html">[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17846">[ date ]</a>
              <a href="thread.html#17846">[ thread ]</a>
              <a href="subject.html#17846">[ subject ]</a>
              <a href="author.html#17846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
