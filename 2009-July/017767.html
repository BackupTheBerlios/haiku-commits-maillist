<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31432 - in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec: .	ppc sparc x86
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31432%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec%3A%20.%0A%09ppc%20sparc%20x86&In-Reply-To=%3Cda2be3d70907061730r58e1707g8a07763026fb9e6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017765.html">
   <LINK REL="Next"  HREF="017768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31432 - in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec: .	ppc sparc x86</H1>
    <B>David McPaul</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31432%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec%3A%20.%0A%09ppc%20sparc%20x86&In-Reply-To=%3Cda2be3d70907061730r58e1707g8a07763026fb9e6%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r31432 - in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec: .	ppc sparc x86">dlmcpaul at gmail.com
       </A><BR>
    <I>Tue Jul  7 02:30:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="017765.html">[Haiku-commits] r31432 -	in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec:	.	ppc sparc x86
</A></li>
        <LI>Next message: <A HREF="017768.html">[Haiku-commits] r31432 -	in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec:	.	ppc sparc x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17767">[ date ]</a>
              <a href="thread.html#17767">[ thread ]</a>
              <a href="subject.html#17767">[ subject ]</a>
              <a href="author.html#17767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2009/7/7 Ingo Weinhold &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">ingo_weinhold at gmx.de</A>&gt;:
&gt;<i>
</I>&gt;<i> -------- Original-Nachricht --------
</I>&gt;&gt;<i> Datum: Tue, 7 Jul 2009 08:31:51 +1000
</I>&gt;&gt;<i> Von: David McPaul &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">dlmcpaul at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> 2009/7/7 Urias McCullough &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">umccullough at gmail.com</A>&gt;:
</I>&gt;&gt;<i> &gt; On Mon, Jul 6, 2009 at 3:05 PM, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">stippi at mail.berlios.de</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; Author: stippi
</I>&gt;&gt;<i> &gt;&gt; Date: 2009-07-07 00:05:00 +0200 (Tue, 07 Jul 2009)
</I>&gt;&gt;<i> &gt;&gt; New Revision: 31432
</I>&gt;&gt;<i> &gt;&gt; ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31432&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31432&amp;view=rev</A>
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Modified:
</I>&gt;&gt;<i> &gt;&gt; &#160; haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/Jamfile
</I>&gt;&gt;<i> &gt;&gt; &#160; haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/ppc/Jamfile
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/sparc/Jamfile
</I>&gt;&gt;<i> &gt;&gt; &#160; haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec/x86/Jamfile
</I>&gt;&gt;<i> &gt;&gt; Log:
</I>&gt;&gt;<i> &gt;&gt; Actually, use a more style compliant name, and since the flags don't
</I>&gt;&gt;<i> contain
</I>&gt;&gt;<i> &gt;&gt; just architecture specific flags, call them just HAIKU_FFMPEG_DEFINES.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; + &#160; &#160; &#160; HAIKU_FFMPEG_DEFINES += HAVE_MMX=1 HAVE_MMX2=1 HAVE_SSE=0
</I>&gt;&gt;<i> HAVE_SSE3=1 ;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Does HAVE_SSE still have to be 0? I thought that got fixed (I'm
</I>&gt;&gt;<i> &gt; probably forgetting the discussion)...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The alignment issues which cause the SSE routines to segfault are still
</I>&gt;&gt;<i> there.
</I>&gt;<i>
</I>&gt;<i> Is there a ticket tracking this issue? I tried to look it up, but as usual Trac search is almost utterly useless.
</I>&gt;<i>
</I>&gt;<i> Anyway, I noticed recently that the kernel doesn't align some (all?) threads' initial (user) stack frame, which could be the cause of this problem. Shouldn't be hard to fix, but since it might also have a measurable speed impact on pretty much all code using that stack, it would be nice to do some benchmarking before and after. Any volunteers? :-)
</I>
Not sure if that would help, but all I know is that we cannot compile
ffmpeg with proper alignment for the SSE2 routines.

-- 
Cheers
David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017765.html">[Haiku-commits] r31432 -	in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec:	.	ppc sparc x86
</A></li>
	<LI>Next message: <A HREF="017768.html">[Haiku-commits] r31432 -	in	haiku/trunk/src/add-ons/media/plugins/ffmpeg/libavcodec:	.	ppc sparc x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17767">[ date ]</a>
              <a href="thread.html#17767">[ thread ]</a>
              <a href="subject.html#17767">[ subject ]</a>
              <a href="author.html#17767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
