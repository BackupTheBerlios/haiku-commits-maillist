<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31963 - in haiku/trunk: headers/private/interface	src/kits/interface
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31963%20-%20in%20haiku/trunk%3A%20headers/private/interface%0A%09src/kits/interface&In-Reply-To=%3C200907301041.n6UAfe6e020486%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018511.html">
   <LINK REL="Next"  HREF="018514.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31963 - in haiku/trunk: headers/private/interface	src/kits/interface</H1>
    <B>jackburton at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31963%20-%20in%20haiku/trunk%3A%20headers/private/interface%0A%09src/kits/interface&In-Reply-To=%3C200907301041.n6UAfe6e020486%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r31963 - in haiku/trunk: headers/private/interface	src/kits/interface">jackburton at mail.berlios.de
       </A><BR>
    <I>Thu Jul 30 12:41:40 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018511.html">[Haiku-commits] r31962 - in haiku/trunk: headers/private/interface	src/kits/interface
</A></li>
        <LI>Next message: <A HREF="018514.html">[Haiku-commits] r31964 - haiku/trunk/src/kits/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18512">[ date ]</a>
              <a href="thread.html#18512">[ thread ]</a>
              <a href="subject.html#18512">[ subject ]</a>
              <a href="author.html#18512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jackburton
Date: 2009-07-30 12:41:33 +0200 (Thu, 30 Jul 2009)
New Revision: 31963
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31963&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31963&amp;view=rev</A>

Added:
   haiku/trunk/src/kits/interface/MenuPrivate.cpp
Modified:
   haiku/trunk/headers/private/interface/MenuPrivate.h
   haiku/trunk/src/kits/interface/Jamfile
   haiku/trunk/src/kits/interface/Menu.cpp
   haiku/trunk/src/kits/interface/MenuItem.cpp
Log:
Moved MenuPrivate implementation to its own file. Made MenuPrivate.h
self-contained. Adjusted other files accordingly.


Modified: haiku/trunk/headers/private/interface/MenuPrivate.h
===================================================================
--- haiku/trunk/headers/private/interface/MenuPrivate.h	2009-07-30 10:33:46 UTC (rev 31962)
+++ haiku/trunk/headers/private/interface/MenuPrivate.h	2009-07-30 10:41:33 UTC (rev 31963)
@@ -9,6 +9,7 @@
 #ifndef __MENU_PRIVATE_H
 #define __MENU_PRIVATE_H
 
+#include &lt;Menu.h&gt;
 
 enum menu_states {
 	MENU_STATE_TRACKING = 0,

Modified: haiku/trunk/src/kits/interface/Jamfile
===================================================================
--- haiku/trunk/src/kits/interface/Jamfile	2009-07-30 10:33:46 UTC (rev 31962)
+++ haiku/trunk/src/kits/interface/Jamfile	2009-07-30 10:41:33 UTC (rev 31963)
@@ -84,6 +84,7 @@
 	MenuBar.cpp
 	MenuField.cpp
 	MenuItem.cpp
+	MenuPrivate.cpp
 	MenuWindow.cpp
 	OptionControl.cpp
 	OptionPopUp.cpp

Modified: haiku/trunk/src/kits/interface/Menu.cpp
===================================================================
--- haiku/trunk/src/kits/interface/Menu.cpp	2009-07-30 10:33:46 UTC (rev 31962)
+++ haiku/trunk/src/kits/interface/Menu.cpp	2009-07-30 10:41:33 UTC (rev 31963)
@@ -14,7 +14,6 @@
 #include &lt;ctype.h&gt;
 #include &lt;string.h&gt;
 
-#include &lt;Bitmap.h&gt;
 #include &lt;ControlLook.h&gt;
 #include &lt;Debug.h&gt;
 #include &lt;File.h&gt;
@@ -77,11 +76,6 @@
 };
 
 
-BBitmap *gMenuItemAlt;
-BBitmap *gMenuItemControl;
-BBitmap *gMenuItemOption;
-BBitmap *gMenuItemShift;
-
 }	// namespace BPrivate
 
 
@@ -89,66 +83,6 @@
 bool BMenu::sAltAsCommandKey;
 
 
-const unsigned char kCtrlBits[] = {
-	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
-	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
-};
-
-
-const unsigned char kAltBits[] = {
-	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x04,0x04,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
-	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
-};
-
-
-const unsigned char kOptBits[] = {
-	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x13,0x04,0x04,0x13,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
-	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
-};
-
-
-const unsigned char kShiftBits[] = {
-	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x17,0x04,0x04,0x17,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x17,0x17,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x17,0x04,0x04,0x17,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x04,0x17,0x17,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x17,0x04,0x04,0x17,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
-	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
-	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
-	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
-};
-
-
 static property_info sPropList[] = {
 	{ &quot;Enabled&quot;, { B_GET_PROPERTY, 0 },
 		{ B_DIRECT_SPECIFIER, 0 }, &quot;Returns true if menu or menu item is enabled; false &quot;
@@ -2834,196 +2768,3 @@
 
 	return status;
 }
-
-
-// MenuPrivate
-namespace BPrivate {
-
-MenuPrivate::MenuPrivate(BMenu *menu)
-	:
-	fMenu(menu)
-{
-}
-
-
-menu_layout
-MenuPrivate::Layout() const
-{
-	return fMenu-&gt;Layout();
-}
-
-
-void
-MenuPrivate::ItemMarked(BMenuItem *item)
-{
-	fMenu-&gt;_ItemMarked(item);
-}
-
-
-void
-MenuPrivate::CacheFontInfo()
-{
-	fMenu-&gt;_CacheFontInfo();
-}
-
-
-float
-MenuPrivate::FontHeight() const
-{
-	return fMenu-&gt;fFontHeight;
-}
-
-
-float
-MenuPrivate::Ascent() const
-{
-	return fMenu-&gt;fAscent;
-}
-
-
-BRect
-MenuPrivate::Padding() const
-{
-	return fMenu-&gt;fPad;
-}
-
-
-void
-MenuPrivate::GetItemMargins(float *left, float *top,
-					float *right, float *bottom) const
-{
-	fMenu-&gt;GetItemMargins(left, top, right, bottom);
-}
-
-
-bool
-MenuPrivate::IsAltCommandKey() const
-{
-	return fMenu-&gt;sAltAsCommandKey;
-}
-
-
-int
-MenuPrivate::State(BMenuItem **item) const
-{
-	return fMenu-&gt;_State(item);
-}
-
-
-void
-MenuPrivate::Install(BWindow *window)
-{
-	fMenu-&gt;_Install(window);
-}
-
-
-void
-MenuPrivate::Uninstall()
-{
-	fMenu-&gt;_Uninstall();
-}
-
-
-void
-MenuPrivate::SetSuper(BMenu *menu)
-{
-	fMenu-&gt;fSuper = menu;
-}
-
-
-void
-MenuPrivate::SetSuperItem(BMenuItem *item)
-{
-	fMenu-&gt;fSuperitem = item;
-}
-
-
-void
-MenuPrivate::InvokeItem(BMenuItem *item, bool now)
-{
-	fMenu-&gt;_InvokeItem(item, now);
-}
-
-
-void
-MenuPrivate::QuitTracking(bool thisMenuOnly)
-{
-	fMenu-&gt;_QuitTracking(thisMenuOnly);
-}
-
-
-/* static */
-status_t
-MenuPrivate::CreateBitmaps()
-{
-	BRect smallRect(0, 0, 16, 10);
-	BRect largeRect(0, 0, 21, 10);
-	
-	gMenuItemAlt = new BBitmap(smallRect, B_CMAP8);
-	gMenuItemControl = new BBitmap(smallRect, B_CMAP8);
-	gMenuItemOption = new BBitmap(smallRect, B_CMAP8);	
-	gMenuItemShift = new BBitmap(largeRect, B_CMAP8);
-	
-	gMenuItemAlt-&gt;ImportBits(kAltBits, sizeof(kAltBits),
-		17, 0, B_CMAP8);
-	gMenuItemControl-&gt;ImportBits(kCtrlBits, sizeof(kCtrlBits),
-		17, 0, B_CMAP8);				
-	gMenuItemOption-&gt;ImportBits(kOptBits, sizeof(kOptBits),
-		17, 0, B_CMAP8);
-	gMenuItemShift-&gt;ImportBits(kShiftBits, sizeof(kShiftBits),
-		22, 0, B_CMAP8);
-	
-	return B_OK;
-}
-
-
-/* static */
-void
-MenuPrivate::DeleteBitmaps()
-{
-	delete gMenuItemAlt;
-	delete gMenuItemControl;
-	delete gMenuItemOption;
-	delete gMenuItemShift;
-}
-
-
-/* static */
-const BBitmap *
-MenuPrivate::MenuItemCommand()
-{
-	if (BMenu::sAltAsCommandKey)
-		return gMenuItemAlt;
-	
-	return gMenuItemControl;
-}
-
-
-/* static */
-const BBitmap *
-MenuPrivate::MenuItemControl()
-{
-	if (BMenu::sAltAsCommandKey)
-		return gMenuItemControl;
-	
-	return gMenuItemAlt;
-}
-
-
-/* static */
-const BBitmap *
-MenuPrivate::MenuItemOption()
-{
-	return gMenuItemOption;
-}
-
-
-/* static */
-const BBitmap *
-MenuPrivate::MenuItemShift()
-{
-	return gMenuItemShift;
-}
-
-
-}	// namespace BPrivate

Modified: haiku/trunk/src/kits/interface/MenuItem.cpp
===================================================================
--- haiku/trunk/src/kits/interface/MenuItem.cpp	2009-07-30 10:33:46 UTC (rev 31962)
+++ haiku/trunk/src/kits/interface/MenuItem.cpp	2009-07-30 10:41:33 UTC (rev 31963)
@@ -15,8 +15,8 @@
 #include &lt;stdlib.h&gt;
 #include &lt;string.h&gt;
 
+#include &lt;Bitmap.h&gt;
 #include &lt;ControlLook.h&gt;
-#include &lt;Bitmap.h&gt;
 #include &lt;MenuItem.h&gt;
 #include &lt;Shape.h&gt;
 #include &lt;String.h&gt;

Added: haiku/trunk/src/kits/interface/MenuPrivate.cpp
===================================================================
--- haiku/trunk/src/kits/interface/MenuPrivate.cpp	2009-07-30 10:33:46 UTC (rev 31962)
+++ haiku/trunk/src/kits/interface/MenuPrivate.cpp	2009-07-30 10:41:33 UTC (rev 31963)
@@ -0,0 +1,267 @@
+/*
+ * Copyright 2001-2009, Haiku, Inc.
+ * Distributed under the terms of the MIT License.
+ *
+ * Authors:
+ *		Stefano Ceccherini (<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">stefano.ceccherini at gmail.com</A>)
+ */
+
+#include &lt;MenuPrivate.h&gt;
+
+#include &lt;Bitmap.h&gt;
+#include &lt;Menu.h&gt;
+
+const unsigned char kCtrlBits[] = {
+	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
+	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
+};
+
+
+const unsigned char kAltBits[] = {
+	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x04,0x04,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
+	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
+};
+
+
+const unsigned char kOptBits[] = {
+	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x13,0x04,0x04,0x13,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x1a,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x13,0x04,0x04,0x13,0x1a,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
+	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
+};
+
+
+const unsigned char kShiftBits[] = {
+	0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x1d,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x17,0x04,0x04,0x17,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x17,0x17,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x04,0x04,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x17,0x04,0x04,0x17,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x04,0x04,0x04,0x1a,0x04,0x04,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x04,0x17,0x17,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x17,0x04,0x04,0x17,0x1a,0x04,0x1a,0x04,0x1a,0x04,0x1a,0x1a,0x1a,0x1a,0x04,0x1a,0x1a,0x17,0x14,
+	0x1d,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x1a,0x17,0x14,
+	0x1d,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x17,0x14,
+	0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14,0x14
+};
+
+namespace BPrivate {
+
+BBitmap *gMenuItemAlt;
+BBitmap *gMenuItemControl;
+BBitmap *gMenuItemOption;
+BBitmap *gMenuItemShift;
+
+MenuPrivate::MenuPrivate(BMenu *menu)
+	:
+	fMenu(menu)
+{
+}
+
+
+menu_layout
+MenuPrivate::Layout() const
+{
+	return fMenu-&gt;Layout();
+}
+
+
+void
+MenuPrivate::ItemMarked(BMenuItem *item)
+{
+	fMenu-&gt;_ItemMarked(item);
+}
+
+
+void
+MenuPrivate::CacheFontInfo()
+{
+	fMenu-&gt;_CacheFontInfo();
+}
+
+
+float
+MenuPrivate::FontHeight() const
+{
+	return fMenu-&gt;fFontHeight;
+}
+
+
+float
+MenuPrivate::Ascent() const
+{
+	return fMenu-&gt;fAscent;
+}
+
+
+BRect
+MenuPrivate::Padding() const
+{
+	return fMenu-&gt;fPad;
+}
+
+
+void
+MenuPrivate::GetItemMargins(float *left, float *top,
+					float *right, float *bottom) const
+{
+	fMenu-&gt;GetItemMargins(left, top, right, bottom);
+}
+
+
+bool
+MenuPrivate::IsAltCommandKey() const
+{
+	return fMenu-&gt;sAltAsCommandKey;
+}
+
+
+int
+MenuPrivate::State(BMenuItem **item) const
+{
+	return fMenu-&gt;_State(item);
+}
+
+
+void
+MenuPrivate::Install(BWindow *window)
+{
+	fMenu-&gt;_Install(window);
+}
+
+
+void
+MenuPrivate::Uninstall()
+{
+	fMenu-&gt;_Uninstall();
+}
+
+
+void
+MenuPrivate::SetSuper(BMenu *menu)
+{
+	fMenu-&gt;fSuper = menu;
+}
+
+
+void
+MenuPrivate::SetSuperItem(BMenuItem *item)
+{
+	fMenu-&gt;fSuperitem = item;
+}
+
+
+void
+MenuPrivate::InvokeItem(BMenuItem *item, bool now)
+{
+	fMenu-&gt;_InvokeItem(item, now);
+}
+
+
+void
+MenuPrivate::QuitTracking(bool thisMenuOnly)
+{
+	fMenu-&gt;_QuitTracking(thisMenuOnly);
+}
+
+
+/* static */
+status_t
+MenuPrivate::CreateBitmaps()
+{
+	BRect smallRect(0, 0, 16, 10);
+	BRect largeRect(0, 0, 21, 10);
+	
+	gMenuItemAlt = new BBitmap(smallRect, B_CMAP8);
+	gMenuItemControl = new BBitmap(smallRect, B_CMAP8);
+	gMenuItemOption = new BBitmap(smallRect, B_CMAP8);	
+	gMenuItemShift = new BBitmap(largeRect, B_CMAP8);
+	
+	gMenuItemAlt-&gt;ImportBits(kAltBits, sizeof(kAltBits),
+		17, 0, B_CMAP8);
+	gMenuItemControl-&gt;ImportBits(kCtrlBits, sizeof(kCtrlBits),
+		17, 0, B_CMAP8);				
+	gMenuItemOption-&gt;ImportBits(kOptBits, sizeof(kOptBits),
+		17, 0, B_CMAP8);
+	gMenuItemShift-&gt;ImportBits(kShiftBits, sizeof(kShiftBits),
+		22, 0, B_CMAP8);
+	
+	return B_OK;
+}
+
+
+/* static */
+void
+MenuPrivate::DeleteBitmaps()
+{
+	delete gMenuItemAlt;
+	delete gMenuItemControl;
+	delete gMenuItemOption;
+	delete gMenuItemShift;
+}
+
+
+/* static */
+const BBitmap *
+MenuPrivate::MenuItemCommand()
+{
+	if (BMenu::sAltAsCommandKey)
+		return gMenuItemAlt;
+	
+	return gMenuItemControl;
+}
+
+
+/* static */
+const BBitmap *
+MenuPrivate::MenuItemControl()
+{
+	if (BMenu::sAltAsCommandKey)
+		return gMenuItemControl;
+	
+	return gMenuItemAlt;
+}
+
+
+/* static */
+const BBitmap *
+MenuPrivate::MenuItemOption()
+{
+	return gMenuItemOption;
+}
+
+
+/* static */
+const BBitmap *
+MenuPrivate::MenuItemShift()
+{
+	return gMenuItemShift;
+}
+
+
+}	// namespace BPrivate


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018511.html">[Haiku-commits] r31962 - in haiku/trunk: headers/private/interface	src/kits/interface
</A></li>
	<LI>Next message: <A HREF="018514.html">[Haiku-commits] r31964 - haiku/trunk/src/kits/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18512">[ date ]</a>
              <a href="thread.html#18512">[ thread ]</a>
              <a href="subject.html#18512">[ subject ]</a>
              <a href="author.html#18512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
