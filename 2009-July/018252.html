<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31756 - in	haiku/branches/components/gsoc-locale-kit: build/jam	src/build/icu/common src/build/icu/i18n	src/build/icu/stubdata src/build/icu/toolutil src/libs/icu	src/libs/icu/source/data src/libs/icu/source/data/brkitr	src/libs/icu/source/data/coll src/libs/icu/source/data/mappings	src/libs/icu/source/data/misc src/libs/icu/source/data/rbnf	src/libs/icu/source/data/sprep	src/libs/icu/source/data/translit src/tools/icu
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31756%20-%20in%0A%09haiku/branches/components/gsoc-locale-kit%3A%20build/jam%0A%09src/build/icu/common%20src/build/icu/i18n%0A%09src/build/icu/stubdata%20src/build/icu/toolutil%20src/libs/icu%0A%09src/libs/icu/source/data%20src/libs/icu/source/data/brkitr%0A%09src/libs/icu/source/data/coll%20src/libs/icu/source/data/mappings%0A%09src/libs/icu/source/data/misc%20src/libs/icu/source/data/rbnf%0A%09src/libs/icu/source/data/sprep%0A%09src/libs/icu/source/data/translit%20src/tools/icu&In-Reply-To=%3C200907252156.n6PLuHHL027916%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018251.html">
   <LINK REL="Next"  HREF="018253.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31756 - in	haiku/branches/components/gsoc-locale-kit: build/jam	src/build/icu/common src/build/icu/i18n	src/build/icu/stubdata src/build/icu/toolutil src/libs/icu	src/libs/icu/source/data src/libs/icu/source/data/brkitr	src/libs/icu/source/data/coll src/libs/icu/source/data/mappings	src/libs/icu/source/data/misc src/libs/icu/source/data/rbnf	src/libs/icu/source/data/sprep	src/libs/icu/source/data/translit src/tools/icu</H1>
    <B>zooey at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31756%20-%20in%0A%09haiku/branches/components/gsoc-locale-kit%3A%20build/jam%0A%09src/build/icu/common%20src/build/icu/i18n%0A%09src/build/icu/stubdata%20src/build/icu/toolutil%20src/libs/icu%0A%09src/libs/icu/source/data%20src/libs/icu/source/data/brkitr%0A%09src/libs/icu/source/data/coll%20src/libs/icu/source/data/mappings%0A%09src/libs/icu/source/data/misc%20src/libs/icu/source/data/rbnf%0A%09src/libs/icu/source/data/sprep%0A%09src/libs/icu/source/data/translit%20src/tools/icu&In-Reply-To=%3C200907252156.n6PLuHHL027916%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r31756 - in	haiku/branches/components/gsoc-locale-kit: build/jam	src/build/icu/common src/build/icu/i18n	src/build/icu/stubdata src/build/icu/toolutil src/libs/icu	src/libs/icu/source/data src/libs/icu/source/data/brkitr	src/libs/icu/source/data/coll src/libs/icu/source/data/mappings	src/libs/icu/source/data/misc src/libs/icu/source/data/rbnf	src/libs/icu/source/data/sprep	src/libs/icu/source/data/translit src/tools/icu">zooey at mail.berlios.de
       </A><BR>
    <I>Sat Jul 25 23:56:17 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018251.html">[Haiku-commits] r31755 - haiku/trunk/src/add-ons/disk_systems/bfs
</A></li>
        <LI>Next message: <A HREF="018253.html">[Haiku-commits] r31757 - in haiku/trunk: headers/private/interface	src/kits/interface src/servers/app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18252">[ date ]</a>
              <a href="thread.html#18252">[ thread ]</a>
              <a href="subject.html#18252">[ subject ]</a>
              <a href="author.html#18252">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zooey
Date: 2009-07-25 23:56:15 +0200 (Sat, 25 Jul 2009)
New Revision: 31756
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31756&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31756&amp;view=rev</A>

Added:
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/brkitr/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/coll/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/mappings/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/misc/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/rbnf/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/sprep/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/translit/Jamfile
Modified:
   haiku/branches/components/gsoc-locale-kit/build/jam/HaikuImage
   haiku/branches/components/gsoc-locale-kit/src/build/icu/common/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/build/icu/i18n/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/build/icu/stubdata/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/build/icu/toolutil/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/Jamfile
   haiku/branches/components/gsoc-locale-kit/src/tools/icu/Jamfile
Log:
* the ICU build is generating a lot more data files, we have nearly all of them
  done - only the confusables are missing :-)

Modified: haiku/branches/components/gsoc-locale-kit/build/jam/HaikuImage
===================================================================
--- haiku/branches/components/gsoc-locale-kit/build/jam/HaikuImage	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/build/jam/HaikuImage	2009-07-25 21:56:15 UTC (rev 31756)
@@ -79,7 +79,6 @@
 ICU_LIBS = libicu-common.so 
 	&lt;stub&gt;libicu-data.so  # for now, until we have the real thing
 	libicu-i18n.so
-	libicu-toolutil.so
 ;
 SYSTEM_LIBS = libbe.so $(HAIKU_SHARED_LIBSTDC++) libmedia.so libtracker.so
 	libtranslation.so libbnetapi.so libnetwork.so libdebug.so libbsd.so

Modified: haiku/branches/components/gsoc-locale-kit/src/build/icu/common/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/build/icu/common/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/build/icu/common/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -14,6 +14,8 @@
 	-DU_COMMON_IMPLEMENTATION -Wno-sign-compare -Wno-parentheses
 	;
 
+MakeLocate &lt;build&gt;libicu-common.so : $(HOST_BUILD_COMPATIBILITY_LIB_DIR) ;
+
 BuildPlatformSharedLibrary &lt;build&gt;libicu-common.so :
 	bmpset.cpp
 	brkeng.cpp

Modified: haiku/branches/components/gsoc-locale-kit/src/build/icu/i18n/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/build/icu/i18n/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/build/icu/i18n/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -14,6 +14,8 @@
 	-DU_I18N_IMPLEMENTATION -Wno-sign-compare -Wno-parentheses
 	;
 
+MakeLocate &lt;build&gt;libicu-i18n.so : $(HOST_BUILD_COMPATIBILITY_LIB_DIR) ;
+
 BuildPlatformSharedLibrary &lt;build&gt;libicu-i18n.so :	
 	anytrans.cpp
 	astro.cpp

Modified: haiku/branches/components/gsoc-locale-kit/src/build/icu/stubdata/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/build/icu/stubdata/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/build/icu/stubdata/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -6,6 +6,8 @@
 
 SubDirHdrs [ FDirName $(HAIKU_TOP) src libs icu source common ] ;
 
+MakeLocate &lt;build!stub&gt;libicu-data.so : $(HOST_BUILD_COMPATIBILITY_LIB_DIR) ;
+
 BuildPlatformSharedLibrary &lt;build!stub&gt;libicu-data.so :	
 	stubdata.c
 	;

Modified: haiku/branches/components/gsoc-locale-kit/src/build/icu/toolutil/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/build/icu/toolutil/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/build/icu/toolutil/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -15,6 +15,8 @@
 	-DU_COMMON_IMPLEMENTATION -Wno-sign-compare -Wno-parentheses
 	;
 
+MakeLocate &lt;build&gt;libicu-toolutil.so : $(HOST_BUILD_COMPATIBILITY_LIB_DIR) ;
+
 BuildPlatformSharedLibrary &lt;build&gt;libicu-toolutil.so :
 	filestrm.c
 	filetools.cpp

Modified: haiku/branches/components/gsoc-locale-kit/src/libs/icu/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -7,8 +7,8 @@
 SubInclude HAIKU_TOP src libs icu source tools toolutil ;
 
 # Pseudo target to build all ICU-libs
-NotFile ICUlibs ;
-Depends ICUlibs
+NotFile ICU_Libs ;
+Depends ICU_Libs
 	:
 	libicu-common.so
 	libicu-i18n.so

Modified: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -1,19 +1,34 @@
+SubInclude HAIKU_TOP src libs icu source data brkitr ;
+SubInclude HAIKU_TOP src libs icu source data coll ;
+SubInclude HAIKU_TOP src libs icu source data locales ;
+SubInclude HAIKU_TOP src libs icu source data mappings ;
+SubInclude HAIKU_TOP src libs icu source data misc ;
+SubInclude HAIKU_TOP src libs icu source data rbnf ;
+SubInclude HAIKU_TOP src libs icu source data sprep ;
+SubInclude HAIKU_TOP src libs icu source data translit ;
+
 SubDir HAIKU_TOP src libs icu source data ;
 
 ICU_UNICODE_VERSION = &quot;5.1&quot; ;
+ICU_CLDR_VERSION = $(ICU_GENRB_CLDR_VERSION) ;
+ICU_DAT_FILES = pnames.icu unames.icu cnvalias.icu ucadata.icu invuca.icu ;
+ICU_DATA_DIR = [ FDirName $(HOST_COMMON_DEBUG_OBJECT_DIR) icudt42l ] ;
 
-SubInclude HAIKU_TOP src libs icu source data locales ;
+rule MakeLocateICUData files : subdir
+{
+	local file ;
+	for file in $(files) {
+		MakeLocate $(file) : [ FDirName $(ICU_DATA_DIR) $(subdir) ] ;
+	}
+}
 
-SEARCH += [ FDirName $(HAIKU_TOP) src libs icu source data unidata ] ;
-SEARCH += [ FDirName $(HAIKU_TOP) headers libs icu unicode ] ;
-
 # -----------------------------------------------------------------------------
-# pnames.icu
+# property names (pnames.icu)
 # -----------------------------------------------------------------------------
 
 rule GeneratePNames target : sources
 {
-	MakeLocateArch $(target) ;
+	MakeLocateICUData $(target) ;
 	Depends $(target) : &lt;build&gt;genpname $(sources) ;
 	LocalClean clean : $(target) ;
 	GeneratePNames1 $(target) : &lt;build&gt;genpname ;
@@ -25,21 +40,22 @@
 	$(2) -d $(1:D)
 }
 
-GeneratePNames pnames.icu :
-	Blocks.txt
-	PropertyAliases.txt
-	PropertyValueAliases.txt
-	uscript.h
-	uchar.h
-	;
+local propertyFiles = Blocks.txt PropertyAliases.txt PropertyValueAliases.txt ;
+MakeLocate $(propertyFiles) : [ FDirName $(SUBDIR) unidata ] ;
 
+local propertyHeaders = uscript.h uchar.h ;
+MakeLocate $(propertyHeaders) 
+	: [ FDirName $(HAIKU_TOP) headers libs icu unicode ] ;
+
+GeneratePNames pnames.icu : $(propertyFiles) $(propertyHeaders) ;
+
 # -----------------------------------------------------------------------------
-# unames.icu
+# unicode character names (unames.icu)
 # -----------------------------------------------------------------------------
 
 rule GenerateUNames target : sources
 {
-	MakeLocateArch $(target) ;
+	MakeLocateICUData $(target) ;
 	Depends $(target) : &lt;build&gt;gennames $(sources) ;
 	LocalClean clean : $(target) ;
 	GenerateUNames1 $(target) : &lt;build&gt;gennames $(sources) ;
@@ -51,5 +67,246 @@
 	$(2[1]) -1 -d $(1:D) $(2[2-]) -u $(ICU_UNICODE_VERSION)
 }
 
-GenerateUNames unames.icu : UnicodeData.txt ;
+local unicodeData = UnicodeData.txt ;
+MakeLocate $(unicodeData) : [ FDirName $(SUBDIR) unidata ] ;
+GenerateUNames unames.icu : $(unicodeData) ;
 
+# -----------------------------------------------------------------------------
+# converter aliases (cnvalias.icu)
+# -----------------------------------------------------------------------------
+
+rule GenerateConvAliases target : source
+{
+	MakeLocateICUData $(target) ;
+	Depends $(target) : &lt;build&gt;gencnval $(source) ;
+	LocalClean clean : $(target) ;
+	GenerateConvAliases1 $(target) : &lt;build&gt;gencnval $(source) ;
+}
+
+actions GenerateConvAliases1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -d $(1:D) $(2[2])
+}
+
+local converters = convrtrs.txt ;
+MakeLocate $(converters) : [ FDirName $(SUBDIR) mappings ] ;
+GenerateConvAliases cnvalias.icu : $(converters) ;
+
+# -----------------------------------------------------------------------------
+# unicode collation algorithm data (ucadata.icu invuca.icu)
+# -----------------------------------------------------------------------------
+
+rule GenerateUcaData targets : source
+{
+	MakeLocateICUData $(targets) : &quot;coll&quot; ;
+	Depends $(targets) : &lt;build&gt;genuca $(source) ;
+	LocalClean clean : $(targets) ;
+	GenerateUcaData1 $(targets) : &lt;build&gt;genuca $(source) ;
+}
+
+actions GenerateUcaData1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -s $(2[2]:D) -d $(1[1]:D) -i $(2[2]:D)
+}
+
+local fractionalUCA = FractionalUCA.txt ;
+MakeLocate $(fractionalUCA) : [ FDirName $(SUBDIR) unidata ] ;
+GenerateUcaData ucadata.icu invuca.icu : $(fractionalUCA) ;
+
+# -----------------------------------------------------------------------------
+# charset converters (*.cnv)
+# -----------------------------------------------------------------------------
+
+rule GenerateCharsetConverter target : source
+{
+	MakeLocateICUData $(target) ;
+	Depends $(target) : &lt;build&gt;makeconv $(source) ;
+	LocalClean clean : $(target) ;
+	GenerateCharsetConverter1 $(target) : &lt;build&gt;makeconv $(source) ;
+}
+
+actions GenerateCharsetConverter1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -c -d $(1:D) $(2[2])
+}
+
+NotFile ICU_CharsetConverters ;
+local source ;
+for source in $(ICU_UCM_SOURCE_CORE) {
+	MakeLocate $(source) : [ FDirName $(SUBDIR) mappings ] ;
+	local target = $(source:D=:S=.cnv) ;
+	Depends ICU_CharsetConverters : $(target) ;
+	GenerateCharsetConverter $(target) : $(source) ;
+}
+
+# -----------------------------------------------------------------------------
+# break iterators (*.brk)
+# -----------------------------------------------------------------------------
+
+rule GenerateBreakIterator target : source
+{
+	MakeLocateICUData $(target) : &quot;brkitr&quot; ;
+	Depends $(target) : &lt;build&gt;genbrk $(ICU_DAT_FILES) $(source) ;
+	LocalClean clean : $(target) ;
+	GenerateBreakIterator1 $(target) : &lt;build&gt;genbrk $(source) ;
+}
+
+actions GenerateBreakIterator1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -c -i $(ICU_DATA_DIR) -r $(2[2]) -o $(1) &gt;/dev/null
+}
+
+NotFile ICU_BreakIterators ;
+for source in $(ICU_BRK_SOURCE) {
+	MakeLocate $(source) : [ FDirName $(SUBDIR) brkitr ] ;
+	local target = $(source:D=:S=.brk) ;
+	Depends ICU_BreakIterators : $(target) ;
+	GenerateBreakIterator $(target) : $(source) ;
+}
+
+# -----------------------------------------------------------------------------
+# special (ctd) break iterators (*.ctd)
+# -----------------------------------------------------------------------------
+
+rule GenerateCtdBreakIterator target : source
+{
+	MakeLocateICUData $(target) ;
+	Depends $(target) : &lt;build&gt;genctd $(ICU_DAT_FILES) $(source) ;
+	LocalClean clean : $(target) ;
+	GenerateCtdBreakIterator1 $(target) : &lt;build&gt;genctd $(source) ;
+}
+
+actions GenerateCtdBreakIterator1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -c -i $(ICU_DATA_DIR) -o $(1) $(2[2]) &gt;/dev/null
+}
+
+for source in $(ICU_BRK_CTD_SOURCE) {
+	MakeLocate $(source) : [ FDirName $(SUBDIR) brkitr ] ;
+	local target = $(source:D=:S=.ctd) ;
+	Depends ICU_BreakIterators : $(target) ;
+	GenerateCtdBreakIterator $(target) : $(source) ;
+}
+
+# -----------------------------------------------------------------------------
+# string-prep files (*.spp)
+# -----------------------------------------------------------------------------
+
+rule GenerateStringPrep target : source
+{
+	MakeLocateICUData $(target) : sprep ;
+	Depends $(target) : &lt;build&gt;gensprep $(source) ;
+	LocalClean clean : $(target) ;
+	local unidataDir = [ FDirName $(SUBDIR) unidata ] ;
+	GenerateStringPrep1 $(target) : &lt;build&gt;gensprep $(source) $(unidataDir) ;
+}
+
+actions GenerateStringPrep1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -d $(1:D) -i $(ICU_DATA_DIR) -s $(2[2]:D) -b $(2[2]:B) -m $(2[3]) -u 3.2.0 $(2[2]:D=)
+}
+
+for source in $(ICU_SPREP_SOURCE) {
+	MakeLocate $(source) : [ FDirName $(SUBDIR) sprep ] ;
+	local target = $(source:D=:S=.spp) ;
+	Depends ICU_StringPreps : $(target) ;
+	GenerateStringPrep $(target) : $(source) ;
+}
+
+# -----------------------------------------------------------------------------
+# resource bundles (*.res)
+# -----------------------------------------------------------------------------
+
+rule GenerateIndexedResourceBundles indexName : sources : subdir
+{
+	GenerateResourceBundles $(sources) : $(subdir) ;
+	local indexSource = $(indexName:G=$(subdir)) ;
+	local indexTarget = $(indexSource:S=.res) ;
+	local indexedSources = [ FFilter $(sources) : root.txt ] ;
+	GenerateResourceIndex $(indexSource) 
+		: $(indexedSources) : $(subdir) : $(ICU_CLDR_VERSION) ;
+	Depends ICU_ResourceBundles : $(indexTarget) ;
+	GenerateResourceBundle $(indexTarget) : $(indexSource) : $(subdir) ;
+}
+
+rule GenerateResourceBundles sources : subdir : cldr
+{
+	for source in $(sources) {
+		MakeLocate $(source) : [ FDirName $(SUBDIR) $(subdir) ] ;
+		local target = $(source:D=:S=.res:G=$(subdir)) ;
+		Depends ICU_ResourceBundles : $(target) ;
+		GenerateResourceBundle $(target) : $(source) : $(subdir) ;
+	}
+}
+
+rule GenerateResourceBundle target : source : subdir
+{
+	MakeLocateICUData $(target) : $(subdir) ;
+	Depends $(target) : &lt;build&gt;genrb $(ICU_DAT_FILES) $(source) ;
+	LocalClean clean : $(target) ;
+	GenerateResourceBundle1 $(target) : &lt;build&gt;genrb $(source) ;
+}
+
+actions GenerateResourceBundle1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	$(2[1]) -k -q -i $(ICU_DATA_DIR) -s $(2[2]:D) -d $(1:D) $(2[2]) ;
+}
+
+rule GenerateResourceIndex target : sources : subdir : cldrVersion
+{
+	MakeLocateICUData $(target) : $(subdir) ;
+	Depends $(target) : $(sources) ;
+	NotFile $(cldrVersion) ;
+	LocalClean clean : $(target) ;
+	GenerateResourceIndex1 $(target) : $(cldrVersion) $(sources) ;
+}
+
+actions GenerateResourceIndex1
+{
+	$(HOST_ADD_BUILD_COMPATIBILITY_LIB_DIR)
+	echo &quot;res_index:table(nofallback) {&quot; &gt;$(1)
+	echo &quot;    CLDRVersion { \&quot;$(2[1]:D=)\&quot; }&quot; &gt;&gt;$(1)
+	echo &quot;    InstalledLocales {&quot; &gt;&gt;$(1)
+	for file in $(2[2-]:B) ; do echo &quot;        $file {\&quot;\&quot;}&quot; &gt;&gt;$(1) ; done
+	echo &quot;    }&quot; &gt;&gt;$(1)
+	echo &quot;}&quot; &gt;&gt;$(1)
+}
+
+NotFile ICU_ResourceBundles ;
+Depends ICU_ResourceBundles : ICU_BreakIterators ;
+
+# locales ---------------------------------------------------------------------
+
+GenerateIndexedResourceBundles res_index.txt 
+	: root.txt $(ICU_GENRB_SOURCE) $(ICU_GENRB_ALIAS_SOURCE) : locales ;
+
+# brkitr ----------------------------------------------------------------------
+
+GenerateIndexedResourceBundles res_index.txt 
+	: root.txt $(ICU_BRK_RES_SOURCE) : brkitr ;
+
+# collation -------------------------------------------------------------------
+
+GenerateIndexedResourceBundles res_index.txt 
+	: root.txt $(ICU_COLLATION_SOURCE) $(ICU_COLLATION_ALIAS_SOURCE) : coll ;
+
+# rbnf (rule based number format) ---------------------------------------------
+
+GenerateIndexedResourceBundles res_index.txt 
+	: root.txt $(ICU_RBNF_SOURCE) $(ICU_RBNF_ALIAS_SOURCE) : rbnf ;
+
+# transliteration -------------------------------------------------------------
+
+GenerateResourceBundles $(ICU_TRANSLIT_SOURCE) : translit ;
+
+# miscellaneous resource files ------------------------------------------------
+
+GenerateResourceBundles $(ICU_MISC_SOURCE) : misc ;
+

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/brkitr/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/brkitr/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/brkitr/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,17 @@
+SubDir HAIKU_TOP src libs icu source data brkitr ;
+
+# this file has been converted to Jamfile format from brkfiles.mk
+
+ICU_BRK_RES_CLDR_VERSION = 1.7 ;
+
+ICU_BRK_RES_SYNTHETIC_ALIAS = ;
+
+ICU_BRK_RES_ALIAS_SOURCE = $(BRK_RES_SYNTHETIC_ALIAS) ;
+
+ICU_BRK_CTD_SOURCE = thaidict.txt ;
+
+ICU_BRK_SOURCE = word_POSIX.txt word_ja.txt sent_el.txt char_th.txt char.txt 
+	word.txt line.txt sent.txt title.txt 
+	;
+	
+ICU_BRK_RES_SOURCE = el.txt en.txt en_US.txt en_US_POSIX.txt ja.txt th.txt ;

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/coll/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/coll/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/coll/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,63 @@
+SubDir HAIKU_TOP src libs icu source data coll ;
+
+# this file has been converted to Jamfile format from colfiles.mk
+
+ICU_COLLATION_SYNTHETIC_ALIAS = de_.txt de__PHONEBOOK.txt es_.txt 
+	es__TRADITIONAL.txt
+	hi_.txt hi__DIRECT.txt in.txt in_ID.txt iw.txt
+	iw_IL.txt no.txt no_NO.txt pa_IN.txt sh.txt
+	sh_BA.txt sh_YU.txt sr_BA.txt sr_ME.txt sr_RS.txt
+	zh_.txt zh_CN.txt zh_HK.txt zh_MO.txt zh_SG.txt
+	zh_TW.txt zh_TW_STROKE.txt zh__PINYIN.txt
+	;
+
+ICU_COLLATION_ALIAS_SOURCE = $(ICU_COLLATION_SYNTHETIC_ALIAS) ;
+
+ICU_COLLATION_EMPTY_SOURCE = af_NA.txt af_ZA.txt ar_AE.txt ar_BH.txt
+	ar_DZ.txt ar_EG.txt ar_IQ.txt ar_JO.txt ar_KW.txt
+	ar_LB.txt ar_LY.txt ar_MA.txt ar_OM.txt ar_QA.txt
+	ar_SA.txt ar_SD.txt ar_SY.txt ar_TN.txt ar_YE.txt
+	as_IN.txt az_Latn.txt az_Latn_AZ.txt be_BY.txt bg_BG.txt
+	ca_ES.txt cs_CZ.txt da_DK.txt de_AT.txt de_BE.txt
+	de_CH.txt de_DE.txt de_LU.txt el_GR.txt en_AU.txt
+	en_BW.txt en_CA.txt en_GB.txt en_HK.txt en_IE.txt
+	en_IN.txt en_MT.txt en_NZ.txt en_PH.txt en_SG.txt
+	en_US.txt en_US_POSIX.txt en_VI.txt en_ZA.txt en_ZW.txt
+	es_AR.txt es_BO.txt es_CL.txt es_CO.txt es_CR.txt
+	es_DO.txt es_EC.txt es_ES.txt es_GT.txt es_HN.txt
+	es_MX.txt es_NI.txt es_PA.txt es_PE.txt es_PR.txt
+	es_PY.txt es_SV.txt es_US.txt es_UY.txt es_VE.txt
+	et_EE.txt fa_IR.txt fi_FI.txt fo_FO.txt fr_BE.txt
+	fr_CA.txt fr_CH.txt fr_FR.txt fr_LU.txt ga.txt
+	ga_IE.txt gu_IN.txt he_IL.txt hi_IN.txt hr_HR.txt
+	hu_HU.txt id.txt id_ID.txt is_IS.txt it_CH.txt
+	it_IT.txt ja_JP.txt kk_KZ.txt kl_GL.txt kn_IN.txt
+	ko_KR.txt lt_LT.txt lv_LV.txt mk_MK.txt mr_IN.txt
+	ms.txt ms_BN.txt ms_MY.txt mt_MT.txt nb_NO.txt
+	nl.txt nl_BE.txt nl_NL.txt nn_NO.txt om_ET.txt
+	om_KE.txt pa_Arab.txt pa_Arab_PK.txt pa_Guru.txt pa_Guru_IN.txt
+	pl_PL.txt ps_AF.txt pt.txt pt_BR.txt pt_PT.txt
+	ro_RO.txt ru_RU.txt ru_UA.txt si_LK.txt sk_SK.txt
+	sl_SI.txt sq_AL.txt sr_Cyrl.txt sr_Cyrl_BA.txt sr_Cyrl_ME.txt
+	sr_Cyrl_RS.txt sr_Latn_BA.txt sr_Latn_ME.txt sr_Latn_RS.txt sv_FI.txt
+	sv_SE.txt ta_IN.txt te_IN.txt th_TH.txt tr_TR.txt
+	uk_UA.txt ur_IN.txt ur_PK.txt vi_VN.txt zh_Hans.txt
+	zh_Hans_CN.txt zh_Hans_SG.txt zh_Hant_HK.txt zh_Hant_MO.txt zh_Hant_TW.txt
+	;
+
+ICU_COLLATION_SOURCE = $(ICU_COLLATION_EMPTY_SOURCE) af.txt ar.txt as.txt az.txt
+	be.txt bg.txt bn.txt bn_IN.txt ca.txt
+	cs.txt cy.txt da.txt de.txt el.txt
+	en.txt en_BE.txt eo.txt es.txt et.txt
+	fa.txt fa_AF.txt fi.txt fo.txt fr.txt
+	gu.txt haw.txt he.txt hi.txt hr.txt
+	hu.txt is.txt it.txt ja.txt kk.txt
+	kl.txt km.txt kn.txt ko.txt kok.txt
+	lt.txt lv.txt mk.txt ml.txt mr.txt
+	mt.txt nb.txt nn.txt om.txt or.txt
+	pa.txt pl.txt ps.txt ro.txt ru.txt
+	si.txt sk.txt sl.txt sq.txt sr.txt
+	sr_Latn.txt sv.txt ta.txt te.txt th.txt
+	tr.txt uk.txt ur.txt vi.txt zh.txt
+	zh_Hant.txt
+	;

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/mappings/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/mappings/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/mappings/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,98 @@
+SubDir HAIKU_TOP src libs icu source data mappings ;
+
+# this file has been converted to Jamfile format from ucmfiles.mk and ucmcore.mk
+
+ICU_UCM_SOURCE_CORE = ibm-912_P100-1995.ucm ibm-913_P100-2000.ucm
+	ibm-914_P100-1995.ucm ibm-915_P100-1995.ucm ibm-5012_P100-1999.ucm
+	ibm-920_P100-1995.ucm ibm-923_P100-1998.ucm ibm-1089_P100-1995.ucm
+	ibm-4909_P100-1999.ucm
+	ibm-5346_P100-1998.ucm ibm-5347_P100-1998.ucm ibm-5348_P100-1997.ucm
+	ibm-5349_P100-1998.ucm ibm-5350_P100-1998.ucm ibm-9447_P100-2002.ucm
+	ibm-5352_P100-1998.ucm ibm-9449_P100-2002.ucm ibm-5354_P100-1998.ucm
+	ibm-1383_P110-1999.ucm ibm-1386_P100-2001.ucm gb18030.ucm
+	ibm-1373_P100-2002.ucm
+	ibm-943_P15A-2003.ucm ibm-33722_P12A_P12A-2004_U2.ucm
+	ibm-970_P110_P110-2006_U2.ucm ibm-949_P11A-1999.ucm ibm-1363_P11B-1998.ucm
+	;
+
+ICU_UCM_SOURCE_FILES = ibm-437_P100-1995.ucm
+	ibm-737_P100-1997.ucm
+	ibm-720_P100-1997.ucm
+	ibm-775_P100-1996.ucm
+	ibm-813_P100-1995.ucm
+	ibm-850_P100-1995.ucm
+	ibm-851_P100-1995.ucm
+	ibm-852_P100-1995.ucm
+	ibm-855_P100-1995.ucm
+	ibm-856_P100-1995.ucm
+	ibm-857_P100-1995.ucm
+	ibm-858_P100-1997.ucm
+	ibm-860_P100-1995.ucm
+	ibm-861_P100-1995.ucm
+	ibm-862_P100-1995.ucm
+	ibm-863_P100-1995.ucm
+	ibm-864_X110-1999.ucm
+	ibm-865_P100-1995.ucm
+	ibm-866_P100-1995.ucm
+	ibm-867_P100-1998.ucm
+	ibm-868_P100-1995.ucm
+	ibm-869_P100-1995.ucm
+	ibm-874_P100-1995.ucm
+	ibm-878_P100-1996.ucm
+	ibm-901_P100-1999.ucm
+	ibm-902_P100-1999.ucm
+	ibm-916_P100-1995.ucm
+	ibm-921_P100-1995.ucm
+	ibm-922_P100-1999.ucm
+	ibm-1006_P100-1995.ucm
+	ibm-1051_P100-1995.ucm
+	ibm-1098_P100-1995.ucm
+	ibm-1124_P100-1996.ucm
+	ibm-1125_P100-1997.ucm
+	ibm-1129_P100-1997.ucm
+	ibm-1131_P100-1997.ucm
+	ibm-1133_P100-1997.ucm
+	ibm-1162_P100-1999.ucm
+	ibm-1168_P100-2002.ucm
+	ibm-1250_P100-1995.ucm
+	ibm-1251_P100-1995.ucm
+	ibm-1252_P100-2000.ucm
+	ibm-1253_P100-1995.ucm
+	ibm-1254_P100-1995.ucm
+	ibm-1255_P100-1995.ucm
+	ibm-1256_P110-1997.ucm
+	ibm-1257_P100-1995.ucm
+	ibm-1258_P100-1997.ucm
+	ibm-1276_P100-1995.ucm
+	ibm-5351_P100-1998.ucm
+	ibm-5353_P100-1998.ucm
+	ibm-942_P12A-1999.ucm
+	ibm-943_P130-1999.ucm
+	ibm-949_P110-1999.ucm
+	ibm-950_P110-1999.ucm
+	ibm-954_P101-2007.ucm
+	ibm-964_P110-1999.ucm
+	ibm-971_P100-1995.ucm
+	ibm-1363_P110-1997.ucm
+	ibm-1375_P100-2007.ucm
+	ibm-5471_P100-2006.ucm
+	ibm-9005_X110-2007.ucm
+	ibm-9448_X100-2005.ucm
+	ibm-33722_P120-1999.ucm
+	iso-8859_10-1998.ucm
+	iso-8859_11-2001.ucm
+	iso-8859_14-1998.ucm
+	macos-0_2-10.2.ucm
+	macos-6_2-10.4.ucm
+	macos-7_3-10.2.ucm
+	macos-29-10.2.ucm
+	macos-35-10.2.ucm
+	windows-874-2000.ucm
+	windows-936-2000.ucm
+	windows-949-2000.ucm
+	windows-950-2000.ucm
+	jisx-212.ucm
+	iso-ir-165.ucm cns-11643-1992.ucm
+	ibm-5478_P100-1995.ucm
+	icu-internal-25546.ucm lmb-excp.ucm
+	;

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/misc/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/misc/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/misc/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,7 @@
+SubDir HAIKU_TOP src libs icu source data misc ;
+
+# this file has been converted to Jamfile format from miscfiles.mk
+
+ICU_MISC_SOURCE = zoneinfo.txt supplementalData.txt metazoneInfo.txt 
+	likelySubtags.txt plurals.txt numberingSystems.txt
+	;

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/rbnf/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/rbnf/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/rbnf/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,24 @@
+SubDir HAIKU_TOP src libs icu source data rnbf ;
+
+# this file has been converted to Jamfile format from rbnffiles.mk
+
+ICU_RBNF_CLDR_VERSION = 1.7 ;
+
+ICU_RBNF_SYNTHETIC_ALIAS = ;
+
+ICU_RBNF_ALIAS_SOURCE = $(RBNF_SYNTHETIC_ALIAS) ;
+
+ICU_RBNF_SOURCE = af.txt am.txt ar.txt az.txt
+	be.txt bg.txt ca.txt cs.txt cy.txt
+	da.txt de.txt el.txt en.txt eo.txt
+	es.txt et.txt fa.txt fa_AF.txt fi.txt
+	fo.txt fr.txt fr_BE.txt fr_CH.txt ga.txt
+	he.txt hi.txt hr.txt hu.txt hy.txt
+	id.txt is.txt it.txt ja.txt ka.txt
+	kl.txt ko.txt lt.txt lv.txt mk.txt
+	ms.txt mt.txt nb.txt nl.txt nn.txt
+	pl.txt pt.txt pt_PT.txt ro.txt ru.txt
+	sk.txt sl.txt sq.txt sr.txt sr_Latn.txt
+	sv.txt ta.txt th.txt tr.txt uk.txt
+	vi.txt zh.txt zh_Hant.txt
+	;

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/sprep/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/sprep/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/sprep/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,8 @@
+SubDir HAIKU_TOP src libs icu source data sprep ;
+
+# this file has been converted to Jamfile format from sprepbrkfiles.mk
+
+ICU_SPREP_SOURCE = rfc3491.txt rfc3530cs.txt rfc3530csci.txt rfc3530mixp.txt 
+	rfc3722.txt rfc3920node.txt rfc3920res.txt rfc4011.txt rfc4013.txt 
+	rfc4505.txt rfc4518.txt rfc4518ci.txt
+	;

Added: haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/translit/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/translit/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/libs/icu/source/data/translit/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -0,0 +1,5 @@
+SubDir HAIKU_TOP src libs icu source data translit ;
+
+# this file has been converted to Jamfile format from trsnfiles.mk
+
+ICU_TRANSLIT_SOURCE = root.txt en.txt el.txt ;

Modified: haiku/branches/components/gsoc-locale-kit/src/tools/icu/Jamfile
===================================================================
--- haiku/branches/components/gsoc-locale-kit/src/tools/icu/Jamfile	2009-07-25 21:15:27 UTC (rev 31755)
+++ haiku/branches/components/gsoc-locale-kit/src/tools/icu/Jamfile	2009-07-25 21:56:15 UTC (rev 31756)
@@ -13,8 +13,8 @@
 SubInclude HAIKU_TOP src tools icu pkgdata ;
 
 # Pseudo target to build all ICU build tools
-NotFile ICUbuildtools ;
-Depends ICUbuildtools
+NotFile ICU_BuildTools ;
+Depends ICU_BuildTools
 	:
 	&lt;build&gt;genbrk
 	&lt;build&gt;gencfu


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018251.html">[Haiku-commits] r31755 - haiku/trunk/src/add-ons/disk_systems/bfs
</A></li>
	<LI>Next message: <A HREF="018253.html">[Haiku-commits] r31757 - in haiku/trunk: headers/private/interface	src/kits/interface src/servers/app
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18252">[ date ]</a>
              <a href="thread.html#18252">[ thread ]</a>
              <a href="subject.html#18252">[ subject ]</a>
              <a href="author.html#18252">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
