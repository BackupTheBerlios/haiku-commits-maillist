<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31466%20-%0A%20haiku/trunk/src/add-ons/media/plugins/ffmpeg&In-Reply-To=%3C20090709155347.7293.6%40bepc.1247120015.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017850.html">
   <LINK REL="Next"  HREF="017833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg</H1>
    <B>Stephan Assmus</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31466%20-%0A%20haiku/trunk/src/add-ons/media/plugins/ffmpeg&In-Reply-To=%3C20090709155347.7293.6%40bepc.1247120015.fake%3E"
       TITLE="[Haiku-commits] r31466 - haiku/trunk/src/add-ons/media/plugins/ffmpeg">superstippi at gmx.de
       </A><BR>
    <I>Thu Jul  9 15:53:47 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="017850.html">[Haiku-commits] r31466 -	haiku/trunk/src/add-ons/media/plugins/ffmpeg
</A></li>
        <LI>Next message: <A HREF="017833.html">[Haiku-commits] r31467 - haiku/trunk/build/jam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17859">[ date ]</a>
              <a href="thread.html#17859">[ thread ]</a>
              <a href="subject.html#17859">[ subject ]</a>
              <a href="author.html#17859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2009-07-09 at 12:34:40 [+0200], Axel D&#246;rfler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de</A>&gt; 
wrote:
&gt;<i> Stephan Assmus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt; wrote:
</I>&gt;<i> &gt; I know, and I wouldn't change that. The difference is that right now, 
</I>&gt;<i> &gt; it 
</I>&gt;<i> &gt; has to use it's CodecTable, and someone has had to add all possible 
</I>&gt;<i> &gt; combinations. For example, someone adds &quot;h246&quot; as ID and put 
</I>&gt;<i> &gt; B_AVI_FORMAT_FAMILY there. Now someone else writes a Reader which puts 
</I>&gt;<i> &gt; B_QUICKTIME_FORMAT_FAMILY into the media_format and the stream happens 
</I>&gt;<i> &gt; to 
</I>&gt;<i> &gt; be h264 encoded. Bad luck, the perfectly capable h264 Decoder will not 
</I>&gt;<i> &gt; be 
</I>&gt;<i> &gt; used. So the CodecTable is extended for the combo &quot;h264&quot; and 
</I>&gt;<i> &gt; B_QUICKTIME_FORMAT_FAMILY. Suddenly it works. The thing here is that 
</I>&gt;<i> &gt; FFmpeg 
</I>&gt;<i> &gt; supports tons of formats and decoders.
</I>&gt;<i> 
</I>&gt;<i> Why not creating the codec table for ffmpeg in a generic way? AFAIK 
</I>&gt;<i> ffmpeg should be capable of listing its capabilities.
</I>
That's certainly doable.

&gt;<i> Besides, the above case is not just bad luck, as there is no global 
</I>&gt;<i> FourCC space - even if it would always work out okay (today), it's just 
</I>&gt;<i> not clean to handle them globally.
</I>
If one were to implement your suggestion above, then it boils down to 
handling codec IDs globally anyways, or else you have to special case IDs 
where you know they mean two different codecs in different format families. 
Which is of course still doable. We probably have to filter anyways to skip 
the IDs for which we have another Decoder implementation. In this regard it 
would be nice to change at least the Reader API to return a quality value 
from Sniff(). That way one could make the FFmpeg Reader a fallback by 
making it return a lower quality. For Decoders, the media_addon_server 
doesn't seem to have a mechanism yet to handle more than one add-on per 
codec-ID/family combo.

Best regards,
-Stephan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017850.html">[Haiku-commits] r31466 -	haiku/trunk/src/add-ons/media/plugins/ffmpeg
</A></li>
	<LI>Next message: <A HREF="017833.html">[Haiku-commits] r31467 - haiku/trunk/build/jam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17859">[ date ]</a>
              <a href="thread.html#17859">[ thread ]</a>
              <a href="subject.html#17859">[ subject ]</a>
              <a href="author.html#17859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
