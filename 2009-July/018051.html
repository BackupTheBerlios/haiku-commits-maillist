<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31600 - in haiku/trunk: build/jam	headers/build/os/kernel src/add-ons/kernel/drivers/audio/hda	src/add-ons/kernel/drivers/graphics/ati	src/add-ons/kernel/drivers/graphics/s3	src/add-ons/kernel/drivers/power/acpi_embedded_controller	src/add-ons/kernel/drivers/random	src/add-ons/kernel/file_systems/cdda	src/add-ons/kernel/file_systems/reiserfs	src/add-ons/kernel/partitioning_systems/intel src/apps/mail	src/bin src/bin/multiuser src/build/libbe/interface	src/kits/tracker src/servers/app src/servers/cddb_daemon	src/servers/mail src/servers/registrar
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31600%20-%20in%20haiku/trunk%3A%20build/jam%0A%09headers/build/os/kernel%20src/add-ons/kernel/drivers/audio/hda%0A%09src/add-ons/kernel/drivers/graphics/ati%0A%09src/add-ons/kernel/drivers/graphics/s3%0A%09src/add-ons/kernel/drivers/power/acpi_embedded_controller%0A%09src/add-ons/kernel/drivers/random%0A%09src/add-ons/kernel/file_systems/cdda%0A%09src/add-ons/kernel/file_systems/reiserfs%0A%09src/add-ons/kernel/partitioning_systems/intel%20src/apps/mail%0A%09src/bin%20src/bin/multiuser%20src/build/libbe/interface%0A%09src/kits/tracker%20src/servers/app%20src/servers/cddb_daemon%0A%09src/servers/mail%20src/servers/registrar&In-Reply-To=%3C200907160242.n6G2gKrO007703%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018050.html">
   <LINK REL="Next"  HREF="018055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31600 - in haiku/trunk: build/jam	headers/build/os/kernel src/add-ons/kernel/drivers/audio/hda	src/add-ons/kernel/drivers/graphics/ati	src/add-ons/kernel/drivers/graphics/s3	src/add-ons/kernel/drivers/power/acpi_embedded_controller	src/add-ons/kernel/drivers/random	src/add-ons/kernel/file_systems/cdda	src/add-ons/kernel/file_systems/reiserfs	src/add-ons/kernel/partitioning_systems/intel src/apps/mail	src/bin src/bin/multiuser src/build/libbe/interface	src/kits/tracker src/servers/app src/servers/cddb_daemon	src/servers/mail src/servers/registrar</H1>
    <B>mmlr at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31600%20-%20in%20haiku/trunk%3A%20build/jam%0A%09headers/build/os/kernel%20src/add-ons/kernel/drivers/audio/hda%0A%09src/add-ons/kernel/drivers/graphics/ati%0A%09src/add-ons/kernel/drivers/graphics/s3%0A%09src/add-ons/kernel/drivers/power/acpi_embedded_controller%0A%09src/add-ons/kernel/drivers/random%0A%09src/add-ons/kernel/file_systems/cdda%0A%09src/add-ons/kernel/file_systems/reiserfs%0A%09src/add-ons/kernel/partitioning_systems/intel%20src/apps/mail%0A%09src/bin%20src/bin/multiuser%20src/build/libbe/interface%0A%09src/kits/tracker%20src/servers/app%20src/servers/cddb_daemon%0A%09src/servers/mail%20src/servers/registrar&In-Reply-To=%3C200907160242.n6G2gKrO007703%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r31600 - in haiku/trunk: build/jam	headers/build/os/kernel src/add-ons/kernel/drivers/audio/hda	src/add-ons/kernel/drivers/graphics/ati	src/add-ons/kernel/drivers/graphics/s3	src/add-ons/kernel/drivers/power/acpi_embedded_controller	src/add-ons/kernel/drivers/random	src/add-ons/kernel/file_systems/cdda	src/add-ons/kernel/file_systems/reiserfs	src/add-ons/kernel/partitioning_systems/intel src/apps/mail	src/bin src/bin/multiuser src/build/libbe/interface	src/kits/tracker src/servers/app src/servers/cddb_daemon	src/servers/mail src/servers/registrar">mmlr at mail.berlios.de
       </A><BR>
    <I>Thu Jul 16 04:42:20 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="018050.html">[Haiku-commits] r31599 - haiku/trunk/headers/private/net
</A></li>
        <LI>Next message: <A HREF="018055.html">[Haiku-commits] r31600 - in haiku/trunk: build/jam headers/build/os/kernel  src/add-ons/kernel/drivers/audio/hda src/add-ons/kernel/drivers/graphics/ati src/add-ons/kernel/drivers/graphics/s3 src/add-ons/kernel/drivers/power/acpi_embedded_controller src/add-ons/kernel/drivers/random src/add-ons/kernel/file_systems/cdda src/add-ons/kernel/file_systems/reiserfs src/add-ons/kernel/partitioning_systems/intel src/apps/mail src/bin src/bin/multiuser src/build/libbe/interface src/kits/tracker src/servers/app src/servers/cddb_daemon src/servers/mail src/servers/registrar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18051">[ date ]</a>
              <a href="thread.html#18051">[ thread ]</a>
              <a href="subject.html#18051">[ subject ]</a>
              <a href="author.html#18051">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mmlr
Date: 2009-07-16 04:42:03 +0200 (Thu, 16 Jul 2009)
New Revision: 31600
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31600&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31600&amp;view=rev</A>

Modified:
   haiku/trunk/build/jam/HaikuImage
   haiku/trunk/headers/build/os/kernel/OS.h
   haiku/trunk/src/add-ons/kernel/drivers/audio/hda/hda_multi_audio.cpp
   haiku/trunk/src/add-ons/kernel/drivers/graphics/ati/driver.cpp
   haiku/trunk/src/add-ons/kernel/drivers/graphics/s3/driver.cpp
   haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.cpp
   haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.h
   haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/acpi_embedded_controller.cpp
   haiku/trunk/src/add-ons/kernel/drivers/random/driver.c
   haiku/trunk/src/add-ons/kernel/file_systems/cdda/cdda.cpp
   haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Block.cpp
   haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Settings.cpp
   haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/kernel_interface.cpp
   haiku/trunk/src/add-ons/kernel/partitioning_systems/intel/write_support.cpp
   haiku/trunk/src/apps/mail/Content.cpp
   haiku/trunk/src/apps/mail/Header.cpp
   haiku/trunk/src/apps/mail/Header.h
   haiku/trunk/src/bin/df.cpp
   haiku/trunk/src/bin/hey.cpp
   haiku/trunk/src/bin/lsindex.cpp
   haiku/trunk/src/bin/mkindex.cpp
   haiku/trunk/src/bin/mountvolume.cpp
   haiku/trunk/src/bin/multiuser/login.cpp
   haiku/trunk/src/build/libbe/interface/Bitmap.cpp
   haiku/trunk/src/kits/tracker/WidgetAttributeText.cpp
   haiku/trunk/src/servers/app/Window.cpp
   haiku/trunk/src/servers/app/WorkspacesView.cpp
   haiku/trunk/src/servers/cddb_daemon/cddb_daemon.cpp
   haiku/trunk/src/servers/mail/main.cpp
   haiku/trunk/src/servers/registrar/RosterSettingsCharStream.cpp
Log:
Fixing random GCC4 warnings. Mostly missing consts, some parentheses, some braces... Should all be harmless and not change anything.

Modified: haiku/trunk/build/jam/HaikuImage
===================================================================
--- haiku/trunk/build/jam/HaikuImage	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/build/jam/HaikuImage	2009-07-16 02:42:03 UTC (rev 31600)
@@ -64,7 +64,7 @@
 	zdiff zforce zgrep zip zipcloak &lt;bin&gt;zipgrep zipnote zipsplit zmore znew
 ;
 
-SYSTEM_APPS = AboutSystem ActivityMonitor CharacterMap CodyCam DeskCalc DiskProbe
+SYSTEM_APPS = AboutSystem ActivityMonitor CharacterMap CodyCam Debugger DeskCalc DiskProbe
 	DiskUsage DriveSetup CDPlayer Expander Icon-O-Matic Installer LaunchBox
 	Magnify Mail MediaPlayer MidiPlayer NetworkStatus PackageInstaller People
 	PoorMan PowerStatus ProcessController Screenshot ShowImage SoundRecorder

Modified: haiku/trunk/headers/build/os/kernel/OS.h
===================================================================
--- haiku/trunk/headers/build/os/kernel/OS.h	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/headers/build/os/kernel/OS.h	2009-07-16 02:42:03 UTC (rev 31600)
@@ -354,7 +354,7 @@
 
    to re-enable the default debugger pass a zero.
 */   
-extern const int disable_debugger(int state);
+extern int disable_debugger(int state);
 
 // TODO: Remove. Temporary debug helper.
 extern void debug_printf(const char *format, ...)

Modified: haiku/trunk/src/add-ons/kernel/drivers/audio/hda/hda_multi_audio.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/audio/hda/hda_multi_audio.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/audio/hda/hda_multi_audio.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -580,14 +580,14 @@
 				| AMP_SET_LEFT_CHANNEL
 				| AMP_SET_INPUT_INDEX(control-&gt;index)
 				| control-&gt;mute
-				| resp[0] &amp; AMP_GAIN_MASK);
+				| (resp[0] &amp; AMP_GAIN_MASK));
 			TRACE(&quot;set_mix: sending verb to %ld: %lx %lx %x %lx\n&quot;, control-&gt;nid, 
 				control-&gt;mute, resp[0] &amp; AMP_GAIN_MASK, control-&gt;input,
 				(control-&gt;input ? AMP_SET_INPUT : AMP_SET_OUTPUT)
 				| AMP_SET_LEFT_CHANNEL
 				| AMP_SET_INPUT_INDEX(control-&gt;index)
 				| control-&gt;mute
-				| resp[0] &amp; AMP_GAIN_MASK);
+				| (resp[0] &amp; AMP_GAIN_MASK));
 			verb[1] = MAKE_VERB(audioGroup-&gt;codec-&gt;addr,
 				control-&gt;nid,
 				VID_SET_AMPLIFIER_GAIN_MUTE,
@@ -595,7 +595,7 @@
 				| AMP_SET_RIGHT_CHANNEL
 				| AMP_SET_INPUT_INDEX(control-&gt;index)
 				| control-&gt;mute
-				| resp[1] &amp; AMP_GAIN_MASK);
+				| (resp[1] &amp; AMP_GAIN_MASK));
 			TRACE(&quot;set_mix: ctrl2 sending verb to %ld: %lx %lx %x\n&quot;, control-&gt;nid,
 				control-&gt;mute, resp[1] &amp; AMP_GAIN_MASK, control-&gt;input);
 			hda_send_verbs(audioGroup-&gt;codec, verb, NULL, 2);

Modified: haiku/trunk/src/add-ons/kernel/drivers/graphics/ati/driver.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/graphics/ati/driver.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/graphics/ati/driver.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -54,7 +54,7 @@
 struct ChipInfo {
 	uint16		chipID;			// PCI device id of the chip
 	ChipType	chipType;		// assigned chip type identifier
-	char*		chipName;		// user recognizable name for chip (must be &lt; 32 chars)
+	const char*	chipName;		// user recognizable name for chip (must be &lt; 32 chars)
 };
 
 

Modified: haiku/trunk/src/add-ons/kernel/drivers/graphics/s3/driver.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/graphics/s3/driver.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/graphics/s3/driver.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -39,9 +39,10 @@
 
 
 struct ChipInfo {
-	uint16	chipID;			// PCI device id of the chip
-	uint16	chipType;		// assigned chip type identifier
-	char*	chipName;		// user recognizable name for chip (must be &lt; 32 chars)
+	uint16		chipID;			// PCI device id of the chip
+	uint16		chipType;		// assigned chip type identifier
+	const char*	chipName;		// user recognizable name for chip (must be &lt; 32
+								// chars)
 };
 
 // This table maps a PCI device ID to a chip type identifier and the chip name.

Modified: haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -32,7 +32,7 @@
 
 
 SmallResourceData::SmallResourceData(acpi_device_module_info* acpi,
-	acpi_device acpiCookie, char* method)
+	acpi_device acpiCookie, const char* method)
 {
 	acpi_data buffer;
 	buffer.pointer = NULL;

Modified: haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.h
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.h	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/SmallResourceData.h	2009-07-16 02:42:03 UTC (rev 31600)
@@ -38,7 +38,7 @@
 {
 public:
 						SmallResourceData(acpi_device_module_info* acpi,
-							acpi_device acpiCookie, char* method);
+							acpi_device acpiCookie, const char* method);
 						~SmallResourceData();
 
 	status_t			InitCheck();

Modified: haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/acpi_embedded_controller.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/acpi_embedded_controller.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/power/acpi_embedded_controller/acpi_embedded_controller.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -74,7 +74,7 @@
 
 status_t
 acpi_GetInteger(acpi_device_module_info* acpi, acpi_device&amp; acpiCookie,
-	char* path, int* number)
+	const char* path, int* number)
 {
 	status_t status;
  	acpi_data buf;
@@ -227,7 +227,7 @@
 static float
 embedded_controller_support(device_node *dev)
 {
-    static char *ec_ids[] = { &quot;PNP0C09&quot;, NULL };
+    static const char *ec_ids[] = { &quot;PNP0C09&quot;, NULL };
 
 	/* Check that this is a device. */
     if (acpi_get_type(dev) != ACPI_TYPE_DEVICE)

Modified: haiku/trunk/src/add-ons/kernel/drivers/random/driver.c
===================================================================
--- haiku/trunk/src/add-ons/kernel/drivers/random/driver.c	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/drivers/random/driver.c	2009-07-16 02:42:03 UTC (rev 31600)
@@ -304,8 +304,8 @@
 	prandgen-&gt;rndptrX = prandgen-&gt;ira;
 	prandgen-&gt;rndptrA = prandgen-&gt;ira;
 	prandgen-&gt;rndptrB = prandgen-&gt;ira;
-	prandgen-&gt;rndLeft.Q[0] = 0x1A4B385C72D69E0FUL;
-	prandgen-&gt;rndRite.Q[0] = 0x9C805FE7361A42DBUL;
+	prandgen-&gt;rndLeft.Q[0] = 0x1A4B385C72D69E0FULL;
+	prandgen-&gt;rndRite.Q[0] = 0x9C805FE7361A42DBULL;
 	reseed (prandgen, inittimes);
 
 	prandgen-&gt;seedptr = prandgen-&gt;ira + chrand (prandgen) % NK;

Modified: haiku/trunk/src/add-ons/kernel/file_systems/cdda/cdda.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/cdda/cdda.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/file_systems/cdda/cdda.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -114,7 +114,7 @@
 
 
 static void
-cut_string(char *string, char *cut)
+cut_string(char *string, const char *cut)
 {
 	if (string == NULL || cut == NULL)
 		return;

Modified: haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Block.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Block.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Block.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -102,7 +102,7 @@
 void
 Block::SetKind(uint32 kind)
 {
-	fFlags = fFlags &amp; ~(uint32)KIND_MASK | kind &amp; KIND_MASK;
+	fFlags = (fFlags &amp; ~(uint32)KIND_MASK) | (kind &amp; KIND_MASK);
 }
 
 // SetChecked

Modified: haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Settings.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Settings.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/Settings.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -31,7 +31,7 @@
 	\brief Manages the ReiserFS settings.
 */
 
-static char *kFSName = &quot;reiserfs&quot;;
+static const char *kFSName = &quot;reiserfs&quot;;
 
 // defaults
 static const char *kDefaultDefaultVolumeName = &quot;ReiserFS untitled&quot;;

Modified: haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/kernel_interface.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/kernel_interface.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/file_systems/reiserfs/kernel_interface.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -211,7 +211,7 @@
 		// hide non-file/dir/symlink entries, if the user desires that, and
 		// those entries explicitly set to hidden
 		if (error == B_OK
-			&amp;&amp; (foundNode.IsEsoteric() &amp;&amp; volume-&gt;GetHideEsoteric()
+			&amp;&amp; ((foundNode.IsEsoteric() &amp;&amp; volume-&gt;GetHideEsoteric())
 				|| volume-&gt;IsNegativeEntry(foundNode.GetID()))) {
 			error = B_ENTRY_NOT_FOUND;
 		}
@@ -602,7 +602,7 @@
 			if (volume-&gt;GetTree()-&gt;FindStatItem(dirID, objectID, &amp;statItem)
 					!= B_OK
 				|| statItem.GetStatData(&amp;statData) != B_OK
-				|| statData.IsEsoteric() &amp;&amp; volume-&gt;GetHideEsoteric()) {
+				|| (statData.IsEsoteric() &amp;&amp; volume-&gt;GetHideEsoteric())) {
 				continue;
 			}
 			if (error == B_OK) {

Modified: haiku/trunk/src/add-ons/kernel/partitioning_systems/intel/write_support.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/partitioning_systems/intel/write_support.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/add-ons/kernel/partitioning_systems/intel/write_support.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -219,7 +219,7 @@
 	partition_data *nextSibling = NULL;
 	for (int32 i = 0; i &lt; partition-&gt;child_count; i++) {
 		partition_data *sibling = get_child_partition(partition-&gt;id, i);
-		if (sibling &amp;&amp; sibling != child)
+		if (sibling &amp;&amp; sibling != child) {
 			if (sibling-&gt;offset &lt;= childOffset) {
 				if (!previousSibling || previousSibling-&gt;offset &lt; sibling-&gt;offset)
 					previousSibling = sibling;
@@ -228,6 +228,7 @@
 				if (!nextSibling || nextSibling-&gt;offset &gt; sibling-&gt;offset)
 					nextSibling = sibling;
 			}
+		}
 	}
 	*previous = previousSibling;
 	*next = nextSibling;
@@ -259,7 +260,7 @@
 	partition_data *nextSibling = NULL;
 	for (int32 i = 0; i &lt; partition-&gt;child_count; i++) {
 		partition_data *sibling = get_child_partition(partition-&gt;id, i);
-		if (sibling &amp;&amp; sibling != child)
+		if (sibling &amp;&amp; sibling != child) {
 			if (get_offset_ep(sibling) &lt;= childOffset) {
 				if (!previousSibling || previousSibling-&gt;offset &lt; sibling-&gt;offset)
 					previousSibling = sibling;
@@ -268,6 +269,7 @@
 				if (!nextSibling || nextSibling-&gt;offset &gt; sibling-&gt;offset)
 					nextSibling = sibling;
 			}
+		}
 	}
 	*previous = previousSibling;
 	*next = nextSibling;

Modified: haiku/trunk/src/apps/mail/Content.cpp
===================================================================
--- haiku/trunk/src/apps/mail/Content.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/apps/mail/Content.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -160,7 +160,7 @@
 			return false;
 		}
 
-		const struct { char *name; int32 code; } entities[] = {
+		const struct { const char *name; int32 code; } entities[] = {
 			// this list is sorted alphabetically to be binary searchable
 			// the current implementation doesn't do this, though
 
@@ -400,7 +400,7 @@
 {
 	// count qoute level (to be able to wrap quotes correctly)
 
-	char *quote = QUOTE;
+	const char *quote = QUOTE;
 	int32 level = 0;
 	for (size_t i = 0; i &lt; length; i++) {
 		if (text[i] == quote[0])
@@ -539,7 +539,7 @@
 
 				bool search = true;
 				for (next = pos + 1; next &lt; length; next++) {
-					if (search &amp;&amp; is_quote_char(line[next])
+					if ((search &amp;&amp; is_quote_char(line[next]))
 						|| line[next] == '\n')
 						break;
 					else if (search &amp;&amp; line[next] != ' ' &amp;&amp; line[next] != '\t')
@@ -2290,7 +2290,7 @@
 
 			enclosure-&gt;type = TYPE_ENCLOSURE;
 
-			char *name = &quot;\n&lt;Enclosure: could not handle&gt;\n&quot;;
+			const char *name = &quot;\n&lt;Enclosure: could not handle&gt;\n&quot;;
 
 			fView-&gt;GetSelection(&amp;enclosure-&gt;text_start, &amp;enclosure-&gt;text_end);
 			enclosure-&gt;text_start++;

Modified: haiku/trunk/src/apps/mail/Header.cpp
===================================================================
--- haiku/trunk/src/apps/mail/Header.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/apps/mail/Header.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -734,7 +734,7 @@
 //	#pragma mark - TTextControl
 
 
-TTextControl::TTextControl(BRect rect, char *label, BMessage *msg, 
+TTextControl::TTextControl(BRect rect, const char *label, BMessage *msg, 
 		bool incoming, bool resending, int32 resizingMode)
 	: BComboBox(rect, &quot;happy&quot;, label, msg, resizingMode),
 	fRefDropMenu(NULL)

Modified: haiku/trunk/src/apps/mail/Header.h
===================================================================
--- haiku/trunk/src/apps/mail/Header.h	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/apps/mail/Header.h	2009-07-16 02:42:03 UTC (rev 31600)
@@ -123,7 +123,8 @@
 
 class TTextControl : public BComboBox {
 	public:
-		TTextControl(BRect, char*, BMessage*, bool, bool, int32 resizingMode = B_FOLLOW_NONE);
+		TTextControl(BRect, const char*, BMessage*, bool, bool,
+			int32 resizingMode = B_FOLLOW_NONE);
 
 		virtual void AttachedToWindow();
 		virtual void MessageReceived(BMessage*);

Modified: haiku/trunk/src/bin/df.cpp
===================================================================
--- haiku/trunk/src/bin/df.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/bin/df.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -20,7 +20,7 @@
 
 
 void
-PrintFlag(uint32 deviceFlags, uint32 testFlag, char *yes, char *no)
+PrintFlag(uint32 deviceFlags, uint32 testFlag, const char *yes, const char *no)
 {
 	printf(deviceFlags &amp; testFlag ? yes : no);
 }
@@ -71,7 +71,7 @@
 	if (blocks &lt; 1024)
 		sprintf(string, &quot;%Ld&quot;, numBlocks * blockSize);
 	else {
-		char *units[] = {&quot;K&quot;, &quot;M&quot;, &quot;G&quot;, NULL};
+		const char *units[] = {&quot;K&quot;, &quot;M&quot;, &quot;G&quot;, NULL};
 		int32 i = -1;
 
 		do {

Modified: haiku/trunk/src/bin/hey.cpp
===================================================================
--- haiku/trunk/src/bin/hey.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/bin/hey.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -315,9 +315,9 @@
 		return 1;
 
 	BMessage environment(*(BMessage*) arg);
-	char* prompt = &quot;Hey&quot;;
+	const char* prompt = &quot;Hey&quot;;
 	if (environment.HasString(&quot;prompt&quot;))
-		environment.FindString(&quot;prompt&quot;, (const char **)&amp;prompt);
+		environment.FindString(&quot;prompt&quot;, &amp;prompt);
 	printf(&quot;%s&gt; &quot;, prompt);
 
 	BMessenger target;

Modified: haiku/trunk/src/bin/lsindex.cpp
===================================================================
--- haiku/trunk/src/bin/lsindex.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/bin/lsindex.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -46,7 +46,7 @@
 			return mkindexOutput ? &quot;double&quot; : &quot;Double&quot;;
 
 		default:
-			sprintf(buffer, mkindexOutput ? &quot;0x%08lx&quot; : &quot;Unknown type (0x%x)&quot;, info.type);
+			sprintf(buffer, mkindexOutput ? &quot;0x%08lx&quot; : &quot;Unknown type (0x%lx)&quot;, info.type);
 			return buffer;
 	}
 }

Modified: haiku/trunk/src/bin/mkindex.cpp
===================================================================
--- haiku/trunk/src/bin/mkindex.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/bin/mkindex.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -96,7 +96,7 @@
 int
 main(int argc, char **argv)
 {
-	char *indexTypeName = &quot;string&quot;;
+	const char *indexTypeName = &quot;string&quot;;
 	int indexType = B_STRING_TYPE;
 	char *indexName = NULL;
 	bool verbose = false;

Modified: haiku/trunk/src/bin/mountvolume.cpp
===================================================================
--- haiku/trunk/src/bin/mountvolume.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/bin/mountvolume.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -99,7 +99,7 @@
 	if (size &lt; 1024)
 		sprintf(string, &quot;%Ld&quot;, size);
 	else {
-		char* units[] = {&quot;K&quot;, &quot;M&quot;, &quot;G&quot;, NULL};
+		const char* units[] = {&quot;K&quot;, &quot;M&quot;, &quot;G&quot;, NULL};
 		int32 i = -1;
 
 		do {

Modified: haiku/trunk/src/bin/multiuser/login.cpp
===================================================================
--- haiku/trunk/src/bin/multiuser/login.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/bin/multiuser/login.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -38,7 +38,7 @@
 		return errno;
 
 	// do we have to change the current setting at all?
-	if (enabled == (termios.c_lflag &amp; ECHO) != 0)
+	if (enabled == ((termios.c_lflag &amp; ECHO) != 0))
 		return B_OK;
 
 	if (enabled)

Modified: haiku/trunk/src/build/libbe/interface/Bitmap.cpp
===================================================================
--- haiku/trunk/src/build/libbe/interface/Bitmap.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/build/libbe/interface/Bitmap.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -740,6 +740,7 @@
 		color.red = pixel.red;
 		color.green = pixel.green;
 		color.blue = pixel.blue;
+		color.alpha = 255;
 		BaseReader&lt;_PixelType&gt;::pixels++;
 	}
 
@@ -770,6 +771,7 @@
 		color.red |= color.red &gt;&gt; 5;
 		color.green |= color.green &gt;&gt; 6;
 		color.blue |= color.blue &gt;&gt; 5;
+		color.alpha = 255;
 		BaseReader&lt;_PixelType&gt;::pixels++;
 	}
 
@@ -800,6 +802,7 @@
 		color.red |= color.red &gt;&gt; 5;
 		color.green |= color.green &gt;&gt; 5;
 		color.blue |= color.blue &gt;&gt; 5;
+		color.alpha = 255;
 		BaseReader&lt;_PixelType&gt;::pixels++;
 	}
 
@@ -843,6 +846,7 @@
 	inline void Read(rgb_color_value &amp;color)
 	{
 		color.red = color.green = color.blue = *BaseReader&lt;uint8&gt;::pixels;
+		color.alpha = 255;
 		BaseReader&lt;uint8&gt;::pixels++;
 	}
 
@@ -881,6 +885,7 @@
 			color.red = color.green = color.blue = 255;
 		else
 			color.red = color.green = color.blue = 0;
+		color.alpha = 255;
 		bit--;
 		if (bit == -1) {
 			pixels++;
@@ -935,8 +940,7 @@
 		pixel.red = color.red;
 		pixel.green = color.green;
 		pixel.blue = color.blue;
-//		pixel.alpha = 255;
-pixel.alpha = color.alpha;
+		pixel.alpha = color.alpha;
 		BaseWriter&lt;_PixelType&gt;::pixels++;
 	}
 

Modified: haiku/trunk/src/kits/tracker/WidgetAttributeText.cpp
===================================================================
--- haiku/trunk/src/kits/tracker/WidgetAttributeText.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/kits/tracker/WidgetAttributeText.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -1740,7 +1740,7 @@
 		BAlert *alert = new BAlert(&quot;&quot;, 
 			&quot;There was an error writing the attribute.&quot;, 
 			&quot;Cancel&quot;, 0, 0, B_WIDTH_AS_USUAL, B_WARNING_ALERT);
-		alert-&gt;SetShortcut(0, B_CANCEL);
+		alert-&gt;SetShortcut(0, B_ESCAPE);
 		alert-&gt;Go();
 
 		fValueIsDefined = false;

Modified: haiku/trunk/src/servers/app/Window.cpp
===================================================================
--- haiku/trunk/src/servers/app/Window.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/servers/app/Window.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -1578,8 +1578,8 @@
 			return false;
 	}
 
-	if (fFeel == B_FLOATING_APP_WINDOW_FEEL
-			&amp;&amp; window-&gt;Feel() != B_MODAL_APP_WINDOW_FEEL
+	if ((fFeel == B_FLOATING_APP_WINDOW_FEEL
+			&amp;&amp; window-&gt;Feel() != B_MODAL_APP_WINDOW_FEEL)
 		|| fFeel == B_MODAL_APP_WINDOW_FEEL)
 		return window-&gt;ServerWindow()-&gt;App() == ServerWindow()-&gt;App();
 

Modified: haiku/trunk/src/servers/app/WorkspacesView.cpp
===================================================================
--- haiku/trunk/src/servers/app/WorkspacesView.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/servers/app/WorkspacesView.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -461,7 +461,8 @@
 	// If this window is movable, we keep it selected
 	// (we prevent our own window from being moved, too)
 
-	if (fSelectedWindow != NULL &amp;&amp; (fSelectedWindow-&gt;Flags() &amp; B_NOT_MOVABLE) != 0
+	if ((fSelectedWindow != NULL
+			&amp;&amp; (fSelectedWindow-&gt;Flags() &amp; B_NOT_MOVABLE) != 0)
 		|| fSelectedWindow == Window()) {
 		fSelectedWindow = NULL;
 	}
@@ -528,8 +529,8 @@
 	if (index != fSelectedWorkspace) {
 		if (fSelectedWindow-&gt;IsNormal() &amp;&amp; !fSelectedWindow-&gt;InWorkspace(index)) {
 			// move window to this new workspace
-			uint32 newWorkspaces = fSelectedWindow-&gt;Workspaces()
-				&amp; ~(1UL &lt;&lt; fSelectedWorkspace) | (1UL &lt;&lt; index);
+			uint32 newWorkspaces = (fSelectedWindow-&gt;Workspaces()
+				&amp; ~(1UL &lt;&lt; fSelectedWorkspace)) | (1UL &lt;&lt; index);
 
 			Window()-&gt;Desktop()-&gt;SetWindowWorkspaces(fSelectedWindow,
 				newWorkspaces);

Modified: haiku/trunk/src/servers/cddb_daemon/cddb_daemon.cpp
===================================================================
--- haiku/trunk/src/servers/cddb_daemon/cddb_daemon.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/servers/cddb_daemon/cddb_daemon.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -84,7 +84,7 @@
 	uint32 cddbId;
 	if (!_CanLookup(device, &amp;cddbId, toc)) {
 		free(toc);
-		printf(&quot;Skipping device with id %d.\n&quot;, device);
+		printf(&quot;Skipping device with id %ld.\n&quot;, device);
 		return B_BAD_TYPE;
 	}
 		

Modified: haiku/trunk/src/servers/mail/main.cpp
===================================================================
--- haiku/trunk/src/servers/mail/main.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/servers/mail/main.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -626,7 +626,7 @@
 
 
 void
-addAttribute(BMessage &amp;msg,char *name,char *publicName,int32 type = B_STRING_TYPE,bool viewable = true,bool editable = false,int32 width = 200)
+addAttribute(BMessage &amp;msg,const char *name,const char *publicName,int32 type = B_STRING_TYPE,bool viewable = true,bool editable = false,int32 width = 200)
 {
 	msg.AddString(&quot;attr:name&quot;,name);
 	msg.AddString(&quot;attr:public_name&quot;,publicName);

Modified: haiku/trunk/src/servers/registrar/RosterSettingsCharStream.cpp
===================================================================
--- haiku/trunk/src/servers/registrar/RosterSettingsCharStream.cpp	2009-07-15 23:38:15 UTC (rev 31599)
+++ haiku/trunk/src/servers/registrar/RosterSettingsCharStream.cpp	2009-07-16 02:42:03 UTC (rev 31600)
@@ -77,7 +77,7 @@
 	if (error)
 		return error;
 	
-	typedef enum RosterSettingsScannerState {
+	enum RosterSettingsScannerState {
 		rsssStart,
 		rsssUnquoted,
 		rsssQuoted,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018050.html">[Haiku-commits] r31599 - haiku/trunk/headers/private/net
</A></li>
	<LI>Next message: <A HREF="018055.html">[Haiku-commits] r31600 - in haiku/trunk: build/jam headers/build/os/kernel  src/add-ons/kernel/drivers/audio/hda src/add-ons/kernel/drivers/graphics/ati src/add-ons/kernel/drivers/graphics/s3 src/add-ons/kernel/drivers/power/acpi_embedded_controller src/add-ons/kernel/drivers/random src/add-ons/kernel/file_systems/cdda src/add-ons/kernel/file_systems/reiserfs src/add-ons/kernel/partitioning_systems/intel src/apps/mail src/bin src/bin/multiuser src/build/libbe/interface src/kits/tracker src/servers/app src/servers/cddb_daemon src/servers/mail src/servers/registrar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18051">[ date ]</a>
              <a href="thread.html#18051">[ thread ]</a>
              <a href="subject.html#18051">[ subject ]</a>
              <a href="author.html#18051">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
