<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r31355 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec	libavformat libavutil
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31355%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/avcodec%3A%20.%20libavcodec%0A%09libavformat%20libavutil&In-Reply-To=%3C200907011446.n61EkLg2005512%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017636.html">
   <LINK REL="Next"  HREF="017630.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r31355 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec	libavformat libavutil</H1>
    <B>stippi at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r31355%20-%20in%0A%09haiku/trunk/src/add-ons/media/plugins/avcodec%3A%20.%20libavcodec%0A%09libavformat%20libavutil&In-Reply-To=%3C200907011446.n61EkLg2005512%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r31355 - in	haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec	libavformat libavutil">stippi at mail.berlios.de
       </A><BR>
    <I>Wed Jul  1 16:46:21 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="017636.html">[Haiku-commits] r31353 - in haiku/branches/features/32bit-wchar_t: build/jam src/add-ons/disk_systems/bfs src/add-ons/disk_systems/intel src/add-ons/input_server/devices/keyboard src/add-ons/input_server/devices/mouse src/add-ons/input_server/dev
</A></li>
        <LI>Next message: <A HREF="017630.html">[Haiku-commits] r31355 - in haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec libavformat libavutil
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17629">[ date ]</a>
              <a href="thread.html#17629">[ thread ]</a>
              <a href="subject.html#17629">[ subject ]</a>
              <a href="author.html#17629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: stippi
Date: 2009-07-01 16:45:20 +0200 (Wed, 01 Jul 2009)
New Revision: 31355
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=31355&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=31355&amp;view=rev</A>

Added:
   haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.cpp
   haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/config.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/4xm.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/Jamfile
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/Makefile
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/adtsenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/aiff.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/allformats.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/amr.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/apc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/ape.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/asf.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/asf.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/asfcrypt.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/asfcrypt.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/asfdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/asfenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/assdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/assenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/au.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/audiointerleave.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/audiointerleave.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avc.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avformat.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avi.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avidec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avienc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avio.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avio.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/aviobuf.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avisynth.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/avs.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/bethsoftvid.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/bfi.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/c93.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/crcenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/cutils.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/daud.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/dsicin.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/dv.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/dv.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/dvenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/dxa.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/eacdata.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/electronicarts.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/ffm.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/ffmdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/ffmenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/file.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flacdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flacenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flacenc.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flic.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flv.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flvdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/flvenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/framecrcenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/framehook.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/framehook.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/gif.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/gopher.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/gxf.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/gxf.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/gxfenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/http.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/id3v2.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/id3v2.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/idcin.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/idroq.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/iff.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/img2.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/internal.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/ipmovie.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/isom.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/isom.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/iss.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/libnut.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/lmlm4.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/matroska.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/matroska.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/matroskadec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/matroskaenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/metadata.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/metadata.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/metadata_compat.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mm.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mmf.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mov.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/movenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mp3.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpc8.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpeg.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpeg.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpegenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpegts.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpegts.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpegtsenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mpjpeg.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/msnwc_tcp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mtv.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mvi.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mxf.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mxf.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mxfdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/mxfenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/ncdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/network.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/nsvdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/nut.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/nut.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/nutdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/nutenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/nuv.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggdec.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggparseflac.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggparseogm.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggparsespeex.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggparsetheora.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oggparsevorbis.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/oma.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/options.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/os_support.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/os_support.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/psxstr.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/pva.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/qtpalette.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/r3d.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/raw.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/raw.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rdt.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rdt.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/riff.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/riff.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rl2.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rm.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rm.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rmdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rmenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rpl.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtp.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtp_aac.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtp_h264.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtp_h264.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtp_mpv.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtpdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtpdec.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtpenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtpenc.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtpenc_h264.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtpproto.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtsp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtsp.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/rtspcodes.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/sdp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/segafilm.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/sierravmd.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/siff.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/smacker.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/sol.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/swf.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/swfdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/swfenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/tcp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/thp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/tiertexseq.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/tta.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/txd.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/udp.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/utils.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/vc1test.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/vc1testenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/voc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/voc.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/vocdec.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/vocenc.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/wav.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/wc3movie.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/westwood.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/wv.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/xa.c
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavformat/yuv4mpeg.c
Removed:
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavcodec/config.h
Modified:
   haiku/trunk/src/add-ons/media/plugins/avcodec/Jamfile
   haiku/trunk/src/add-ons/media/plugins/avcodec/avcodecplugin.h
   haiku/trunk/src/add-ons/media/plugins/avcodec/codectbl.cpp
   haiku/trunk/src/add-ons/media/plugins/avcodec/libavutil/common.h
Log:
* Added libavformat. I would like to rename the plugin from &quot;avcodec&quot; to
  &quot;ffmpeg&quot; and export multiple plugin types from the same plugin (Decoder and
  Reader).
* Work in progress on an libavformat based Reader plugin, does nothing yet.
* Moved config.h from libavcodec subfolder up one level, so that it's used
  by libavformat as well. Adjusted libavutil/common.h accordingly.
* Turned off GPL code in config.h
* Turned off BeOS muxers in config.h
* Turned on HAVE_THREADS and HAVE_PTHREADS, although that is nowhere used
  in the ffmpeg code (it appears).
* Indentation cleanup in avcodecplugin.h

I have built this with GCC4, but last night I built libavformat.a with GCC2
so I am hoping this doesn't break the GCC2 built.


Added: haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.cpp	2009-07-01 13:11:30 UTC (rev 31354)
+++ haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.cpp	2009-07-01 14:45:20 UTC (rev 31355)
@@ -0,0 +1,235 @@
+/*
+ * Copyright 2009, Stephan A&#223;mus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;
+ * All rights reserved. Distributed under the terms of the GNU L-GPL license.
+ */
+
+#include &quot;AVFormatReader.h&quot;
+
+#include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdlib.h&gt;
+
+#include &lt;new&gt;
+
+#include &lt;ByteOrder.h&gt;
+#include &lt;DataIO.h&gt;
+//#include &lt;InterfaceDefs.h&gt;
+#include &lt;MediaFormats.h&gt;
+
+extern &quot;C&quot; {
+	#include &quot;avformat.h&quot;
+}
+
+//#include &quot;RawFormats.h&quot;
+
+
+//#define TRACE_AVFORMAT_READER
+#ifdef TRACE_AVFORMAT_READER
+#	define TRACE printf
+#else
+#	define TRACE(a...)
+#endif
+
+#define ERROR(a...) fprintf(stderr, a)
+
+
+
+// #pragma mark - BPositionIO protocol
+
+
+static int
+position_io_open(URLContext* h, const char* filename, int flags)
+{
+	// always successful, priv_data is set elsewhere
+	return 0;
+}
+
+
+static int
+position_io_read(URLContext* h, unsigned char* buffer, int size)
+{
+	BPositionIO* source = reinterpret_cast&lt;BPositionIO*&gt;(h-&gt;priv_data);
+	return source-&gt;Read(buffer, size);
+}
+
+
+static int
+position_io_write(URLContext* h, unsigned char* buffer, int size)
+{
+	BPositionIO* source = reinterpret_cast&lt;BPositionIO*&gt;(h-&gt;priv_data);
+	return source-&gt;Write(buffer, size);
+}
+
+
+static int64_t
+position_io_seek(URLContext *h, int64_t position, int whence)
+{
+	BPositionIO* source = reinterpret_cast&lt;BPositionIO*&gt;(h-&gt;priv_data);
+	return source-&gt;Seek(position, whence);
+}
+
+
+static int
+position_io_close(URLContext *h)
+{
+	// We do not close ourselves here.
+	return 0;
+}
+
+
+static URLProtocol position_io_protocol = {
+	&quot;position_io&quot;,
+	position_io_open,
+	position_io_read,
+	position_io_write,
+	position_io_seek,
+	position_io_close
+};
+
+
+void
+avcodec_register_all()
+{
+	// av_register_all() will call libavcodec's avcodec_register_all(),
+	// but we do not link against libavcodec in this plugin.
+}
+
+
+static int
+init_libavformat()
+{
+	av_register_all();
+	return av_register_protocol(&amp;position_io_protocol);
+}
+
+
+static int dummy = init_libavformat();
+
+
+// #pragma mark - AVFormatReader
+
+
+AVFormatReader::AVFormatReader()
+	:
+	fContext(NULL)
+{
+	TRACE(&quot;AVFormatReader::AVFormatReader\n&quot;);
+}
+
+
+AVFormatReader::~AVFormatReader()
+{
+	TRACE(&quot;AVFormatReader::~AVFormatReader\n&quot;);
+
+	// TODO: Deallocate fContext
+}
+
+
+// #pragma mark -
+
+
+const char*
+AVFormatReader::Copyright()
+{
+	// TODO: Return copyright of the file instead!
+	return &quot;Copyright 2009, Stephan A&#223;mus&quot;;
+}
+
+	
+status_t
+AVFormatReader::Sniff(int32* streamCount)
+{
+	TRACE(&quot;AVFormatReader::Sniff\n&quot;);
+
+	return B_ERROR;
+}
+
+
+void
+AVFormatReader::GetFileFormatInfo(media_file_format* mff)
+{
+	TRACE(&quot;AVFormatReader::GetFileFormatInfo\n&quot;);
+
+	mff-&gt;capabilities = media_file_format::B_READABLE
+		| media_file_format::B_KNOWS_ENCODED_VIDEO
+		| media_file_format::B_KNOWS_ENCODED_AUDIO
+		| media_file_format::B_IMPERFECTLY_SEEKABLE;
+	mff-&gt;family = B_MISC_FORMAT_FAMILY;
+	mff-&gt;version = 100;
+	strcpy(mff-&gt;mime_type, &quot;video/mpg&quot;);
+	strcpy(mff-&gt;file_extension, &quot;mpg&quot;);
+	strcpy(mff-&gt;short_name,  &quot;MPEG&quot;);
+	strcpy(mff-&gt;pretty_name, &quot;MPEG (Motion Picture Experts Group)&quot;);
+}
+
+
+// #pragma mark -
+
+
+status_t
+AVFormatReader::AllocateCookie(int32 streamNumber, void** _cookie)
+{
+	TRACE(&quot;AVFormatReader::AllocateCookie(%ld)\n&quot;, streamNumber);
+
+	return B_ERROR;
+}
+
+
+status_t
+AVFormatReader::FreeCookie(void *_cookie)
+{
+	return B_ERROR;
+}
+
+
+// #pragma mark -
+
+
+status_t
+AVFormatReader::GetStreamInfo(void* _cookie, int64* frameCount,
+	bigtime_t* duration, media_format* format, const void** infoBuffer,
+	size_t* infoSize)
+{
+	return B_ERROR;
+}
+
+
+status_t
+AVFormatReader::Seek(void* _cookie, uint32 seekTo, int64* frame,
+ bigtime_t* time)
+{
+	return B_ERROR;
+}
+
+
+status_t
+AVFormatReader::FindKeyFrame(void* _cookie, uint32 flags, int64* frame,
+	bigtime_t* time)
+{
+	return B_ERROR;
+}
+
+
+status_t
+AVFormatReader::GetNextChunk(void* _cookie, const void** chunkBuffer,
+	size_t* chunkSize, media_header* mediaHeader)
+{
+	return B_ERROR;
+}
+
+
+// #pragma mark -
+
+
+Reader*
+AVFormatPlugin::NewReader()
+{
+	return new(std::nothrow) AVFormatReader;
+}
+
+
+MediaPlugin*
+instantiate_plugin()
+{
+	return new(std::nothrow) AVFormatPlugin;
+}

Added: haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.h
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.h	2009-07-01 13:11:30 UTC (rev 31354)
+++ haiku/trunk/src/add-ons/media/plugins/avcodec/AVFormatReader.h	2009-07-01 14:45:20 UTC (rev 31355)
@@ -0,0 +1,56 @@
+/*
+ * Copyright 2009, Stephan A&#223;mus &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">superstippi at gmx.de</A>&gt;
+ * All rights reserved. Distributed under the terms of the GNU L-GPL license.
+ */
+#ifndef AV_FORMAT_READER_H
+#define AV_FORMAT_READER_H
+
+
+#include &quot;ReaderPlugin.h&quot;
+
+
+struct AVFormatContext;
+
+
+class AVFormatReader : public Reader {
+public:
+								AVFormatReader();
+								~AVFormatReader();
+	
+	virtual	const char*			Copyright();
+	
+	virtual	status_t			Sniff(int32* streamCount);
+
+	virtual	void				GetFileFormatInfo(media_file_format* mff);
+
+	virtual	status_t			AllocateCookie(int32 streamNumber,
+									void** cookie);
+	virtual	status_t			FreeCookie(void* cookie);
+	
+	virtual	status_t			GetStreamInfo(void* cookie, int64* frameCount,
+									bigtime_t* duration, media_format* format,
+									const void** infoBuffer,
+									size_t* infoSize);
+
+	virtual	status_t			Seek(void* cookie, uint32 flags, int64* frame,
+									bigtime_t* time);
+	virtual	status_t			FindKeyFrame(void* cookie, uint32 flags,
+									int64* frame, bigtime_t* time);
+
+	virtual	status_t			GetNextChunk(void* cookie,
+									const void** chunkBuffer, size_t* chunkSize,
+									media_header* mediaHeader);
+
+private:
+			AVFormatContext*	fContext;
+};
+
+
+class AVFormatPlugin : public ReaderPlugin {
+public:
+			Reader*				NewReader();
+};
+
+MediaPlugin *instantiate_plugin();
+
+#endif // AV_FORMAT_READER_H

Modified: haiku/trunk/src/add-ons/media/plugins/avcodec/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/avcodec/Jamfile	2009-07-01 13:11:30 UTC (rev 31354)
+++ haiku/trunk/src/add-ons/media/plugins/avcodec/Jamfile	2009-07-01 14:45:20 UTC (rev 31355)
@@ -5,6 +5,7 @@
 UsePrivateHeaders media ;
 
 SubDirHdrs [ FDirName $(SUBDIR) libavcodec ] ;
+SubDirHdrs [ FDirName $(SUBDIR) libavformat ] ;
 SubDirHdrs [ FDirName $(SUBDIR) libavutil ] ;
 SubDirHdrs [ FDirName $(SUBDIR) libswscale ] ;
 
@@ -25,6 +26,17 @@
 	libz.a
 ;
 
+Addon avformat :
+	AVFormatReader.cpp
+	:
+	libavformat.a
+	libavutil.a
+	be
+	libmedia.so
+	libz.a
+;
+
 SubInclude HAIKU_TOP src add-ons media plugins avcodec libavcodec ;
+SubInclude HAIKU_TOP src add-ons media plugins avcodec libavformat ;
 SubInclude HAIKU_TOP src add-ons media plugins avcodec libavutil ;
 SubInclude HAIKU_TOP src add-ons media plugins avcodec libswscale ;

Modified: haiku/trunk/src/add-ons/media/plugins/avcodec/avcodecplugin.h
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/avcodec/avcodecplugin.h	2009-07-01 13:11:30 UTC (rev 31354)
+++ haiku/trunk/src/add-ons/media/plugins/avcodec/avcodecplugin.h	2009-07-01 14:45:20 UTC (rev 31355)
@@ -1,16 +1,14 @@
 /*
-** File avcodec.h
-**
-** libavcodec based decoder for OpenBeOS
-**
-** Copyright (C) 2001 Carlos Hasan. All Rights Reserved.
-** Copyright (C) 2001 Fran&#231;ois Revol. All Rights Reserved.
-** Copyright (C) 2001 Axel D&#246;rfler. All Rights Reserved.
-** Copyright (C) 2004 Marcus Overhagen. All Rights Reserved.
-**
-** Distributed under the terms of the MIT License.
-*/
+ * Copyright (C) 2001 Carlos Hasan. All Rights Reserved.
+ * Copyright (C) 2001 Fran&#231;ois Revol. All Rights Reserved.
+ * Copyright (C) 2001 Axel D&#246;rfler. All Rights Reserved.
+ * Copyright (C) 2004 Marcus Overhagen. All Rights Reserved.
+ *
+ * Distributed under the terms of the MIT License.
+ */
 
+//! libavcodec based decoder for Haiku
+
 #ifndef __AVCODEC_PLUGIN_H__
 #define __AVCODEC_PLUGIN_H__
 
@@ -22,81 +20,91 @@
 
 #include &quot;gfx_util.h&quot;
 
-struct codec_table { CodecID id; media_type type; media_format_family family; uint64 fourcc; const char *prettyname;};
+struct codec_table {
+	CodecID					id;
+	media_type				type;
+	media_format_family		family;
+	uint64					fourcc;
+	const char*				prettyname;
+};
 
 extern const struct codec_table gCodecTable[];
 extern const int num_codecs;
 extern media_format avcodec_formats[];
 
-class avCodec : public Decoder
-{
-	public:
-		avCodec();
+class avCodec : public Decoder {
+public:
+								avCodec();
 		
-		virtual ~avCodec();
+	virtual						~avCodec();
 		
-		virtual void GetCodecInfo(media_codec_info *mci);
-		
-		virtual status_t Setup(media_format *ioEncodedFormat,
-							   const void *infoBuffer, size_t infoSize);
-	   
-		virtual status_t NegotiateOutputFormat(media_format *output_format);
-		
-		virtual status_t Decode(void *out_buffer, int64 *out_frameCount,
-							    media_header *mh, media_decode_info *info);
+	virtual	void				GetCodecInfo(media_codec_info* mci);
 	
-		virtual status_t Seek(uint32 seekTo, int64 seekFrame, int64 *frame,
-							 bigtime_t seekTime, bigtime_t *time);
+	virtual	status_t			Setup(media_format* ioEncodedFormat,
+								   const void* infoBuffer, size_t infoSize);
+   
+	virtual	status_t			NegotiateOutputFormat(
+									media_format* outputFormat);
 	
+	virtual	status_t			Decode(void* outBuffer, int64* outFrameCount,
+						    		media_header* mediaHeader,
+						    		media_decode_info* info);
+
+	virtual	status_t			Seek(uint32 seekTo, int64 seekFrame,
+									int64* frame, bigtime_t seekTime,
+									bigtime_t* time);
 	
-	protected:
-		media_header fHeader;
-		media_decode_info fInfo;
 	
-		friend class avCodecInputStream;
+protected:
+			media_header		fHeader;
+			media_decode_info	fInfo;
+	
+	friend class avCodecInputStream;
 		
-	private:
-		media_format fInputFormat;
-		media_raw_video_format fOutputVideoFormat;
+private:
+			media_format		fInputFormat;
+			media_raw_video_format fOutputVideoFormat;
 
-		int64 fFrame;
-		bool isAudio;
+			int64				fFrame;
+			bool				isAudio;
 	
-		int ffcodec_index_in_table; // helps to find codecpretty
+			int					ffcodec_index_in_table;
+									// helps to find codecpretty
 		
-		// ffmpeg related datas
-		AVCodec *fCodec;
-		AVCodecContext *ffc;
-		AVFrame *ffpicture, *opicture;
+			// ffmpeg related datas
+			AVCodec*			fCodec;
+			AVCodecContext*		ffc;
+			AVFrame*			ffpicture;
+			AVFrame*			opicture;
 		
-		bool 		fCodecInitDone;
+			bool 				fCodecInitDone;
 
-		gfx_convert_func conv_func; // colorspace convert func
+			gfx_convert_func	conv_func; // colorspace convert func
 
-		char *		fExtraData;
-		int			fExtraDataSize;
-		int			fBlockAlign;
+			char*				fExtraData;
+			int					fExtraDataSize;
+			int					fBlockAlign;
 		
-		bigtime_t	fStartTime;
-		int32		fOutputFrameCount;
-		float		fOutputFrameRate;
-		int			fOutputFrameSize; // sample size * channel count
+			bigtime_t			fStartTime;
+			int32				fOutputFrameCount;
+			float				fOutputFrameRate;
+			int					fOutputFrameSize; // sample size * channel count
 		
-		const void *fChunkBuffer;
-		int32		fChunkBufferOffset;
-		size_t		fChunkBufferSize;
+			const void*			fChunkBuffer;
+			int32				fChunkBufferOffset;
+			size_t				fChunkBufferSize;
 
-		char *		fOutputBuffer;
-		int32		fOutputBufferOffset;
-		int32		fOutputBufferSize;
+			char*				fOutputBuffer;
+			int32				fOutputBufferOffset;
+			int32				fOutputBufferSize;
 
 };
 
-class avCodecPlugin : public DecoderPlugin
-{
+class avCodecPlugin : public DecoderPlugin {
 public:
-	Decoder *	NewDecoder(uint index);
-	status_t	GetSupportedFormats(media_format ** formats, size_t * count);
+			Decoder*			NewDecoder(uint index);
+			status_t			GetSupportedFormats(media_format** formats,
+									size_t* count);
 };
 
 

Modified: haiku/trunk/src/add-ons/media/plugins/avcodec/codectbl.cpp
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/avcodec/codectbl.cpp	2009-07-01 13:11:30 UTC (rev 31354)
+++ haiku/trunk/src/add-ons/media/plugins/avcodec/codectbl.cpp	2009-07-01 14:45:20 UTC (rev 31355)
@@ -203,6 +203,9 @@
 	{CODEC_ID_INDEO3,		B_MEDIA_ENCODED_VIDEO,	B_AVI_FORMAT_FAMILY,	FOURCC('IV31'), &quot;Indeo 3&quot;},
 	{CODEC_ID_INDEO3,		B_MEDIA_ENCODED_VIDEO,	B_AVI_FORMAT_FAMILY,	FOURCC('IV32'), &quot;Indeo 3&quot;},
 
+	{CODEC_ID_INDEO5,		B_MEDIA_ENCODED_VIDEO,	B_AVI_FORMAT_FAMILY,	FOURCC('iv50'), &quot;Indeo 5&quot;},
+	{CODEC_ID_INDEO5,		B_MEDIA_ENCODED_VIDEO,	B_AVI_FORMAT_FAMILY,	FOURCC('IV50'), &quot;Indeo 5&quot;},
+
 	{CODEC_ID_VP3,		B_MEDIA_ENCODED_VIDEO,	B_QUICKTIME_FORMAT_FAMILY,	'VP31', &quot;On2 VP3&quot;},
 
 	{CODEC_ID_CYUV,		B_MEDIA_ENCODED_VIDEO,	B_AVI_FORMAT_FAMILY,	'cyuv', &quot;CYUV&quot;},

Copied: haiku/trunk/src/add-ons/media/plugins/avcodec/config.h (from rev 31322, haiku/trunk/src/add-ons/media/plugins/avcodec/libavcodec/config.h)
===================================================================
--- haiku/trunk/src/add-ons/media/plugins/avcodec/libavcodec/config.h	2009-06-30 10:14:54 UTC (rev 31322)
+++ haiku/trunk/src/add-ons/media/plugins/avcodec/config.h	2009-07-01 14:45:20 UTC (rev 31355)
@@ -0,0 +1,747 @@
+/* Automatically generated by configure - do not modify! */
+#ifndef FFMPEG_CONFIG_H
+#define FFMPEG_CONFIG_H
+#define FFMPEG_CONFIGURATION &quot;--prefix=/boot/common/ --enable-shared --enable-gpl --disable-debug --disable-mmx --disable-demuxer=audio-beos --disable-muxer=audio-beos --disable-encoders --disable-parsers --disable-demuxers --disable-muxers&quot;
+#define FFMPEG_DATADIR &quot;/boot/common//share/ffmpeg&quot;
+#define ARCH_ALPHA 0
+#define ARCH_ARM 0
+#define ARCH_BFIN 0
+#define ARCH_IA64 0
+#define ARCH_M68K 0
+#define ARCH_MIPS 0
+#define ARCH_PARISC 0
+// #define ARCH_PPC 0
+#define ARCH_S390 0
+#define ARCH_SH4 0
+// #define ARCH_SPARC 0
+#define ARCH_SPARC64 0
+// #define ARCH_X86 1
+// #define ARCH_X86_32 1
+#define ARCH_X86_64 0
+// #define HAVE_ALTIVEC 0
+// #define HAVE_AMD3DNOW 0
+// #define HAVE_AMD3DNOWEXT 0
+#define HAVE_ARMV5TE 0
+#define HAVE_ARMV6 0
+#define HAVE_ARMV6T2 0
+#define HAVE_ARMVFP 0
+#define HAVE_IWMMXT 0
+#define HAVE_MMI 0
+// #define HAVE_MMX 1
+// #define HAVE_MMX2 1
+#define HAVE_NEON 0
+#define HAVE_PPC4XX 0
+// #define HAVE_SSE 0
+// #define HAVE_SSSE3 1
+// #define HAVE_VIS 0
+#define HAVE_BEOSTHREADS 0
+#define HAVE_OS2THREADS 0
+#define HAVE_PTHREADS 1
+#define HAVE_W32THREADS 0
+#define HAVE_ALSA_ASOUNDLIB_H 0
+// #define HAVE_ALTIVEC_H 0
+#define HAVE_ARPA_INET_H 0
+#define HAVE_BSWAP 1
+#define HAVE_CLOSESOCKET 0
+#define HAVE_CMOV 0
+#define HAVE_CONIO_H 0
+#define HAVE_DCBZL 0
+#define HAVE_DEV_BKTR_IOCTL_BT848_H 0
+#define HAVE_DEV_BKTR_IOCTL_METEOR_H 0
+#define HAVE_DEV_IC_BT8XX_H 0
+#define HAVE_DEV_VIDEO_METEOR_IOCTL_METEOR_H 0
+#define HAVE_DEV_VIDEO_BKTR_IOCTL_BT848_H 0
+#define HAVE_DLFCN_H 0
+#define HAVE_DLOPEN 0
+#define HAVE_DOS_PATHS 0
+// Jamfile must have -fomit_frame_pointer
+#define HAVE_EBP_AVAILABLE 1
+// We use position independant code so no EBX
+#define HAVE_EBX_AVAILABLE 0
+#define HAVE_FAST_64BIT 0
+#define HAVE_FAST_CMOV 0
+#define HAVE_FAST_UNALIGNED 1
+#define HAVE_FORK 1
+#define HAVE_FREETYPE2 0
+#define HAVE_GETHRTIME 0
+#define HAVE_GETPROCESSTIMES 0
+#define HAVE_GETRUSAGE 1
+#define HAVE_IMLIB2 0
+#define HAVE_INET_ATON 0
+#define HAVE_INLINE_ASM 1
+#define HAVE_LIBDC1394_1 0
+#define HAVE_LIBDC1394_2 0
+#define HAVE_LLRINT 1
+#define HAVE_LRINT 1
+#define HAVE_LRINTF 1
+#define HAVE_MACHINE_IOCTL_BT848_H 0
+#define HAVE_MACHINE_IOCTL_METEOR_H 0
+#define HAVE_MALLOC_H 1
+#define HAVE_MEMALIGN 1
+#define HAVE_MKSTEMP 1
+#define HAVE_PLD 0
+#define HAVE_POSIX_MEMALIGN 1
+#define HAVE_PPC64 0
+#define HAVE_ROUND 1
+#define HAVE_ROUNDF 1
+#define HAVE_SDL 0
+#define HAVE_SDL_VIDEO_SIZE 0
+#define HAVE_SETMODE 0
+#define HAVE_SOCKLEN_T 0
+#define HAVE_SOUNDCARD_H 0
+#define HAVE_POLL_H 1
+#define HAVE_SYS_MMAN_H 1
+#define HAVE_SYS_RESOURCE_H 1
+#define HAVE_SYS_SELECT_H 1
+#define HAVE_SYS_SOUNDCARD_H 0
+#define HAVE_SYS_VIDEOIO_H 0
+#define HAVE_TEN_OPERANDS 0
+#define HAVE_TERMIOS_H 1
+#define HAVE_THREADS 1
+#define HAVE_TRUNCF 1
+#define HAVE_WINSOCK2_H 0
+#define HAVE_YASM 1
+#define CONFIG_BSFS 1
+#define CONFIG_DECODERS 1
+#define CONFIG_DEMUXERS 1
+#define CONFIG_ENCODERS 0
+#define CONFIG_FILTERS 1
+#define CONFIG_INDEVS 0
+#define CONFIG_MUXERS 1
+#define CONFIG_OUTDEVS 0
+#define CONFIG_PARSERS 0
+#define CONFIG_PROTOCOLS 1
+#define CONFIG_AANDCT 1
+#define CONFIG_AVFILTER 0
+#define CONFIG_AVFILTER_LAVF 0
+#define CONFIG_AVISYNTH 0
+#define CONFIG_BEOS_NETSERVER 0
+#define CONFIG_BZLIB 0
+#define CONFIG_FASTDIV 1
+#define CONFIG_FFMPEG 0
+#define CONFIG_FFPLAY 0
+#define CONFIG_FFSERVER 0
+#define CONFIG_FFT 1
+#define CONFIG_GOLOMB 1
+#define CONFIG_GPL 0
+#define CONFIG_GPROF 0
+#define CONFIG_GRAY 0
+#define CONFIG_HARDCODED_TABLES 1
+#define CONFIG_IPV6 0
+#define CONFIG_LIBAMR_NB 0
+#define CONFIG_LIBAMR_WB 0
+#define CONFIG_LIBDC1394 0
+#define CONFIG_LIBDIRAC 0
+#define CONFIG_LIBFAAC 0
+#define CONFIG_LIBFAAD 0
+#define CONFIG_LIBFAADBIN 0
+#define CONFIG_LIBGSM 0
+#define CONFIG_LIBMP3LAME 0
+#define CONFIG_LIBNUT 0
+#define CONFIG_LIBOPENJPEG 0
+#define CONFIG_LIBSCHROEDINGER 0
+#define CONFIG_LIBSPEEX 0
+#define CONFIG_LIBTHEORA 0
+#define CONFIG_LIBVORBIS 0
+#define CONFIG_LIBX264 0
+#define CONFIG_LIBXVID 0
+#define CONFIG_MDCT 1
+#define CONFIG_MEMALIGN_HACK 0
+#define CONFIG_MLIB 0
+#define CONFIG_MPEGAUDIO_HP 1
+#define CONFIG_NETWORK 0
+#define CONFIG_NONFREE 0
+#define CONFIG_POSTPROC 0
+#define CONFIG_POWERPC_PERF 0
+#define CONFIG_RDFT 1
+#define CONFIG_SHARED 0
+#define CONFIG_SMALL 0
+#define CONFIG_STATIC 1
+#define CONFIG_SWSCALE 0
+#define CONFIG_VDPAU 0
+#define CONFIG_VHOOK 0
+#define CONFIG_X11GRAB 0
+#define CONFIG_ZLIB 1
+#define CONFIG_OLDSCALER 1
+#define CONFIG_AASC_DECODER 1
+#define CONFIG_AMV_DECODER 1
+#define CONFIG_ASV1_DECODER 1
+#define CONFIG_ASV2_DECODER 1
+#define CONFIG_AVS_DECODER 1
+#define CONFIG_BETHSOFTVID_DECODER 1
+#define CONFIG_BFI_DECODER 1
+#define CONFIG_BMP_DECODER 1
+#define CONFIG_C93_DECODER 1
+#define CONFIG_CAVS_DECODER 0 // TODO: Confirm
+#define CONFIG_CINEPAK_DECODER 1
+#define CONFIG_CLJR_DECODER 1
+#define CONFIG_CSCD_DECODER 1
+#define CONFIG_CYUV_DECODER 1
+#define CONFIG_DNXHD_DECODER 1
+#define CONFIG_DSICINVIDEO_DECODER 1
+#define CONFIG_DVVIDEO_DECODER 1
+#define CONFIG_DXA_DECODER 1
+#define CONFIG_EACMV_DECODER 1
+#define CONFIG_EATGQ_DECODER 1
+#define CONFIG_EATGV_DECODER 1
+#define CONFIG_EATQI_DECODER 1
+#define CONFIG_EIGHTBPS_DECODER 1
+#define CONFIG_EIGHTSVX_EXP_DECODER 1
+#define CONFIG_EIGHTSVX_FIB_DECODER 1
+#define CONFIG_ESCAPE124_DECODER 1
+#define CONFIG_FFV1_DECODER 1
+#define CONFIG_FFVHUFF_DECODER 1
+#define CONFIG_FLASHSV_DECODER 1
+#define CONFIG_FLIC_DECODER 1
+#define CONFIG_FLV_DECODER 1
+#define CONFIG_FOURXM_DECODER 1
+#define CONFIG_FRAPS_DECODER 1
+#define CONFIG_GIF_DECODER 1
+#define CONFIG_H261_DECODER 1
+#define CONFIG_H263_DECODER 1
+#define CONFIG_H263I_DECODER 1
+#define CONFIG_H264_DECODER 1
+#define CONFIG_H264_VDPAU_DECODER 0
+#define CONFIG_HUFFYUV_DECODER 1
+#define CONFIG_IDCIN_DECODER 1
+#define CONFIG_INDEO2_DECODER 1
+#define CONFIG_INDEO3_DECODER 1
+#define CONFIG_INTERPLAY_VIDEO_DECODER 1
+#define CONFIG_JPEGLS_DECODER 1
+#define CONFIG_KMVC_DECODER 1
+#define CONFIG_LOCO_DECODER 1
+#define CONFIG_MDEC_DECODER 1
+#define CONFIG_MIMIC_DECODER 1
+#define CONFIG_MJPEG_DECODER 1
+#define CONFIG_MJPEGB_DECODER 1
+#define CONFIG_MMVIDEO_DECODER 1
+#define CONFIG_MOTIONPIXELS_DECODER 1
+#define CONFIG_MPEG_XVMC_DECODER 0
+#define CONFIG_MPEG1VIDEO_DECODER 1
+#define CONFIG_MPEG2VIDEO_DECODER 1
+#define CONFIG_MPEG4_DECODER 1
+#define CONFIG_MPEGVIDEO_DECODER 1
+#define CONFIG_MPEG_VDPAU_DECODER 0
+#define CONFIG_MPEG1_VDPAU_DECODER 0
+#define CONFIG_MSMPEG4V1_DECODER 1
+#define CONFIG_MSMPEG4V2_DECODER 1
+#define CONFIG_MSMPEG4V3_DECODER 1
+#define CONFIG_MSRLE_DECODER 1
+#define CONFIG_MSVIDEO1_DECODER 1
+#define CONFIG_MSZH_DECODER 1
+#define CONFIG_NUV_DECODER 1
+#define CONFIG_PCX_DECODER 1
+#define CONFIG_PNG_DECODER 1
+#define CONFIG_PTX_DECODER 1
+#define CONFIG_QDRAW_DECODER 1
+#define CONFIG_QPEG_DECODER 1
+#define CONFIG_QTRLE_DECODER 1
+#define CONFIG_RAWVIDEO_DECODER 1
+#define CONFIG_RL2_DECODER 1
+#define CONFIG_ROQ_DECODER 1
+#define CONFIG_RPZA_DECODER 1
+#define CONFIG_RV10_DECODER 1
+#define CONFIG_RV20_DECODER 1
+#define CONFIG_RV30_DECODER 1
+#define CONFIG_RV40_DECODER 1
+#define CONFIG_SGI_DECODER 1
+#define CONFIG_SMACKER_DECODER 1
+#define CONFIG_SMC_DECODER 1
+#define CONFIG_SNOW_DECODER 0 // TODO: Confirm
+#define CONFIG_SP5X_DECODER 1
+#define CONFIG_SUNRAST_DECODER 1
+#define CONFIG_SVQ1_DECODER 1
+#define CONFIG_SVQ3_DECODER 1
+#define CONFIG_TARGA_DECODER 1
+#define CONFIG_THEORA_DECODER 1
+#define CONFIG_THP_DECODER 1
+#define CONFIG_TIERTEXSEQVIDEO_DECODER 1
+#define CONFIG_TIFF_DECODER 1
+#define CONFIG_TRUEMOTION1_DECODER 1
+#define CONFIG_TRUEMOTION2_DECODER 1
+#define CONFIG_TSCC_DECODER 1
+#define CONFIG_TXD_DECODER 1
+#define CONFIG_ULTI_DECODER 1
+#define CONFIG_VB_DECODER 1
+#define CONFIG_VC1_DECODER 1
+#define CONFIG_VC1_VDPAU_DECODER 0
+#define CONFIG_VCR1_DECODER 1
+#define CONFIG_VMDVIDEO_DECODER 1
+#define CONFIG_VMNC_DECODER 1
+#define CONFIG_VP3_DECODER 1
+#define CONFIG_VP5_DECODER 1
+#define CONFIG_VP6_DECODER 1
+#define CONFIG_VP6A_DECODER 1
+#define CONFIG_VP6F_DECODER 1
+#define CONFIG_VQA_DECODER 1
+#define CONFIG_WMV1_DECODER 1
+#define CONFIG_WMV2_DECODER 1
+#define CONFIG_WMV3_DECODER 1
+#define CONFIG_WMV3_VDPAU_DECODER 0
+#define CONFIG_WNV1_DECODER 1
+#define CONFIG_XAN_WC3_DECODER 1
+#define CONFIG_XL_DECODER 1
+#define CONFIG_ZLIB_DECODER 1
+#define CONFIG_ZMBV_DECODER 1
+#define CONFIG_AAC_DECODER 1
+#define CONFIG_AC3_DECODER 1
+#define CONFIG_ALAC_DECODER 1
+#define CONFIG_APE_DECODER 1
+#define CONFIG_ATRAC3_DECODER 1
+#define CONFIG_COOK_DECODER 1
+#define CONFIG_DCA_DECODER 1
+#define CONFIG_DSICINAUDIO_DECODER 1
+#define CONFIG_EAC3_DECODER 1
+#define CONFIG_FLAC_DECODER 1
+#define CONFIG_IMC_DECODER 1
+#define CONFIG_MACE3_DECODER 1
+#define CONFIG_MACE6_DECODER 1
+#define CONFIG_MLP_DECODER 1
+#define CONFIG_MP1_DECODER 1
+#define CONFIG_MP2_DECODER 1
+#define CONFIG_MP3_DECODER 1
+#define CONFIG_MP3ADU_DECODER 1
+#define CONFIG_MP3ON4_DECODER 1
+#define CONFIG_MPC7_DECODER 1
+#define CONFIG_MPC8_DECODER 1
+#define CONFIG_NELLYMOSER_DECODER 1
+#define CONFIG_QCELP_DECODER 1
+#define CONFIG_QDM2_DECODER 1
+#define CONFIG_RA_144_DECODER 1
+#define CONFIG_RA_288_DECODER 1
+#define CONFIG_SHORTEN_DECODER 1
+#define CONFIG_SMACKAUD_DECODER 1
+#define CONFIG_SONIC_DECODER 1
+#define CONFIG_TRUESPEECH_DECODER 1
+#define CONFIG_TTA_DECODER 1
+#define CONFIG_VMDAUDIO_DECODER 1
+#define CONFIG_VORBIS_DECODER 1
+#define CONFIG_WAVPACK_DECODER 1
+#define CONFIG_WMAV1_DECODER 1
+#define CONFIG_WMAV2_DECODER 1
+#define CONFIG_WS_SND1_DECODER 1
+#define CONFIG_PCM_ALAW_DECODER 1
+#define CONFIG_PCM_DVD_DECODER 1
+#define CONFIG_PCM_F32BE_DECODER 1
+#define CONFIG_PCM_F32LE_DECODER 1
+#define CONFIG_PCM_F64BE_DECODER 1
+#define CONFIG_PCM_F64LE_DECODER 1
+#define CONFIG_PCM_MULAW_DECODER 1
+#define CONFIG_PCM_S8_DECODER 1
+#define CONFIG_PCM_S16BE_DECODER 1
+#define CONFIG_PCM_S16LE_DECODER 1
+#define CONFIG_PCM_S16LE_PLANAR_DECODER 1
+#define CONFIG_PCM_S24BE_DECODER 1
+#define CONFIG_PCM_S24DAUD_DECODER 1
+#define CONFIG_PCM_S24LE_DECODER 1
+#define CONFIG_PCM_S32BE_DECODER 1
+#define CONFIG_PCM_S32LE_DECODER 1
+#define CONFIG_PCM_U8_DECODER 1
+#define CONFIG_PCM_U16BE_DECODER 1
+#define CONFIG_PCM_U16LE_DECODER 1
+#define CONFIG_PCM_U24BE_DECODER 1
+#define CONFIG_PCM_U24LE_DECODER 1
+#define CONFIG_PCM_U32BE_DECODER 1
+#define CONFIG_PCM_U32LE_DECODER 1
+#define CONFIG_PCM_ZORK_DECODER 1
+#define CONFIG_INTERPLAY_DPCM_DECODER 1
+#define CONFIG_ROQ_DPCM_DECODER 1
+#define CONFIG_SOL_DPCM_DECODER 1
+#define CONFIG_XAN_DPCM_DECODER 1
+#define CONFIG_ADPCM_4XM_DECODER 1
+#define CONFIG_ADPCM_ADX_DECODER 1
+#define CONFIG_ADPCM_CT_DECODER 1
+#define CONFIG_ADPCM_EA_DECODER 1
+#define CONFIG_ADPCM_EA_MAXIS_XA_DECODER 1
+#define CONFIG_ADPCM_EA_R1_DECODER 1
+#define CONFIG_ADPCM_EA_R2_DECODER 1
+#define CONFIG_ADPCM_EA_R3_DECODER 1
+#define CONFIG_ADPCM_EA_XAS_DECODER 1
+#define CONFIG_ADPCM_G726_DECODER 1
+#define CONFIG_ADPCM_IMA_AMV_DECODER 1
+#define CONFIG_ADPCM_IMA_DK3_DECODER 1
+#define CONFIG_ADPCM_IMA_DK4_DECODER 1
+#define CONFIG_ADPCM_IMA_EA_EACS_DECODER 1
+#define CONFIG_ADPCM_IMA_EA_SEAD_DECODER 1
+#define CONFIG_ADPCM_IMA_ISS_DECODER 1
+#define CONFIG_ADPCM_IMA_QT_DECODER 1
+#define CONFIG_ADPCM_IMA_SMJPEG_DECODER 1
+#define CONFIG_ADPCM_IMA_WAV_DECODER 1
+#define CONFIG_ADPCM_IMA_WS_DECODER 1
+#define CONFIG_ADPCM_MS_DECODER 1
+#define CONFIG_ADPCM_SBPRO_2_DECODER 1
+#define CONFIG_ADPCM_SBPRO_3_DECODER 1
+#define CONFIG_ADPCM_SBPRO_4_DECODER 1
+#define CONFIG_ADPCM_SWF_DECODER 1
+#define CONFIG_ADPCM_THP_DECODER 1
+#define CONFIG_ADPCM_XA_DECODER 1
+#define CONFIG_ADPCM_YAMAHA_DECODER 1
+#define CONFIG_DVBSUB_DECODER 1
+#define CONFIG_DVDSUB_DECODER 1
+#define CONFIG_XSUB_DECODER 1
+#define CONFIG_LIBAMR_NB_DECODER 0
+#define CONFIG_LIBAMR_WB_DECODER 0
+#define CONFIG_LIBDIRAC_DECODER 0
+#define CONFIG_LIBFAAD_DECODER 0
+#define CONFIG_LIBGSM_DECODER 0
+#define CONFIG_LIBGSM_MS_DECODER 0
+#define CONFIG_LIBOPENJPEG_DECODER 0
+#define CONFIG_LIBSCHROEDINGER_DECODER 0
+#define CONFIG_LIBSPEEX_DECODER 0
+#define CONFIG_ASV1_ENCODER 0
+#define CONFIG_ASV2_ENCODER 0
+#define CONFIG_BMP_ENCODER 0
+#define CONFIG_DNXHD_ENCODER 0
+#define CONFIG_DVVIDEO_ENCODER 0
+#define CONFIG_FFV1_ENCODER 0
+#define CONFIG_FFVHUFF_ENCODER 0
+#define CONFIG_FLASHSV_ENCODER 0
+#define CONFIG_FLV_ENCODER 0
+#define CONFIG_GIF_ENCODER 0
+#define CONFIG_H261_ENCODER 0
+#define CONFIG_H263_ENCODER 0
+#define CONFIG_H263P_ENCODER 0
+#define CONFIG_HUFFYUV_ENCODER 0
+#define CONFIG_JPEGLS_ENCODER 0
+#define CONFIG_LJPEG_ENCODER 0
+#define CONFIG_MJPEG_ENCODER 0
+#define CONFIG_MPEG1VIDEO_ENCODER 0
+#define CONFIG_MPEG2VIDEO_ENCODER 0
+#define CONFIG_MPEG4_ENCODER 0
+#define CONFIG_MSMPEG4V1_ENCODER 0
+#define CONFIG_MSMPEG4V2_ENCODER 0
+#define CONFIG_MSMPEG4V3_ENCODER 0
+#define CONFIG_PAM_ENCODER 0
+#define CONFIG_PBM_ENCODER 0
+#define CONFIG_PGM_ENCODER 0
+#define CONFIG_PGMYUV_ENCODER 0
+#define CONFIG_PNG_ENCODER 0
+#define CONFIG_PPM_ENCODER 0
+#define CONFIG_QTRLE_ENCODER 0
+#define CONFIG_RAWVIDEO_ENCODER 0
+#define CONFIG_ROQ_ENCODER 0
+#define CONFIG_RV10_ENCODER 0
+#define CONFIG_RV20_ENCODER 0
+#define CONFIG_SGI_ENCODER 0
+#define CONFIG_SNOW_ENCODER 0
+#define CONFIG_SVQ1_ENCODER 0
+#define CONFIG_TARGA_ENCODER 0
+#define CONFIG_TIFF_ENCODER 0
+#define CONFIG_WMV1_ENCODER 0
+#define CONFIG_WMV2_ENCODER 0
+#define CONFIG_ZLIB_ENCODER 0
+#define CONFIG_ZMBV_ENCODER 0
+#define CONFIG_AC3_ENCODER 0
+#define CONFIG_ALAC_ENCODER 0
+#define CONFIG_FLAC_ENCODER 0
+#define CONFIG_MP2_ENCODER 0
+#define CONFIG_NELLYMOSER_ENCODER 0
+#define CONFIG_SONIC_ENCODER 0
+#define CONFIG_SONIC_LS_ENCODER 0
+#define CONFIG_VORBIS_ENCODER 0
+#define CONFIG_WMAV1_ENCODER 0
+#define CONFIG_WMAV2_ENCODER 0
+#define CONFIG_PCM_ALAW_ENCODER 0
+#define CONFIG_PCM_F32BE_ENCODER 0
+#define CONFIG_PCM_F32LE_ENCODER 0
+#define CONFIG_PCM_F64BE_ENCODER 0
+#define CONFIG_PCM_F64LE_ENCODER 0
+#define CONFIG_PCM_MULAW_ENCODER 0
+#define CONFIG_PCM_S8_ENCODER 0
+#define CONFIG_PCM_S16BE_ENCODER 0
+#define CONFIG_PCM_S16LE_ENCODER 0
+#define CONFIG_PCM_S24BE_ENCODER 0
+#define CONFIG_PCM_S24DAUD_ENCODER 0
+#define CONFIG_PCM_S24LE_ENCODER 0
+#define CONFIG_PCM_S32BE_ENCODER 0
+#define CONFIG_PCM_S32LE_ENCODER 0
+#define CONFIG_PCM_U8_ENCODER 0
+#define CONFIG_PCM_U16BE_ENCODER 0
+#define CONFIG_PCM_U16LE_ENCODER 0
+#define CONFIG_PCM_U24BE_ENCODER 0
+#define CONFIG_PCM_U24LE_ENCODER 0
+#define CONFIG_PCM_U32BE_ENCODER 0
+#define CONFIG_PCM_U32LE_ENCODER 0
+#define CONFIG_PCM_ZORK_ENCODER 0
+#define CONFIG_ROQ_DPCM_ENCODER 0
+#define CONFIG_ADPCM_ADX_ENCODER 0
+#define CONFIG_ADPCM_G726_ENCODER 0
+#define CONFIG_ADPCM_IMA_QT_ENCODER 0
+#define CONFIG_ADPCM_IMA_WAV_ENCODER 0
+#define CONFIG_ADPCM_MS_ENCODER 0
+#define CONFIG_ADPCM_SWF_ENCODER 0
+#define CONFIG_ADPCM_YAMAHA_ENCODER 0

[... truncated: 65072 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017636.html">[Haiku-commits] r31353 - in haiku/branches/features/32bit-wchar_t: build/jam src/add-ons/disk_systems/bfs src/add-ons/disk_systems/intel src/add-ons/input_server/devices/keyboard src/add-ons/input_server/devices/mouse src/add-ons/input_server/dev
</A></li>
	<LI>Next message: <A HREF="017630.html">[Haiku-commits] r31355 - in haiku/trunk/src/add-ons/media/plugins/avcodec: . libavcodec libavformat libavutil
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17629">[ date ]</a>
              <a href="thread.html#17629">[ thread ]</a>
              <a href="subject.html#17629">[ subject ]</a>
              <a href="author.html#17629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
