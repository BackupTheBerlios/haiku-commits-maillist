<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30642%20-%0A%09haiku/trunk/src/add-ons/kernel/bus_managers/ata&In-Reply-To=%3C20090506133128.M82036%40mlotz.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016527.html">
   <LINK REL="Next"  HREF="016532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata</H1>
    <B>Michael Lotz</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30642%20-%0A%09haiku/trunk/src/add-ons/kernel/bus_managers/ata&In-Reply-To=%3C20090506133128.M82036%40mlotz.ch%3E"
       TITLE="[Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata">mmlr at mlotz.ch
       </A><BR>
    <I>Wed May  6 15:41:32 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="016527.html">[Haiku-commits] r30642 - haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
        <LI>Next message: <A HREF="016532.html">[Haiku-commits] r30642	-	haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16530">[ date ]</a>
              <a href="thread.html#16530">[ thread ]</a>
              <a href="subject.html#16530">[ subject ]</a>
              <a href="author.html#16530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 06 May 2009 15:12:10, Michael Lotz wrote
&gt;<i> &gt; Michael Lotz wrote:
</I>&gt;<i> &gt; Yes, but these are things you know because you wrote the code. Other 
</I>&gt;<i> &gt; developers looking at it would had a way better chance of 
</I>&gt;<i> &gt; understanding 
</I>&gt;<i> &gt; what is happening (at least in an easier way) if they saw:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; return INVALID_DEVICE
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; instead of
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; return 2
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 2 means nothing to anyone that does not know the code while 
</I>&gt;<i> &gt; INVALID_DEVICE (or any other descriptive name) is pretty obvious even 
</I>&gt;<i> &gt; if 
</I>&gt;<i> &gt; you are only looking at that section of the code.
</I>&gt;<i> 
</I>&gt;<i> Anyone knowing a bit of ATA (which is a prerequisite to understand 
</I>&gt;<i> the code at all) knows that a device number other than 0 and 1 is 
</I>&gt;<i> invalid. It's not like I hardcoded 2 as some mysterious error code 
</I>&gt;<i> somewhere that was checked for specifically or that it was only an 
</I>&gt;<i> invalid index in our own ATA stack. It's simply the first invalid 
</I>&gt;<i> device number, so I picked it. Anyway, fixed in r30644.
</I>
By the way: Don't get me wrong, I understand and support the stance to make
things obvious and I do pay attention to do so in code I write and correct it
in existing code when I rework it. It's just that in this case it's silly to
even talk about it, seeing that it's reasonably understandable for anyone
looking into ATA and the amount of time spent on discussing/adjusting it could
be so much better spent on most anything else. This is opposed to magic error
codes that mean something specific, where a certain error code is set and
checked in specific places and it is not immediately obvious that they are
linked together. Those are cases that only the developer of said code would know.

Regards
Michael

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016527.html">[Haiku-commits] r30642 - haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
	<LI>Next message: <A HREF="016532.html">[Haiku-commits] r30642	-	haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16530">[ date ]</a>
              <a href="thread.html#16530">[ thread ]</a>
              <a href="subject.html#16530">[ subject ]</a>
              <a href="author.html#16530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
