<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30856 - haiku/trunk/src/kits/translation
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30856%20-%20haiku/trunk/src/kits/translation&In-Reply-To=%3C200905260001.n4Q01ppa013938%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016932.html">
   <LINK REL="Next"  HREF="016934.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30856 - haiku/trunk/src/kits/translation</H1>
    <B>bonefish at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30856%20-%20haiku/trunk/src/kits/translation&In-Reply-To=%3C200905260001.n4Q01ppa013938%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r30856 - haiku/trunk/src/kits/translation">bonefish at mail.berlios.de
       </A><BR>
    <I>Tue May 26 02:01:51 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="016932.html">[Haiku-commits] r30855 - in haiku/trunk: headers/os/translation	src/kits/translation
</A></li>
        <LI>Next message: <A HREF="016934.html">[Haiku-commits] r30857 - haiku/trunk/src/kits/translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16933">[ date ]</a>
              <a href="thread.html#16933">[ thread ]</a>
              <a href="subject.html#16933">[ subject ]</a>
              <a href="author.html#16933">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bonefish
Date: 2009-05-26 02:01:48 +0200 (Tue, 26 May 2009)
New Revision: 30856
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=30856&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=30856&amp;view=rev</A>

Modified:
   haiku/trunk/src/kits/translation/TranslatorRoster.cpp
   haiku/trunk/src/kits/translation/TranslatorRosterPrivate.h
Log:
Yummy, more style cleanup.


Modified: haiku/trunk/src/kits/translation/TranslatorRoster.cpp
===================================================================
--- haiku/trunk/src/kits/translation/TranslatorRoster.cpp	2009-05-25 23:51:16 UTC (rev 30855)
+++ haiku/trunk/src/kits/translation/TranslatorRoster.cpp	2009-05-26 00:01:48 UTC (rev 30856)
@@ -141,12 +141,12 @@
 
 BTranslatorRoster::Private::Private()
 	:
-	BHandler(&quot;translator roster&quot;), BLocker(&quot;translator list&quot;),
+	BHandler(&quot;translator roster&quot;),
+	BLocker(&quot;translator list&quot;),
 	fNextID(1),
 	fLazyScanning(true),
 	fSafeMode(false)
 {
-
 	char parameter[32];
 	size_t parameterLength = sizeof(parameter);
 

Modified: haiku/trunk/src/kits/translation/TranslatorRosterPrivate.h
===================================================================
--- haiku/trunk/src/kits/translation/TranslatorRosterPrivate.h	2009-05-25 23:51:16 UTC (rev 30855)
+++ haiku/trunk/src/kits/translation/TranslatorRosterPrivate.h	2009-05-26 00:01:48 UTC (rev 30856)
@@ -1,5 +1,5 @@
 /*
- * Copyright 2006, Haiku, Inc. All Rights Reserved.
+ * Copyright 2006-2009, Haiku, Inc. All Rights Reserved.
  * Distributed under the terms of the MIT License.
  *
  * Author:
@@ -8,6 +8,9 @@
 #ifndef TRANSLATOR_ROSTER_PRIVATE_H
 #define TRANSLATOR_ROSTER_PRIVATE_H
 
+#include &lt;map&gt;
+#include &lt;set&gt;
+#include &lt;vector&gt;
 
 #include &lt;Entry.h&gt;
 #include &lt;Handler.h&gt;
@@ -15,9 +18,6 @@
 #include &lt;Messenger.h&gt;
 #include &lt;TranslatorRoster.h&gt;
 
-#include &lt;map&gt;
-#include &lt;set&gt;
-#include &lt;vector&gt;
 
 struct translator_data;
 
@@ -34,74 +34,88 @@
 typedef std::vector&lt;node_ref&gt; NodeRefList;
 typedef std::set&lt;entry_ref&gt; EntryRefSet;
 
+
 class BTranslatorRoster::Private : public BHandler, public BLocker {
-	public:
-		Private();
-		virtual ~Private();
+public:
+								Private();
+	virtual						~Private();
 
-		virtual void MessageReceived(BMessage* message);
+	virtual	void				MessageReceived(BMessage* message);
 
-		void AddDefaultPaths();
-		status_t AddPaths(const char* paths);
-		status_t AddPath(const char* path, int32* _added = NULL);
-		status_t AddTranslator(BTranslator* translator, image_id image = -1,
-					const entry_ref* ref = NULL, ino_t node = 0);
+			void				AddDefaultPaths();
+			status_t			AddPaths(const char* paths);
+			status_t			AddPath(const char* path, int32* _added = NULL);
+			status_t			AddTranslator(BTranslator* translator,
+									image_id image = -1,
+									const entry_ref* ref = NULL,
+									ino_t node = 0);
 
-		void RemoveTranslators(entry_ref&amp; ref);
+			void				RemoveTranslators(entry_ref&amp; ref);
 
-		BTranslator* FindTranslator(translator_id id);
+			BTranslator*		FindTranslator(translator_id id);
 
-		status_t StoreTranslators(BMessage&amp; archive);
-		status_t Identify(BPositionIO* source, BMessage* ioExtension,
-					uint32 hintType, const char* hintMIME, uint32 wantType,
-					translator_info* _info);
+			status_t			StoreTranslators(BMessage&amp; archive);
+			status_t			Identify(BPositionIO* source,
+									BMessage* ioExtension, uint32 hintType,
+									const char* hintMIME, uint32 wantType,
+									translator_info* _info);
 
-		status_t GetTranslators(BPositionIO* source, BMessage* ioExtension,
-					uint32 hintType, const char* hintMIME, uint32 wantType,
-					translator_info** _info, int32* _numInfo);
-		status_t GetAllTranslators(translator_id** _ids, int32* _count);
-		status_t GetRefFor(translator_id id, entry_ref&amp; ref);
+			status_t			GetTranslators(BPositionIO* source,
+									BMessage* ioExtension, uint32 hintType,
+									const char* hintMIME, uint32 wantType,
+									translator_info** _info, int32* _numInfo);
+			status_t			GetAllTranslators(translator_id** _ids,
+									int32* _count);
+			status_t			GetRefFor(translator_id id, entry_ref&amp; ref);
 
-		bool IsActive() const { return Looper(); }
+			bool				IsActive() const { return Looper(); }
 
-		status_t CreateTranslators(const entry_ref&amp; ref, int32&amp; count,
-					BMessage* update = NULL);
-		status_t GetTranslatorData(image_id image, translator_data&amp; data);
+			status_t			CreateTranslators(const entry_ref&amp; ref,
+									int32&amp; count, BMessage* update = NULL);
+			status_t			GetTranslatorData(image_id image,
+									translator_data&amp; data);
 
-		status_t StartWatching(BMessenger target);
-		status_t StopWatching(BMessenger target);
+			status_t			StartWatching(BMessenger target);
+			status_t			StopWatching(BMessenger target);
 
-		void TranslatorDeleted(translator_id id);
+			void				TranslatorDeleted(translator_id id);
 
-	private:
-		static int _CompareSupport(const void* _a, const void* _b);
+private:
+	static	int					_CompareSupport(const void* _a, const void* _b);
 
-		void _RescanChanged();
+			void				_RescanChanged();
 
-		const translation_format* _CheckHints(const translation_format* formats,
-					int32 formatsCount, uint32 hintType, const char* hintMIME);
+			const translation_format* _CheckHints(
+									const translation_format* formats,
+									int32 formatsCount, uint32 hintType,
+									const char* hintMIME);
 
-		const translator_item* _FindTranslator(translator_id id) const;
-		const translator_item* _FindTranslator(const char* name) const;
-		const translator_item* _FindTranslator(entry_ref&amp; ref) const;
-		translator_item* _FindTranslator(node_ref&amp; nodeRef);
+			const translator_item* _FindTranslator(translator_id id) const;
+			const translator_item* _FindTranslator(const char* name) const;
+			const translator_item* _FindTranslator(entry_ref&amp; ref) const;
+			translator_item*	_FindTranslator(node_ref&amp; nodeRef);
 
-		int32 _CompareTranslatorDirectoryPriority(const entry_ref&amp; a,
-					const entry_ref&amp; b) const;
-		bool _IsKnownDirectory(const node_ref&amp; nodeRef) const;
+			int32				_CompareTranslatorDirectoryPriority(
+									const entry_ref&amp; a,
+									const entry_ref&amp; b) const;
+			bool				_IsKnownDirectory(const node_ref&amp; nodeRef)
+									const;
 
-		void _RemoveTranslators(const node_ref* nodeRef, const entry_ref* ref = NULL);
-		void _EntryAdded(const node_ref&amp; nodeRef, const char* name);
-		void _EntryAdded(const entry_ref&amp; ref);
-		void _NotifyListeners(BMessage&amp; update) const;
+			void				_RemoveTranslators(const node_ref* nodeRef,
+									const entry_ref* ref = NULL);
+			void				_EntryAdded(const node_ref&amp; nodeRef,
+									const char* name);
+			void				_EntryAdded(const entry_ref&amp; ref);
+			void				_NotifyListeners(BMessage&amp; update) const;
 
-		NodeRefList		fDirectories;
-		TranslatorMap	fTranslators;
-		MessengerList	fMessengers;
-		EntryRefSet		fRescanEntries;
-		int32			fNextID;
-		bool			fLazyScanning;
-		bool			fSafeMode;
+			NodeRefList			fDirectories;
+			TranslatorMap		fTranslators;
+			MessengerList		fMessengers;
+			EntryRefSet			fRescanEntries;
+			int32				fNextID;
+			bool				fLazyScanning;
+			bool				fSafeMode;
 };
 
+
 #endif	// TRANSLATOR_ROSTER_PRIVATE_H


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016932.html">[Haiku-commits] r30855 - in haiku/trunk: headers/os/translation	src/kits/translation
</A></li>
	<LI>Next message: <A HREF="016934.html">[Haiku-commits] r30857 - haiku/trunk/src/kits/translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16933">[ date ]</a>
              <a href="thread.html#16933">[ thread ]</a>
              <a href="subject.html#16933">[ subject ]</a>
              <a href="author.html#16933">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
