<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30537 - in haiku/vendor: . opentracker-locale	opentracker-locale/current opentracker-locale/current/add-ons	opentracker-locale/current/add-ons/catalogs	opentracker-locale/current/add-ons/catalogs/zeta	opentracker-locale/current/add-ons/collators	opentracker-locale/current/apps opentracker-locale/current/build	opentracker-locale/current/include	opentracker-locale/current/include/posix	opentracker-locale/current/languages opentracker-locale/current/lib	opentracker-locale/current/preferences	opentracker-locale/current/test	opentracker-locale/current/test/number_format	opentracker-locale/current/test/number_format/generic_number_format	opentracker-locale/current/tools	opentracker-locale/current/tools/genprops	opentracker-locale/current/tools/genprops/data
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30537%20-%20in%20haiku/vendor%3A%20.%20opentracker-locale%0A%09opentracker-locale/current%20opentracker-locale/current/add-ons%0A%09opentracker-locale/current/add-ons/catalogs%0A%09opentracker-locale/current/add-ons/catalogs/zeta%0A%09opentracker-locale/current/add-ons/collators%0A%09opentracker-locale/current/apps%20opentracker-locale/current/build%0A%09opentracker-locale/current/include%0A%09opentracker-locale/current/include/posix%0A%09opentracker-locale/current/languages%20opentracker-locale/current/lib%0A%09opentracker-locale/current/preferences%0A%09opentracker-locale/current/test%0A%09opentracker-locale/current/test/number_format%0A%09opentracker-locale/current/test/number_format/generic_number_format%0A%09opentracker-locale/current/tools%0A%09opentracker-locale/current/tools/genprops%0A%09opentracker-locale/current/tools/genprops/data&In-Reply-To=%3C200905011827.n41IR4Iq028364%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016374.html">
   <LINK REL="Next"  HREF="016379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30537 - in haiku/vendor: . opentracker-locale	opentracker-locale/current opentracker-locale/current/add-ons	opentracker-locale/current/add-ons/catalogs	opentracker-locale/current/add-ons/catalogs/zeta	opentracker-locale/current/add-ons/collators	opentracker-locale/current/apps opentracker-locale/current/build	opentracker-locale/current/include	opentracker-locale/current/include/posix	opentracker-locale/current/languages opentracker-locale/current/lib	opentracker-locale/current/preferences	opentracker-locale/current/test	opentracker-locale/current/test/number_format	opentracker-locale/current/test/number_format/generic_number_format	opentracker-locale/current/tools	opentracker-locale/current/tools/genprops	opentracker-locale/current/tools/genprops/data</H1>
    <B>zooey at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30537%20-%20in%20haiku/vendor%3A%20.%20opentracker-locale%0A%09opentracker-locale/current%20opentracker-locale/current/add-ons%0A%09opentracker-locale/current/add-ons/catalogs%0A%09opentracker-locale/current/add-ons/catalogs/zeta%0A%09opentracker-locale/current/add-ons/collators%0A%09opentracker-locale/current/apps%20opentracker-locale/current/build%0A%09opentracker-locale/current/include%0A%09opentracker-locale/current/include/posix%0A%09opentracker-locale/current/languages%20opentracker-locale/current/lib%0A%09opentracker-locale/current/preferences%0A%09opentracker-locale/current/test%0A%09opentracker-locale/current/test/number_format%0A%09opentracker-locale/current/test/number_format/generic_number_format%0A%09opentracker-locale/current/tools%0A%09opentracker-locale/current/tools/genprops%0A%09opentracker-locale/current/tools/genprops/data&In-Reply-To=%3C200905011827.n41IR4Iq028364%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r30537 - in haiku/vendor: . opentracker-locale	opentracker-locale/current opentracker-locale/current/add-ons	opentracker-locale/current/add-ons/catalogs	opentracker-locale/current/add-ons/catalogs/zeta	opentracker-locale/current/add-ons/collators	opentracker-locale/current/apps opentracker-locale/current/build	opentracker-locale/current/include	opentracker-locale/current/include/posix	opentracker-locale/current/languages opentracker-locale/current/lib	opentracker-locale/current/preferences	opentracker-locale/current/test	opentracker-locale/current/test/number_format	opentracker-locale/current/test/number_format/generic_number_format	opentracker-locale/current/tools	opentracker-locale/current/tools/genprops	opentracker-locale/current/tools/genprops/data">zooey at mail.berlios.de
       </A><BR>
    <I>Fri May  1 20:27:04 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="016374.html">[Haiku-commits] r30536 - buildtools/trunk/gcc/gcc/config/mips
</A></li>
        <LI>Next message: <A HREF="016379.html">[Haiku-commits] r30538 -	haiku/trunk/src/add-ons/input_server/devices/keyboard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16377">[ date ]</a>
              <a href="thread.html#16377">[ thread ]</a>
              <a href="subject.html#16377">[ subject ]</a>
              <a href="author.html#16377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zooey
Date: 2009-05-01 20:26:59 +0200 (Fri, 01 May 2009)
New Revision: 30537
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=30537&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=30537&amp;view=rev</A>

Added:
   haiku/vendor/opentracker-locale/
   haiku/vendor/opentracker-locale/current/
   haiku/vendor/opentracker-locale/current/Jamfile
   haiku/vendor/opentracker-locale/current/Jamrules
   haiku/vendor/opentracker-locale/current/add-ons/
   haiku/vendor/opentracker-locale/current/add-ons/Jamfile
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/Jamfile
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/makefile
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Catalog.cpp
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Jamfile
   haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/makefile
   haiku/vendor/opentracker-locale/current/add-ons/collators/
   haiku/vendor/opentracker-locale/current/add-ons/collators/French.cpp
   haiku/vendor/opentracker-locale/current/add-ons/collators/French.rsrc
   haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.cpp
   haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.rsrc
   haiku/vendor/opentracker-locale/current/add-ons/collators/Jamfile
   haiku/vendor/opentracker-locale/current/add-ons/makefile
   haiku/vendor/opentracker-locale/current/apps/
   haiku/vendor/opentracker-locale/current/apps/Jamfile
   haiku/vendor/opentracker-locale/current/apps/RegExp.cpp
   haiku/vendor/opentracker-locale/current/apps/RegExp.h
   haiku/vendor/opentracker-locale/current/apps/collectcatkeys.cpp
   haiku/vendor/opentracker-locale/current/apps/collectcatkeys.rsrc
   haiku/vendor/opentracker-locale/current/apps/dumpcatalog.cpp
   haiku/vendor/opentracker-locale/current/apps/dumpcatalog.rsrc
   haiku/vendor/opentracker-locale/current/apps/linkcatkeys.cpp
   haiku/vendor/opentracker-locale/current/apps/linkcatkeys.rsrc
   haiku/vendor/opentracker-locale/current/apps/makefile
   haiku/vendor/opentracker-locale/current/build/
   haiku/vendor/opentracker-locale/current/build/BuildSettings
   haiku/vendor/opentracker-locale/current/build/ConfigRules
   haiku/vendor/opentracker-locale/current/build/DownloadRules
   haiku/vendor/opentracker-locale/current/build/FileRules
   haiku/vendor/opentracker-locale/current/build/FinalRules
   haiku/vendor/opentracker-locale/current/build/HelperRules
   haiku/vendor/opentracker-locale/current/build/MainBuildRules
   haiku/vendor/opentracker-locale/current/build/OverriddenJamRules
   haiku/vendor/opentracker-locale/current/build/UserBuildConfig.sample
   haiku/vendor/opentracker-locale/current/include/
   haiku/vendor/opentracker-locale/current/include/Catalog.h
   haiku/vendor/opentracker-locale/current/include/CatalogInAddOn.h
   haiku/vendor/opentracker-locale/current/include/Collator.h
   haiku/vendor/opentracker-locale/current/include/Country.h
   haiku/vendor/opentracker-locale/current/include/Currency.h
   haiku/vendor/opentracker-locale/current/include/DefaultCatalog.h
   haiku/vendor/opentracker-locale/current/include/FloatFormat.h
   haiku/vendor/opentracker-locale/current/include/FloatFormatImpl.h
   haiku/vendor/opentracker-locale/current/include/FloatFormatParameters.h
   haiku/vendor/opentracker-locale/current/include/Format.h
   haiku/vendor/opentracker-locale/current/include/FormatImpl.h
   haiku/vendor/opentracker-locale/current/include/FormatParameters.h
   haiku/vendor/opentracker-locale/current/include/GenericNumberFormat.h
   haiku/vendor/opentracker-locale/current/include/IntegerFormat.h
   haiku/vendor/opentracker-locale/current/include/IntegerFormatImpl.h
   haiku/vendor/opentracker-locale/current/include/IntegerFormatParameters.h
   haiku/vendor/opentracker-locale/current/include/Language.h
   haiku/vendor/opentracker-locale/current/include/Locale.h
   haiku/vendor/opentracker-locale/current/include/LocaleBuild.h
   haiku/vendor/opentracker-locale/current/include/LocaleRoster.h
   haiku/vendor/opentracker-locale/current/include/LocaleStrings.h
   haiku/vendor/opentracker-locale/current/include/NumberFormat.h
   haiku/vendor/opentracker-locale/current/include/NumberFormatImpl.h
   haiku/vendor/opentracker-locale/current/include/NumberFormatParameters.h
   haiku/vendor/opentracker-locale/current/include/UnicodeChar.h
   haiku/vendor/opentracker-locale/current/include/posix/
   haiku/vendor/opentracker-locale/current/include/posix/langinfo.h
   haiku/vendor/opentracker-locale/current/include/posix/monetary.h
   haiku/vendor/opentracker-locale/current/include/posix/nl_types.h
   haiku/vendor/opentracker-locale/current/languages/
   haiku/vendor/opentracker-locale/current/languages/Jamfile
   haiku/vendor/opentracker-locale/current/languages/deutsch.language
   haiku/vendor/opentracker-locale/current/languages/fran?\195?\167ais.language
   haiku/vendor/opentracker-locale/current/languages/makefile
   haiku/vendor/opentracker-locale/current/lib/
   haiku/vendor/opentracker-locale/current/lib/Catalog.cpp
   haiku/vendor/opentracker-locale/current/lib/Collator.cpp
   haiku/vendor/opentracker-locale/current/lib/Country.cpp
   haiku/vendor/opentracker-locale/current/lib/Currency.cpp
   haiku/vendor/opentracker-locale/current/lib/DefaultCatalog.cpp
   haiku/vendor/opentracker-locale/current/lib/FloatFormat.cpp
   haiku/vendor/opentracker-locale/current/lib/FloatFormatImpl.cpp
   haiku/vendor/opentracker-locale/current/lib/FloatFormatParameters.cpp
   haiku/vendor/opentracker-locale/current/lib/Format.cpp
   haiku/vendor/opentracker-locale/current/lib/FormatImpl.cpp
   haiku/vendor/opentracker-locale/current/lib/FormatParameters.cpp
   haiku/vendor/opentracker-locale/current/lib/GenericNumberFormat.cpp
   haiku/vendor/opentracker-locale/current/lib/IntegerFormat.cpp
   haiku/vendor/opentracker-locale/current/lib/IntegerFormatImpl.cpp
   haiku/vendor/opentracker-locale/current/lib/IntegerFormatParameters.cpp
   haiku/vendor/opentracker-locale/current/lib/Jamfile
   haiku/vendor/opentracker-locale/current/lib/Language.cpp
   haiku/vendor/opentracker-locale/current/lib/LibraryInit.cpp
   haiku/vendor/opentracker-locale/current/lib/Locale.cpp
   haiku/vendor/opentracker-locale/current/lib/LocaleRoster.cpp
   haiku/vendor/opentracker-locale/current/lib/NumberFormat.cpp
   haiku/vendor/opentracker-locale/current/lib/NumberFormatImpl.cpp
   haiku/vendor/opentracker-locale/current/lib/NumberFormatParameters.cpp
   haiku/vendor/opentracker-locale/current/lib/OpenHashTable.h
   haiku/vendor/opentracker-locale/current/lib/PropertyFile.cpp
   haiku/vendor/opentracker-locale/current/lib/PropertyFile.h
   haiku/vendor/opentracker-locale/current/lib/UnicodeChar.cpp
   haiku/vendor/opentracker-locale/current/lib/UnicodeProperties.h
   haiku/vendor/opentracker-locale/current/lib/adler32.c
   haiku/vendor/opentracker-locale/current/lib/cat.cpp
   haiku/vendor/opentracker-locale/current/lib/langinfo.cpp
   haiku/vendor/opentracker-locale/current/lib/makefile
   haiku/vendor/opentracker-locale/current/lib/strfmon.cpp
   haiku/vendor/opentracker-locale/current/makefile
   haiku/vendor/opentracker-locale/current/preferences/
   haiku/vendor/opentracker-locale/current/preferences/Jamfile
   haiku/vendor/opentracker-locale/current/preferences/Locale.cpp
   haiku/vendor/opentracker-locale/current/preferences/Locale.h
   haiku/vendor/opentracker-locale/current/preferences/Locale.rsrc
   haiku/vendor/opentracker-locale/current/preferences/LocaleWindow.cpp
   haiku/vendor/opentracker-locale/current/preferences/LocaleWindow.h
   haiku/vendor/opentracker-locale/current/test/
   haiku/vendor/opentracker-locale/current/test/Jamfile
   haiku/vendor/opentracker-locale/current/test/catalogSpeed.cpp
   haiku/vendor/opentracker-locale/current/test/catalogTest.cpp
   haiku/vendor/opentracker-locale/current/test/catalogTestAddOn.cpp
   haiku/vendor/opentracker-locale/current/test/collatorSpeed.cpp
   haiku/vendor/opentracker-locale/current/test/collatorTest.cpp
   haiku/vendor/opentracker-locale/current/test/genericNumberFormatTest.cpp
   haiku/vendor/opentracker-locale/current/test/localeTest.cpp
   haiku/vendor/opentracker-locale/current/test/makefile
   haiku/vendor/opentracker-locale/current/test/number_format/
   haiku/vendor/opentracker-locale/current/test/number_format/Jamfile
   haiku/vendor/opentracker-locale/current/test/number_format/NumberFormatTestAddOn.cpp
   haiku/vendor/opentracker-locale/current/test/number_format/generic_number_format/
   haiku/vendor/opentracker-locale/current/test/number_format/generic_number_format/GenericNumberFormatConstructorTest.cpp
   haiku/vendor/opentracker-locale/current/test/number_format/generic_number_format/GenericNumberFormatConstructorTest.h
   haiku/vendor/opentracker-locale/current/test/number_format/generic_number_format/GenericNumberFormatTests.cpp
   haiku/vendor/opentracker-locale/current/test/number_format/generic_number_format/GenericNumberFormatTests.h
   haiku/vendor/opentracker-locale/current/tools/
   haiku/vendor/opentracker-locale/current/tools/Jamfile
   haiku/vendor/opentracker-locale/current/tools/genprops/
   haiku/vendor/opentracker-locale/current/tools/genprops/Jamfile
   haiku/vendor/opentracker-locale/current/tools/genprops/PropertyFile.cpp
   haiku/vendor/opentracker-locale/current/tools/genprops/PropertyFile.h
   haiku/vendor/opentracker-locale/current/tools/genprops/data/
   haiku/vendor/opentracker-locale/current/tools/genprops/data/CaseFolding.txt
   haiku/vendor/opentracker-locale/current/tools/genprops/data/Mirror.txt
   haiku/vendor/opentracker-locale/current/tools/genprops/data/SpecialCasing.txt
   haiku/vendor/opentracker-locale/current/tools/genprops/data/UnicodeData.txt
   haiku/vendor/opentracker-locale/current/tools/genprops/genprops.cpp
   haiku/vendor/opentracker-locale/current/tools/genprops/genprops.h
   haiku/vendor/opentracker-locale/current/tools/genprops/license.html
   haiku/vendor/opentracker-locale/current/tools/genprops/makefile
   haiku/vendor/opentracker-locale/current/tools/genprops/store.cpp
   haiku/vendor/opentracker-locale/current/tools/genprops/utf.h
   haiku/vendor/opentracker-locale/current/tools/genprops/utf8.cpp
   haiku/vendor/opentracker-locale/current/tools/genprops/utf8.h
   haiku/vendor/opentracker-locale/current/tools/makefile
Log:
* importing OpenTracker Locale Kit

Added: haiku/vendor/opentracker-locale/current/Jamfile
===================================================================
--- haiku/vendor/opentracker-locale/current/Jamfile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/Jamfile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,11 @@
+SubDir LOCALE_TOP ;
+
+SubInclude LOCALE_TOP add-ons ;
+SubInclude LOCALE_TOP apps ;
+SubInclude LOCALE_TOP languages ;
+SubInclude LOCALE_TOP lib ;
+SubInclude LOCALE_TOP preferences ;
+SubInclude LOCALE_TOP test ;
+SubInclude LOCALE_TOP tools ;
+
+InvokeFinalRules ;

Added: haiku/vendor/opentracker-locale/current/Jamrules
===================================================================
--- haiku/vendor/opentracker-locale/current/Jamrules	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/Jamrules	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,34 @@
+
+# The directories used by the build.
+LOCALE_BUILD_DIR			= [ FDirName $(LOCALE_TOP) build ] ;
+LOCALE_INCLUDE_DIR			= [ FDirName $(LOCALE_TOP) include ] ;
+LOCALE_POSIX_INCLUDE_DIR	= [ FDirName $(LOCALE_TOP) include posix ] ;
+LOCALE_GENERATED_DIR		= [ FDirName $(LOCALE_TOP) generated ] ;
+LOCALE_DISTRO_DIR			= [ FDirName $(LOCALE_TOP) generated distro ] ;
+LOCALE_DOWNLOADS_DIR		= [ FDirName $(LOCALE_TOP) generated downloads ] ;
+LOCALE_OBJECTS_DIR			= [ FDirName $(LOCALE_TOP) generated objects ] ;
+LOCALE_UNITTESTS_DIR		= [ FDirName $(LOCALE_TOP) generated unittests ] ;
+
+# Cache files for header scanning and jamfile caching.
+HCACHEFILE = header_cache ;
+JCACHEFILE = jamfile_cache ;
+LOCATE on $(HCACHEFILE) $(JCACHEFILE) = $(LOCALE_OBJECTS_DIR) ;
+
+include [ FDirName $(LOCALE_BUILD_DIR) HelperRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) ConfigRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) DownloadRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) FinalRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) FileRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) OverriddenJamRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) MainBuildRules ] ;
+include [ FDirName $(LOCALE_BUILD_DIR) BuildSettings ] ;
+
+# Include UserBuildConfig.
+{
+	local userBuildConfig = [ GLOB $(LOCALE_BUILD_DIR) : UserBuildConfig ] ;
+	if $(userBuildConfig)
+	{
+		LOCATE on UserBuildConfig = $(LOCALE_BUILD_DIR) ;
+		include UserBuildConfig ;
+	}
+}

Added: haiku/vendor/opentracker-locale/current/add-ons/Jamfile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/Jamfile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/Jamfile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,4 @@
+SubDir LOCALE_TOP add-ons ;
+
+SubInclude LOCALE_TOP add-ons catalogs ;
+SubInclude LOCALE_TOP add-ons collators ;

Added: haiku/vendor/opentracker-locale/current/add-ons/catalogs/Jamfile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/catalogs/Jamfile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/catalogs/Jamfile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,3 @@
+SubDir LOCALE_TOP add-ons catalogs ;
+
+SubInclude LOCALE_TOP add-ons catalogs zeta ;

Added: haiku/vendor/opentracker-locale/current/add-ons/catalogs/makefile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/catalogs/makefile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/catalogs/makefile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,9 @@
+# makefile for the Locale Kit Collator add-ons
+
+SUBDIRS = \
+	zeta \
+
+default .DEFAULT :
+	<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">- at for</A> f in $(SUBDIRS) ; do \
+		$(MAKE) -C $$f -f makefile $@; \
+	done

Added: haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Catalog.cpp
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Catalog.cpp	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Catalog.cpp	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,89 @@
+/* 
+** Copyright 2003, Oliver Tappe, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">zooey at hirschkaefer.de.</A> All rights reserved.
+** Distributed under the terms of the OpenBeOS License.
+*/
+
+#include &lt;syslog.h&gt;
+
+#include &lt;Application.h&gt;
+#include &lt;Directory.h&gt;
+#include &lt;File.h&gt;
+#include &lt;FindDirectory.h&gt;
+#include &lt;Message.h&gt;
+#include &lt;Path.h&gt;
+#include &lt;Roster.h&gt;
+
+#include &lt;Catalog.h&gt;
+#include &lt;LocaleRoster.h&gt;
+
+/**	This implements a compatibility catalog-type which uses the catalogs
+ *    supplied by the Zeta Locale Kit.
+ */
+
+class ZetaCatalog : public BCatalogAddOn {
+
+	public:
+		ZetaCatalog(const char *signature, const char *language, 
+			int32 fingerprint);
+		~ZetaCatalog();
+
+		const char *GetString(const char *string, const char *context=NULL,
+						const char *comment=NULL);
+		const char *GetString(uint32 id);
+
+	private:
+
+};
+
+ZetaCatalog::ZetaCatalog(const char *signature, const char *language, 
+	int32 fingerprint)
+	:
+	BCatalogAddOn(signature, language, fingerprint)
+{
+	app_info appInfo;
+	be_app-&gt;GetAppInfo(&amp;appInfo); 
+	node_ref nref;
+	nref.device = appInfo.ref.device;
+	nref.node = appInfo.ref.directory;
+	BDirectory appDir( &amp;nref);
+
+	// ToDo: implement loading of zeta-catalog 
+	fInitCheck = EOPNOTSUPP;
+
+	log_team(LOG_DEBUG, 
+		&quot;trying to load zeta-catalog with sig %s for lang %s results in %s&quot;,
+		signature, language, strerror(fInitCheck));
+}
+
+ZetaCatalog::~ZetaCatalog()
+{
+}
+
+const char *
+ZetaCatalog::GetString(const char *string, const char *context,
+	const char *comment)
+{
+	return &quot;zeta-string-by-string&quot;;
+}
+
+const char *
+ZetaCatalog::GetString(uint32 id)
+{
+	return &quot;zeta-string-by-id&quot;;
+}
+
+
+
+extern &quot;C&quot; BCatalogAddOn *
+instantiate_catalog(const char *signature, const char *language, int32 fingerprint)
+{
+	ZetaCatalog *catalog = new ZetaCatalog(signature, language, fingerprint);
+	if (catalog &amp;&amp; catalog-&gt;InitCheck() != B_OK) {
+		delete catalog;
+		return NULL;
+	}
+	return catalog;
+}
+
+uint8 gCatalogAddOnPriority = 5;
+	// priority for Zeta catalog-add-on

Added: haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Jamfile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Jamfile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/Jamfile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,3 @@
+SubDir LOCALE_TOP add-ons catalogs zeta ;
+
+AddOn zeta : Catalog.cpp : be liblocale.so ;

Added: haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/makefile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/makefile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/catalogs/zeta/makefile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,146 @@
+## BeOS Generic Makefile v2.2 ##
+
+## Fill in this file to specify the project being created, and the referenced
+## makefile-engine will do all of the hard work for you.  This handles both
+## Intel and PowerPC builds of the BeOS.
+
+## Application Specific Settings ---------------------------------------------
+
+# specify the name of the binary
+NAME= zeta
+
+# specify the type of binary
+#	APP:	Application
+#	SHARED:	Shared library or add-on
+#	STATIC:	Static library archive
+#	DRIVER: Kernel Driver
+TYPE= SHARED
+
+#	add support for new Pe and Eddie features
+#	to fill in generic makefile
+
+#%{
+# @src-&gt;@ 
+
+#	specify the source files to use
+#	full paths or paths relative to the makefile can be included
+# 	all files, regardless of directory, will have their object
+#	files created in the common object directory.
+#	Note that this means this makefile will not work correctly
+#	if two source files with the same name (source.c or source.cpp)
+#	are included from different directories.  Also note that spaces
+#	in folder names do not work well with this makefile.
+SRCS= Catalog.cpp
+
+#	specify the resource files to use
+#	full path or a relative path to the resource file can be used.
+RSRCS=
+
+# @&lt;-src@ 
+#%}
+
+#	end support for Pe and Eddie
+
+#	specify additional libraries to link against
+#	there are two acceptable forms of library specifications
+#	-	if your library follows the naming pattern of:
+#		libXXX.so or libXXX.a you can simply specify XXX
+#		library: libbe.so entry: be
+#		
+#	- 	if your library does not follow the standard library
+#		naming scheme you need to specify the path to the library
+#		and it's name
+#		library: my_lib.a entry: my_lib.a or path/my_lib.a
+LIBS= be locale
+
+#	specify additional paths to directories following the standard
+#	libXXX.so or libXXX.a naming scheme.  You can specify full paths
+#	or paths relative to the makefile.  The paths included may not
+#	be recursive, so include all of the paths where libraries can
+#	be found.  Directories where source files are found are
+#	automatically included.
+LIBPATHS=../../../lib
+
+#	additional paths to look for system headers
+#	thes use the form: #include &lt;header&gt;
+#	source file directories are NOT auto-included here
+SYSTEM_INCLUDE_PATHS = ../../../include
+
+#	additional paths to look for local headers
+#	thes use the form: #include &quot;header&quot;
+#	source file directories are automatically included
+LOCAL_INCLUDE_PATHS = 
+
+#	specify the level of optimization that you desire
+#	NONE, SOME, FULL
+OPTIMIZE= SOME
+
+#	specify any preprocessor symbols to be defined.  The symbols will not
+#	have their values set automatically; you must supply the value (if any)
+#	to use.  For example, setting DEFINES to &quot;DEBUG=1&quot; will cause the
+#	compiler option &quot;-DDEBUG=1&quot; to be used.  Setting DEFINES to &quot;DEBUG&quot;
+#	would pass &quot;-DDEBUG&quot; on the compiler's command line.
+DEFINES= 
+
+#	specify special warning levels
+#	if unspecified default warnings will be used
+#	NONE = supress all warnings
+#	ALL = enable all warnings
+WARNINGS = ALL 
+
+#	specify whether image symbols will be created
+#	so that stack crawls in the debugger are meaningful
+#	if TRUE symbols will be created
+SYMBOLS = TRUE
+
+#	specify debug settings
+#	if TRUE will allow application to be run from a source-level
+#	debugger.  Note that this will disable all optimzation.
+DEBUGGER = TRUE
+
+#	specify additional compiler flags for all files
+COMPILER_FLAGS =
+
+#	specify additional linker flags
+LINKER_FLAGS =
+
+#	specify the version of this particular item
+#	(for example, -app 3 4 0 d 0 -short 340 -long &quot;340 &quot;`echo -n -e '\302\251'`&quot;1999 GNU GPL&quot;) 
+#	This may also be specified in a resource.
+APP_VERSION = 
+
+#	(for TYPE == DRIVER only) Specify desired location of driver in the /dev
+#	hierarchy. Used by the driverinstall rule. E.g., DRIVER_PATH = video/usb will
+#	instruct the driverinstall rule to place a symlink to your driver's binary in
+#	~/add-ons/kernel/drivers/dev/video/usb, so that your driver will appear at
+#	/dev/video/usb when loaded. Default is &quot;misc&quot;.
+DRIVER_PATH = 
+
+#MACHINE=$(shell uname -m)
+#ifneq ($(MACHINE),BePC)
+#	COMPILER_FLAGS += -w iserr
+#else
+#	COMPILER_FLAGS += -Werror
+#endif
+
+#   Custom overrides that can be set from the command line.
+ifeq ($(DEBUG_BUILD), true)
+	SYMBOLS := TRUE
+	DEBUGGER := TRUE
+	OPTIMIZE := NONE
+	COMPILER_FLAGS += -DDEBUG=1
+endif
+
+ifeq ($(CHECK_MEM), true)
+	SYMBOLS := TRUE
+	DEBUGGER := TRUE
+	OPTIMIZE := NONE
+	COMPILER_FLAGS += -fcheck-memory-usage -DDEBUG=1 -D_NO_INLINE_ASM=1 -D_KERNEL_MODE=1
+endif
+
+INSTALL_DIR=/boot/home/config/add-ons/locale/catalogs
+TARGET_DIR=.
+
+## include the makefile-engine
+include $(BUILDHOME)/etc/makefile-engine
+

Added: haiku/vendor/opentracker-locale/current/add-ons/collators/French.cpp
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/collators/French.cpp	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/collators/French.cpp	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,272 @@
+/* 
+** Copyright 2003, Axel D&#246;rfler, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de.</A> All rights reserved.
+** Distributed under the terms of the OpenBeOS License.
+*/
+
+
+#include &lt;Collator.h&gt;
+#include &lt;UnicodeChar.h&gt;
+#include &lt;String.h&gt;
+#include &lt;Message.h&gt;
+
+#include &lt;ctype.h&gt;
+
+
+struct compare_context {
+	compare_context(bool ignorePunctuation)
+		:
+		inputA(ignorePunctuation),
+		inputB(ignorePunctuation)
+	{
+	}
+
+	typedef BCollatorAddOn::input_context input_context;
+
+	const char		*a;
+	const char		*b;
+	input_context	inputA;
+	input_context	inputB;
+	size_t			length;
+};
+
+class FrenchCollator : public BCollatorAddOn {
+	public:
+		FrenchCollator();
+		FrenchCollator(BMessage *archive);
+		~FrenchCollator();
+
+		virtual status_t GetSortKey(const char *string, BString *key, int8 strength,
+						bool ignorePunctuation);
+		virtual int Compare(const char *a, const char *b, int32 length, int8 strength,
+						bool ignorePunctuation);
+
+		// (un-)archiving API
+		virtual status_t Archive(BMessage *archive, bool deep) const;
+		static BArchivable *Instantiate(BMessage *archive);
+
+	private:
+		int CompareSecondary(compare_context &amp;context);
+
+		typedef BCollatorAddOn _inherited;
+};
+
+
+static const char *kSignature = &quot;application/x-vnd.locale-collator.french&quot;;
+
+
+inline char
+uint32_to_char(uint32 c)
+{
+	if (c &gt; 255)
+		return 255;
+
+	return (char)c;
+}
+
+
+//	#pragma mark -
+
+
+FrenchCollator::FrenchCollator()
+{
+}
+
+
+FrenchCollator::FrenchCollator(BMessage *archive)
+	: BCollatorAddOn(archive)
+{
+}
+
+
+FrenchCollator::~FrenchCollator()
+{
+}
+
+
+int
+FrenchCollator::CompareSecondary(compare_context &amp;context)
+{
+	if (context.length-- &lt;= 0)
+		return 0;
+
+	uint32 charA = BUnicodeChar::ToLower(GetNextChar(&amp;context.a, context.inputA));
+	uint32 charB = BUnicodeChar::ToLower(GetNextChar(&amp;context.b, context.inputB));
+
+	// the two strings does have the same size when we get here
+	// (unfortunately, &quot;length&quot; is specified in bytes, not characters [if it was -1])
+	if (charA == 0)
+		return 0;
+
+	int compare = CompareSecondary(context);
+	if (compare != 0)
+		return compare;
+
+	return (int32)charA - (int32)charB;
+}
+
+
+status_t 
+FrenchCollator::GetSortKey(const char *string, BString *key, int8 strength,
+	bool ignorePunctuation)
+{
+	if (strength == B_COLLATE_PRIMARY)
+		return _inherited::GetSortKey(string, key, strength, ignorePunctuation);
+
+	size_t length = strlen(string);
+
+	if (strength &gt; B_COLLATE_QUATERNARY) {
+		key-&gt;SetTo(string, length);
+		return B_OK;
+			// what can we do about that?
+	}
+
+	if (strength &gt;= B_COLLATE_QUATERNARY) {
+		// the difference between tertiary and quaternary collation strength
+		// are usually a different handling of punctuation characters
+		ignorePunctuation = false;
+	}
+
+	size_t keyLength = PrimaryKeyLength(length) + length + 1;
+		// the primary key + the secondary key + separator char
+	if (strength != B_COLLATE_SECONDARY) {
+		keyLength += length + 1;
+			// the secondary key + the tertiary key + separator char
+	}
+
+	char *begin = key-&gt;LockBuffer(keyLength);
+	if (begin == NULL)
+		return B_NO_MEMORY;
+
+	char *buffer = PutPrimaryKey(string, begin, length, ignorePunctuation);
+	*buffer++ = '\01';
+		// separator
+
+	char *secondary = buffer;
+
+	input_context context(ignorePunctuation);
+	const char *source = string;
+	uint32 c;
+	for (uint32 i = 0; (c = GetNextChar(&amp;source, context)) &amp;&amp; i &lt; length; i++) {
+		*buffer++ = uint32_to_char(BUnicodeChar::ToLower(c));
+			// we only support Latin-1 characters here
+			// ToDo: this creates a non UTF-8 sort key - is that what we want?
+	}
+
+	// reverse key
+
+	char *end = buffer - 1;
+	while (secondary &lt; end) {
+		char c = secondary[0];
+
+		*secondary++ = end[0];
+		*end-- = c;
+	}
+
+	// apply tertiary collation if necessary
+
+	if (strength != B_COLLATE_SECONDARY) {
+		*buffer++ = '\01';
+			// separator
+
+		input_context context(ignorePunctuation);
+		source = string;
+		uint32 c;
+		for (uint32 i = 0; (c = GetNextChar(&amp;source, context)) &amp;&amp; i &lt; length; i++) {
+			// ToDo: same problem as above, no UTF-8 key
+			if (BUnicodeChar::IsLower(c))
+				*buffer++ = uint32_to_char(BUnicodeChar::ToUpper(c));
+			else
+				*buffer++ = uint32_to_char(BUnicodeChar::ToLower(c));
+		}
+	}
+
+	*buffer = '\0';
+	key-&gt;UnlockBuffer(buffer - begin);
+
+	return B_OK;
+}
+
+
+int 
+FrenchCollator::Compare(const char *a, const char *b, int32 length, int8 strength,
+	bool ignorePunctuation)
+{
+	int compare = _inherited::Compare(a, b, length, B_COLLATE_PRIMARY, ignorePunctuation);
+	if (strength == B_COLLATE_PRIMARY || compare != 0)
+		return compare;
+	else if (strength &gt;= B_COLLATE_QUATERNARY) {
+		// the difference between tertiary and quaternary collation strength
+		// are usually a different handling of punctuation characters
+		ignorePunctuation = false;
+	}
+
+	compare_context context(ignorePunctuation);
+	context.a = a;
+	context.b = b;
+	context.length = length;
+
+	switch (strength) {
+		case B_COLLATE_SECONDARY:
+			return CompareSecondary(context);
+
+		case B_COLLATE_TERTIARY:
+		case B_COLLATE_QUATERNARY:
+		{
+			// diacriticals can only change the order between equal strings
+			int32 compare = Compare(a, b, length, B_COLLATE_SECONDARY, ignorePunctuation);
+			if (compare != 0)
+				return compare;
+
+			for (int32 i = 0; i &lt; length; i++) {
+				uint32 charA = GetNextChar(&amp;a, context.inputA);
+				uint32 charB = GetNextChar(&amp;b, context.inputB);
+
+				// the two strings does have the same size when we get here
+				if (charA == 0)
+					return 0;
+
+				if (charA != charB)
+					return (int32)charB - (int32)charA;
+			}
+			return 0;
+		}
+
+		case B_COLLATE_IDENTICAL:
+		default:
+			return strncmp(a, b, length);
+	}
+}
+
+
+status_t 
+FrenchCollator::Archive(BMessage *archive, bool deep) const
+{
+	status_t status = BArchivable::Archive(archive, deep);
+
+	// add the add-on signature, so that the roster can load
+	// us on demand!
+	if (status == B_OK)
+		status = archive-&gt;AddString(&quot;add_on&quot;, kSignature);
+
+	return status;
+}
+
+
+BArchivable *
+FrenchCollator::Instantiate(BMessage *archive)
+{
+	if (validate_instantiation(archive, &quot;FrenchCollator&quot;))
+		return new FrenchCollator(archive);
+
+	return NULL;
+}
+
+
+//	#pragma mark -
+
+
+extern &quot;C&quot; BCollatorAddOn *
+instantiate_collator(void)
+{
+	return new FrenchCollator();
+}

Added: haiku/vendor/opentracker-locale/current/add-ons/collators/French.rsrc
===================================================================
(Binary files differ)


Property changes on: haiku/vendor/opentracker-locale/current/add-ons/collators/French.rsrc
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.cpp
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.cpp	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.cpp	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,131 @@
+/* 
+** Copyright 2003, Axel D&#246;rfler, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de.</A> All rights reserved.
+** Distributed under the terms of the OpenBeOS License.
+*/
+
+
+#include &lt;Collator.h&gt;
+#include &lt;UnicodeChar.h&gt;
+#include &lt;String.h&gt;
+#include &lt;Message.h&gt;
+
+#include &lt;ctype.h&gt;
+
+
+/**	This implements a German DIN-2 collator. It replaces German umlauts
+ *	like &quot;&#228;&quot; with &quot;ae&quot;, or &quot;&#246;&quot; with &quot;oe&quot;, etc.
+ *	For all other characters, it does the same as its parent class,
+ *	BCollatorAddOn.
+ *	This method is intended for sorting names (while DIN-1 is intended
+ *	for words, BCollatorAddOn is already compatible with that method).
+ *	It is used in German telephone books, for example.
+ */
+
+class CollatorDeutsch : public BCollatorAddOn {
+	public:
+		CollatorDeutsch();
+		CollatorDeutsch(BMessage *archive);
+		~CollatorDeutsch();
+		
+		// (un-)archiving API
+		virtual status_t Archive(BMessage *archive, bool deep) const;
+		static BArchivable *Instantiate(BMessage *archive);
+
+	protected:
+		virtual uint32 GetNextChar(const char **string, input_context &amp;context);
+};
+
+
+static const char *kSignature = &quot;application/x-vnd.locale-collator.germanDIN-2&quot;;
+
+
+CollatorDeutsch::CollatorDeutsch()
+{
+}
+
+
+CollatorDeutsch::CollatorDeutsch(BMessage *archive)
+	: BCollatorAddOn(archive)
+{
+}
+
+
+CollatorDeutsch::~CollatorDeutsch()
+{
+}
+
+
+uint32
+CollatorDeutsch::GetNextChar(const char **string, input_context &amp;context)
+{
+	uint32 c = context.next_char;
+	if (c != 0) {
+		context.next_char = 0;
+		return c;
+	}
+
+	do {
+		c = BUnicodeChar::FromUTF8(string);
+	} while (context.ignore_punctuation
+		&amp;&amp; (BUnicodeChar::IsPunctuation(c) || BUnicodeChar::IsSpace(c)));
+
+	switch (c) {
+		case 223:	// &#223;
+			context.next_char = 's';
+			return 's';
+		case 196:	// Ae
+			context.next_char = 'e';
+			return 'A';
+		case 214:	// Oe
+			context.next_char = 'e';
+			return 'O';
+		case 220:	// Ue
+			context.next_char = 'e';
+			return 'U';
+		case 228:	// ae
+			context.next_char = 'e';
+			return 'a';
+		case 246:	// oe
+			context.next_char = 'e';
+			return 'o';
+		case 252:	// ue
+			context.next_char = 'e';
+			return 'u';
+	}
+
+	return c;
+}
+
+
+status_t 
+CollatorDeutsch::Archive(BMessage *archive, bool deep) const
+{
+	status_t status = BArchivable::Archive(archive, deep);
+
+	// add the add-on signature, so that the roster can load
+	// us on demand!
+	if (status == B_OK)
+		status = archive-&gt;AddString(&quot;add_on&quot;, kSignature);
+
+	return status;
+}
+
+
+BArchivable *
+CollatorDeutsch::Instantiate(BMessage *archive)
+{
+	if (validate_instantiation(archive, &quot;CollatorDeutsch&quot;))
+		return new CollatorDeutsch(archive);
+
+	return NULL;
+}
+
+
+//	#pragma mark -
+
+
+extern &quot;C&quot; BCollatorAddOn *
+instantiate_collator(void)
+{
+	return new CollatorDeutsch();
+}

Added: haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.rsrc
===================================================================
(Binary files differ)


Property changes on: haiku/vendor/opentracker-locale/current/add-ons/collators/GermanDIN-2.rsrc
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: haiku/vendor/opentracker-locale/current/add-ons/collators/Jamfile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/collators/Jamfile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/collators/Jamfile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,15 @@
+SubDir LOCALE_TOP add-ons collators ;
+
+rule Collator
+{
+	# Collator &lt;sources&gt; ;
+	local sources = $(1) ;
+	local name = $(sources[1]:B) ;
+	local rsrc = $(name:S=.rsrc) ;
+	AddResources $(name) : $(rsrc) ;
+	AddOn $(name) : $(sources) : be liblocale.so ;
+}
+
+Collator GermanDIN-2.cpp ;
+Collator French.cpp ;
+

Added: haiku/vendor/opentracker-locale/current/add-ons/makefile
===================================================================
--- haiku/vendor/opentracker-locale/current/add-ons/makefile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/add-ons/makefile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,10 @@
+# makefile for the Locale Kit add-ons
+
+SUBDIRS = \
+	catalogs \
+	collators \
+
+default .DEFAULT :
+	<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">- at for</A> f in $(SUBDIRS) ; do \
+		$(MAKE) -C $$f -f makefile $@; \
+	done

Added: haiku/vendor/opentracker-locale/current/apps/Jamfile
===================================================================
--- haiku/vendor/opentracker-locale/current/apps/Jamfile	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/apps/Jamfile	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,10 @@
+SubDir LOCALE_TOP apps ;
+
+AddResources collectcatkeys : collectcatkeys.rsrc ;
+Application collectcatkeys : collectcatkeys.cpp RegExp.cpp : be liblocale.so ;
+
+AddResources linkcatkeys : linkcatkeys.rsrc ;
+Application linkcatkeys : linkcatkeys.cpp : be liblocale.so ;
+
+AddResources dumpcatalog ;
+Application dumpcatalog : dumpcatalog.cpp : be liblocale.so ;

Added: haiku/vendor/opentracker-locale/current/apps/RegExp.cpp
===================================================================
--- haiku/vendor/opentracker-locale/current/apps/RegExp.cpp	2009-05-01 15:23:48 UTC (rev 30536)
+++ haiku/vendor/opentracker-locale/current/apps/RegExp.cpp	2009-05-01 18:26:59 UTC (rev 30537)
@@ -0,0 +1,1340 @@
+/*
+Open Tracker License
+
+Terms and Conditions
+
+Copyright (c) 1991-2000, Be Incorporated. All rights reserved.
+
+Permission is hereby granted, free of charge, to any person obtaining a copy of
+this software and associated documentation files (the &quot;Software&quot;), to deal in
+the Software without restriction, including without limitation the rights to
+use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
+of the Software, and to permit persons to whom the Software is furnished to do
+so, subject to the following conditions:
+
+The above copyright notice and this permission notice applies to all licensees
+and shall be included in all copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF TITLE, MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+BE INCORPORATED BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN
+AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF, OR IN CONNECTION
+WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+
+Except as contained in this notice, the name of Be Incorporated shall not be
+used in advertising or otherwise to promote the sale, use or other dealings in
+this Software without prior written authorization from Be Incorporated.
+
+Tracker(TM), Be(R), BeOS(R), and BeIA(TM) are trademarks or registered trademarks
+of Be Incorporated in the United States and other countries. Other brand product
+names are registered trademarks or trademarks of their respective holders.
+All rights reserved.
+*/
+
+// This code is based on regexp.c, v.1.3 by Henry Spencer:
+
+// @(#)regexp.c	1.3 of 18 April 87
+//
+//	Copyright (c) 1986 by University of Toronto.
+//	Written by Henry Spencer.  Not derived from licensed software.
+//
+//	Permission is granted to anyone to use this software for any
+//	purpose on any computer system, and to redistribute it freely,
+//	subject to the following restrictions:
+//
+//	1. The author is not responsible for the consequences of use of
+//		this software, no matter how awful, even if they arise
+//		from defects in it.
+//
+//	2. The origin of this software must not be misrepresented, either
+//		by explicit claim or by omission.
+//
+//	3. Altered versions must be plainly marked as such, and must not
+//		be misrepresented as being the original software.
+//
+// Beware that some of this code is subtly aware of the way operator
+// precedence is structured in regular expressions.  Serious changes in
+// regular-expression syntax might require a total rethink.
+//
+
+// ALTERED VERSION: Adapted to ANSI C and C++ for the OpenTracker
+// project (www.opentracker.org), Jul 11, 2000.
+
+#include &lt;malloc.h&gt;
+#include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
+
+#include &lt;Errors.h&gt;
+
+#include &quot;RegExp.h&quot;
+
+// The first byte of the regexp internal &quot;program&quot; is actually this magic
+// number; the start node begins in the second byte.
+
+const uint8 kRegExpMagic = 0234;
+
+// The &quot;internal use only&quot; fields in RegExp.h are present to pass info from
+// compile to execute that permits the execute phase to run lots faster on
+// simple cases.  They are:
+//
+// regstart	char that must begin a match; '\0' if none obvious
+// reganch	is the match anchored (at beginning-of-line only)?
+// regmust	string (pointer into program) that match must include, or NULL
+// regmlen	length of regmust string
+//
+// Regstart and reganch permit very fast decisions on suitable starting points
+// for a match, cutting down the work a lot.  Regmust permits fast rejection
+// of lines that cannot possibly match.  The regmust tests are costly enough
+// that Compile() supplies a regmust only if the r.e. contains something
+// potentially expensive (at present, the only such thing detected is * or +
+// at the start of the r.e., which can involve a lot of backup).  Regmlen is
+// supplied because the test in RunMatcher() needs it and Compile() is computing
+// it anyway.
+//
+//
+//
+// Structure for regexp &quot;program&quot;.  This is essentially a linear encoding
+// of a nondeterministic finite-state machine (aka syntax charts or
+// &quot;railroad normal form&quot; in parsing technology).  Each node is an opcode
+// plus a &quot;next&quot; pointer, possibly plus an operand.  &quot;Next&quot; pointers of
+// all nodes except kRegExpBranch implement concatenation; a &quot;next&quot; pointer with
+// a kRegExpBranch on both ends of it is connecting two alternatives.  (Here we
+// have one of the subtle syntax dependencies:  an individual kRegExpBranch (as
+// opposed to a collection of them) is never concatenated with anything
+// because of operator precedence.)  The operand of some types of node is
+// a literal string; for others, it is a node leading into a sub-FSM.  In
+// particular, the operand of a kRegExpBranch node is the first node of the branch.
+// (NB this is *not* a tree structure:  the tail of the branch connects
+// to the thing following the set of kRegExpBranches.)  The opcodes are:
+//
+
+// definition	number	opnd?	meaning 
+enum {
+	kRegExpEnd = 0,		// no	End of program. 
+	kRegExpBol = 1,		// no	Match &quot;&quot; at beginning of line. 
+	kRegExpEol = 2,		// no	Match &quot;&quot; at end of line. 
+	kRegExpAny = 3,		// no	Match any one character. 
+	kRegExpAnyOf = 4,	// str	Match any character in this string. 
+	kRegExpAnyBut =	5,	// str	Match any character not in this string. 
+	kRegExpBranch =	6,	// node	Match this alternative, or the next... 
+	kRegExpBack = 7,	// no	Match &quot;&quot;, &quot;next&quot; ptr points backward. 
+	kRegExpExactly = 8,	// str	Match this string. 
+	kRegExpNothing = 9,	// no	Match empty string. 
+	kRegExpStar = 10,	// node	Match this (simple) thing 0 or more times. 
+	kRegExpPlus = 11,	// node	Match this (simple) thing 1 or more times. 
+	kRegExpOpen	= 20,	// no	Mark this point in input as start of #n. 
+							//	kRegExpOpen + 1 is number 1, etc. 
+	kRegExpClose = 30	// no	Analogous to kRegExpOpen. 
+};
+
+//
+// Opcode notes:
+//
+// kRegExpBranch	The set of branches constituting a single choice are hooked
+//		together with their &quot;next&quot; pointers, since precedence prevents
+//		anything being concatenated to any individual branch.  The
+//		&quot;next&quot; pointer of the last kRegExpBranch in a choice points to the
+//		thing following the whole choice.  This is also where the
+//		final &quot;next&quot; pointer of each individual branch points; each
+//		branch starts with the operand node of a kRegExpBranch node.
+//
+// kRegExpBack		Normal &quot;next&quot; pointers all implicitly point forward; kRegExpBack
+//		exists to make loop structures possible.
+//
+// kRegExpStar,kRegExpPlus	'?', and complex '*' and '+', are implemented as circular
+//		kRegExpBranch structures using kRegExpBack.  Simple cases (one character
+//		per match) are implemented with kRegExpStar and kRegExpPlus for speed
+//		and to minimize recursive plunges.
+//
+// kRegExpOpen,kRegExpClose	...are numbered at compile time.
+// 
+//
+//
+// A node is one char of opcode followed by two chars of &quot;next&quot; pointer.
+// &quot;Next&quot; pointers are stored as two 8-bit pieces, high order first.  The
+// value is a positive offset from the opcode of the node containing it.
+// An operand, if any, simply follows the node.  (Note that much of the
+// code generation knows about this implicit relationship.)
+//
+// Using two bytes for the &quot;next&quot; pointer is vast overkill for most things,

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016374.html">[Haiku-commits] r30536 - buildtools/trunk/gcc/gcc/config/mips
</A></li>
	<LI>Next message: <A HREF="016379.html">[Haiku-commits] r30538 -	haiku/trunk/src/add-ons/input_server/devices/keyboard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16377">[ date ]</a>
              <a href="thread.html#16377">[ thread ]</a>
              <a href="subject.html#16377">[ subject ]</a>
              <a href="author.html#16377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
