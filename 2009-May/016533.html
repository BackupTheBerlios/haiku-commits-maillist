<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30642%20-%0A%09haiku/trunk/src/add-ons/kernel/bus_managers/ata&In-Reply-To=%3C4A019A17.40606%40bug-br.org.br%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016534.html">
   <LINK REL="Next"  HREF="016523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata</H1>
    <B>Bruno Albuquerque</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r30642%20-%0A%09haiku/trunk/src/add-ons/kernel/bus_managers/ata&In-Reply-To=%3C4A019A17.40606%40bug-br.org.br%3E"
       TITLE="[Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata">bga at bug-br.org.br
       </A><BR>
    <I>Wed May  6 16:09:27 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="016534.html">[Haiku-commits] r30642	-	haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
        <LI>Next message: <A HREF="016523.html">[Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16533">[ date ]</a>
              <a href="thread.html#16533">[ thread ]</a>
              <a href="subject.html#16533">[ subject ]</a>
              <a href="author.html#16533">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael Lotz wrote:

&gt;&gt;<i> 2 means nothing to anyone that does not know the code while 
</I>&gt;&gt;<i> INVALID_DEVICE (or any other descriptive name) is pretty obvious even 
</I>&gt;&gt;<i> if you are only looking at that section of the code.
</I>&gt;<i> 
</I>&gt;<i> Anyone knowing a bit of ATA (which is a prerequisite to understand the 
</I>&gt;<i> code at all) knows that a device number other than 0 and 1 is invalid. 
</I>&gt;<i> It's not like I hardcoded 2 as some mysterious error code somewhere 
</I>&gt;<i> that was checked for specifically or that it was only an invalid index 
</I>&gt;<i> in our own ATA stack. It's simply the first invalid device number, so I 
</I>&gt;<i> picked it. Anyway, fixed in r30644.
</I>
The problem with this reasoning is just that it can be applied to 
virtually any code. Saying that knowing the ATA protocol is a 
prerequisite to understanding the code (which is true) is not really an 
excuse to make the code less readable. You could as well say that 
understanding Haiku is a pre-requisite to write a Haiku application (and 
there are probably as much people in the world that knows the ATA 
protocol as there are people that know the Haiku/BeOS API).

I can't help but notice you seem to be taking this as a personal offense 
or something, it is not. I am just being pragmatic. It is good 
engineering practice to make the code as readable as possible. I would 
say it is specially more so in the case of open-source projects where 
you may be working on it today but eventually get fed up and leave the 
project. Someone would have to take over your code even if that meant 
having to learn the ATA protocol. And if your code is more legible, a 
lot can be learned from looking at it and even the protocol couldbe 
inferred.

-Bruno


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016534.html">[Haiku-commits] r30642	-	haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
	<LI>Next message: <A HREF="016523.html">[Haiku-commits] r30642 -	haiku/trunk/src/add-ons/kernel/bus_managers/ata
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16533">[ date ]</a>
              <a href="thread.html#16533">[ thread ]</a>
              <a href="subject.html#16533">[ subject ]</a>
              <a href="author.html#16533">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
