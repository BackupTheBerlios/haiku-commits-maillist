<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r25385 - haiku/trunk/headers/os/support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25385%20-%20haiku/trunk/headers/os/support&In-Reply-To=%3C20080510154254.666.2%40knochen-vm.1210421914.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008936.html">
   <LINK REL="Next"  HREF="008677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r25385 - haiku/trunk/headers/os/support</H1>
    <B>Ingo Weinhold</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25385%20-%20haiku/trunk/headers/os/support&In-Reply-To=%3C20080510154254.666.2%40knochen-vm.1210421914.fake%3E"
       TITLE="[Haiku-commits] r25385 - haiku/trunk/headers/os/support">ingo_weinhold at gmx.de
       </A><BR>
    <I>Sat May 10 15:42:54 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008936.html">[Haiku-commits] r25385 - haiku/trunk/headers/os/support
</A></li>
        <LI>Next message: <A HREF="008677.html">[Haiku-commits] r25385 - haiku/trunk/headers/os/support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8694">[ date ]</a>
              <a href="thread.html#8694">[ thread ]</a>
              <a href="subject.html#8694">[ subject ]</a>
              <a href="author.html#8694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2008-05-09 at 19:43:08 [+0200], Axel D&#246;rfler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de</A>&gt; 
wrote:
&gt;<i> &quot;Rene Gollent&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">anevilyak at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; On Fri, May 9, 2008 at 11:22 AM, Ingo Weinhold &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">ingo_weinhold at gmx.de</A>&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt; &gt; Apropos error codes. Alas it seems the GNU tools are right assuming
</I>&gt;<i> &gt; &gt; that
</I>&gt;<i> &gt; &gt; error codes are positive. I hadn't found an evidence that this is
</I>&gt;<i> &gt; &gt; required
</I>&gt;<i> &gt; &gt; by POSIX before, but it actually is (cf. the errno.h
</I>&gt;<i> &gt; &gt; specification). I
</I>&gt;<i> &gt; &gt; suppose we should address that problem at some point in the future.
</I>&gt;<i> &gt; That seems to be a more recent change:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Issue 6
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;     The following new requirements on POSIX implementations derive
</I>&gt;<i> &gt; from alignment with the Single UNIX Specification:
</I>&gt;<i> &gt; &lt;snip&gt;
</I>&gt;<i> &gt;     Values for errno are now required to be distinct positive values
</I>&gt;<i> &gt; rather than non-zero values. This change is for alignment with the
</I>&gt;<i> &gt; ISO/IEC 9899:1999 standard.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm not sure exactly when that update was made though.
</I>&gt;<i> 
</I>&gt;<i> I can't see what we can do about it either - it would just break
</I>&gt;<i> everything if we changed that.
</I>
We could change the POSIX error codes to positive but leave the BeOS error 
codes negative. When setting errno we would need to make sure that the 
value is positive. That would make programs happy that use only POSIX API. 
Applications using BeOS API only would be fine, too. Applications mixing 
them -- e.g. returning errno as a status_t and checking &lt; B_OK instead of 
!= B_OK or returning errno as a ssize_t -- would break, though.

That'd would be a change affecting quite a bit of code, though, and I'm not 
very much in favor for it ATM.

&gt;<i> I find it rather intolerant to make such a change at a time when there
</I>&gt;<i> were operating systems around that required them to be negative.
</I>
I wouldn't be surprised if the people working the standard weren't aware of 
BeOS (respectively that it uses negative error codes), and since it was 
already dead at that time, it might not have influenced the decision anyway.

&gt;<i> I also
</I>&gt;<i> don't really see any advantage in forcing them to be positive.
</I>
Forcing them to a well-defined signedness has the advantage that API users 
can use the other range freely. And positive error codes are a UNIX 
tradition.

CU, Ingo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008936.html">[Haiku-commits] r25385 - haiku/trunk/headers/os/support
</A></li>
	<LI>Next message: <A HREF="008677.html">[Haiku-commits] r25385 - haiku/trunk/headers/os/support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8694">[ date ]</a>
              <a href="thread.html#8694">[ thread ]</a>
              <a href="subject.html#8694">[ subject ]</a>
              <a href="author.html#8694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
