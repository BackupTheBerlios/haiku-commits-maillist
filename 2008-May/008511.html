<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25326%20-%20in%20haiku/trunk%3A%20headers/posix%0A%20headers/private/kernel%20src/system/kernel%20src/system/libroot/posix&In-Reply-To=%3C20080506212120.495.1%40knochen-vm.1210100255.fake%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008509.html">
   <LINK REL="Next"  HREF="008519.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix</H1>
    <B>Ingo Weinhold</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25326%20-%20in%20haiku/trunk%3A%20headers/posix%0A%20headers/private/kernel%20src/system/kernel%20src/system/libroot/posix&In-Reply-To=%3C20080506212120.495.1%40knochen-vm.1210100255.fake%3E"
       TITLE="[Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix">ingo_weinhold at gmx.de
       </A><BR>
    <I>Tue May  6 21:21:20 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008509.html">[Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix
</A></li>
        <LI>Next message: <A HREF="008519.html">[Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8511">[ date ]</a>
              <a href="thread.html#8511">[ thread ]</a>
              <a href="subject.html#8511">[ subject ]</a>
              <a href="author.html#8511">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2008-05-06 at 10:26:42 [+0200], Axel D&#246;rfler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de</A>&gt; 
wrote:
&gt;<i> bonefish at BerliOS &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bonefish at mail.berlios.de</A>&gt; wrote:
</I>&gt;<i> &gt; -        sem_init(&amp;sKernelArgs);
</I>&gt;<i> &gt; +        haiku_sem_init(&amp;sKernelArgs);
</I>&gt;<i> 
</I>&gt;<i> Nice one! But is there any actual need to rename this one?
</I>
Yep, it clashed with the sem_init() declared in &lt;semaphore.h&gt;, which is 
included in &lt;realtime_sem.h&gt; for the sem_t type (which is a typedef, not a 
struct ATM). I could have avoided that by using void* and casting from and 
to sem_t*, but I found renaming the private sem_init() the better option.

We might want to consider pulling type and macro definitions out of public 
headers into separate headers to eliminate unnecessary dependencies. That 
would have helped in this case, too.

&gt;<i> At least I
</I>&gt;<i> would rather stay consistent there with the other sem_* functions.
</I>&gt;<i> Maybe we want to move the XSI realtime semaphores into a posix/
</I>&gt;<i> subdirectory or something like that when we have more of those files?
</I>&gt;<i> The kernel directory is already quite crowded, and I would like to
</I>&gt;<i> separate core Haiku services from POSIX only ones.
</I>
Good idea. Will do that.

CU, Ingo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008509.html">[Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix
</A></li>
	<LI>Next message: <A HREF="008519.html">[Haiku-commits] r25326 - in haiku/trunk: headers/posix headers/private/kernel src/system/kernel src/system/libroot/posix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8511">[ date ]</a>
              <a href="thread.html#8511">[ thread ]</a>
              <a href="subject.html#8511">[ subject ]</a>
              <a href="author.html#8511">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
