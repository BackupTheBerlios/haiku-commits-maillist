<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25563%20-%0A%20in%09haiku/trunk/src/add-ons/kernel/drivers/audio/ac97%3A%20auich%20ich&In-Reply-To=%3C48331EBF.8070405%40arcor.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008941.html">
   <LINK REL="Next"  HREF="008992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich</H1>
    <B>Marcus Overhagen</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r25563%20-%0A%20in%09haiku/trunk/src/add-ons/kernel/drivers/audio/ac97%3A%20auich%20ich&In-Reply-To=%3C48331EBF.8070405%40arcor.de%3E"
       TITLE="[Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich">marcusoverhagen at arcor.de
       </A><BR>
    <I>Tue May 20 20:55:59 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="008941.html">[Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich
</A></li>
        <LI>Next message: <A HREF="008992.html">[Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8975">[ date ]</a>
              <a href="thread.html#8975">[ thread ]</a>
              <a href="subject.html#8975">[ subject ]</a>
              <a href="author.html#8975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>korli at BerliOS schrieb:

&gt;<i> Log:
</I>&gt;<i> patch from Michael Weirauch: cast before shifting vendor id. thanks!
</I>
&gt;<i> -	dev-&gt;codec_id = (reg_read(cookie, AC97_VENDOR_ID1) &lt;&lt; 16) | reg_read(cookie, AC97_VENDOR_ID2);
</I>&gt;<i> +	dev-&gt;codec_id = ((uint32)reg_read(cookie, AC97_VENDOR_ID1) &lt;&lt; 16) | reg_read(cookie, AC97_VENDOR_ID2);
</I>
This patch is unnecessary and has no effect. Why was it done?

I wrote the original code. It works.

Because of integer promotion rules, the shift works as intended
on every system where int is 32 bit (or more).

You can even omit the brackets around the shifted value, because
of operator precedence rules.

regards
Marcus

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008941.html">[Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich
</A></li>
	<LI>Next message: <A HREF="008992.html">[Haiku-commits] r25563 - in	haiku/trunk/src/add-ons/kernel/drivers/audio/ac97: auich ich
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8975">[ date ]</a>
              <a href="thread.html#8975">[ thread ]</a>
              <a href="subject.html#8975">[ subject ]</a>
              <a href="author.html#8975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
