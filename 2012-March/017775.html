<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.9.1331733695.2951.haiku-commits%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017771.html">
   <LINK REL="Next"  HREF="018371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.9.1331733695.2951.haiku-commits%40lists.berlios.de%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Mar 14 14:57:34 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017771.html">No subject
</A></li>
        <LI>Next message: <A HREF="018371.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17775">[ date ]</a>
              <a href="thread.html#17775">[ thread ]</a>
              <a href="subject.html#17775">[ subject ]</a>
              <a href="author.html#17775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>libavcodec requires an aligned stack on x86_32--however, as far as I
</I>&gt;<i>know, this is the first asm to be inserted into a very widely-used
</I>&gt;<i>location that explicitly requires that alignment.  If a compiler
</I>&gt;<i>cannot provide this, it cannot correctly compile libavcodec.
</I>&gt;<i>
</I>&gt;<i>If this is a problem, perhaps we should revisit the issue of stack
</I>&gt;<i>alignment (and accordingly either implement x264's method of stack
</I>&gt;<i>alignment, or simply remove all SSE code from ffmpeg).
</I>&gt;<i>
</I>&gt;<i>Dark Shikari
</I>
This patch might allow us to use SOME SSE2 routines but I would rather
we corrected the issue.

<A HREF="http://mailman.videolan.org/pipermail/x264-devel/2008-June/004674.html">http://mailman.videolan.org/pipermail/x264-devel/2008-June/004674.html</A>

Your mention of threading not being aligned could be spot on though.
There is this I found about ffmpeg alignment issues on windows.

&gt;<i>Yes, this is the stack alignment issue. ffmpeg.exe (compiled with gcc) ali=
</I>gns main() to 16 bytes and the whole library maintains &gt;alignment. Code com=
piled with MSVC++ only aligns to 4 bytes. The library maintains the alignme=
nt, but doesn't realign to 16 &gt;bytes.
&gt;<i>New threads on Win32 always start with a 4 byte alignment.
</I>
Since we use ffmpeg as an add-on, if a thread is misaligned to start
off with then ffmpeg may stay misaligned.

--=20
Cheers
David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017771.html">No subject
</A></li>
	<LI>Next message: <A HREF="018371.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17775">[ date ]</a>
              <a href="thread.html#17775">[ thread ]</a>
              <a href="subject.html#17775">[ subject ]</a>
              <a href="author.html#17775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
