<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r26301 - haiku/trunk/headers/private/fs_shell
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26301%20-%20haiku/trunk/headers/private/fs_shell&In-Reply-To=%3C200807071810.m67IAMHL003910%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010106.html">
   <LINK REL="Next"  HREF="010086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r26301 - haiku/trunk/headers/private/fs_shell</H1>
    <B>axeld at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26301%20-%20haiku/trunk/headers/private/fs_shell&In-Reply-To=%3C200807071810.m67IAMHL003910%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r26301 - haiku/trunk/headers/private/fs_shell">axeld at mail.berlios.de
       </A><BR>
    <I>Mon Jul  7 20:10:22 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="010106.html">[Haiku-commits] r26300 - haiku/trunk/src/add-ons/kernel/file_systems/bfs
</A></li>
        <LI>Next message: <A HREF="010086.html">[Haiku-commits] r26302 - in haiku/trunk: headers/private/fs_shell	headers/private/kernel/util src/tools/fs_shell
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10085">[ date ]</a>
              <a href="thread.html#10085">[ thread ]</a>
              <a href="subject.html#10085">[ subject ]</a>
              <a href="author.html#10085">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: axeld
Date: 2008-07-07 20:10:21 +0200 (Mon, 07 Jul 2008)
New Revision: 26301
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=26301&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=26301&amp;view=rev</A>

Modified:
   haiku/trunk/headers/private/fs_shell/fssh_auto_locker.h
   haiku/trunk/headers/private/fs_shell/fssh_errors.h
Log:
* Replaced most of the error enums with #defines.
* fssh_auto_locker.h should probably better use an FS-Shell header instead of
  stddef.h.


Modified: haiku/trunk/headers/private/fs_shell/fssh_auto_locker.h
===================================================================
--- haiku/trunk/headers/private/fs_shell/fssh_auto_locker.h	2008-07-07 16:34:38 UTC (rev 26300)
+++ haiku/trunk/headers/private/fs_shell/fssh_auto_locker.h	2008-07-07 18:10:21 UTC (rev 26301)
@@ -6,7 +6,7 @@
 #define _FSSH_AUTO_LOCKER_H
 
 
-#include &lt;stddef.h&gt;
+#include &lt;fssh_types.h&gt;
 
 
 namespace FSShell {

Modified: haiku/trunk/headers/private/fs_shell/fssh_errors.h
===================================================================
--- haiku/trunk/headers/private/fs_shell/fssh_errors.h	2008-07-07 16:34:38 UTC (rev 26300)
+++ haiku/trunk/headers/private/fs_shell/fssh_errors.h	2008-07-07 18:10:21 UTC (rev 26301)
@@ -24,56 +24,52 @@
 #define FSSH_B_DEVICE_ERROR_BASE		FSSH_B_GENERAL_ERROR_BASE + 0xa000
 
 /* Developer-defined errors start at (B_ERRORS_END+1) */
-#define FSSH_B_ERRORS_END		(FSSH_B_GENERAL_ERROR_BASE + 0xffff)
+#define FSSH_B_ERRORS_END				(FSSH_B_GENERAL_ERROR_BASE + 0xffff)
 
 /* General Errors */
-enum {
-	FSSH_B_NO_MEMORY = FSSH_B_GENERAL_ERROR_BASE,
-	FSSH_B_IO_ERROR,
-	FSSH_B_PERMISSION_DENIED,
-	FSSH_B_BAD_INDEX,
-	FSSH_B_BAD_TYPE,
-	FSSH_B_BAD_VALUE,
-	FSSH_B_MISMATCHED_VALUES,
-	FSSH_B_NAME_NOT_FOUND,
-	FSSH_B_NAME_IN_USE,
-	FSSH_B_TIMED_OUT,
-    FSSH_B_INTERRUPTED,
-	FSSH_B_WOULD_BLOCK,
-    FSSH_B_CANCELED,
-	FSSH_B_NO_INIT,
-	FSSH_B_BUSY,
-	FSSH_B_NOT_ALLOWED,
-	FSSH_B_BAD_DATA,
-	FSSH_B_DONT_DO_THAT,
+#define FSSH_B_NO_MEMORY				(FSSH_B_GENERAL_ERROR_BASE + 0)
+#define FSSH_B_IO_ERROR					(FSSH_B_GENERAL_ERROR_BASE + 1)
+#define FSSH_B_PERMISSION_DENIED		(FSSH_B_GENERAL_ERROR_BASE + 2)
+#define FSSH_B_BAD_INDEX				(FSSH_B_GENERAL_ERROR_BASE + 3)
+#define FSSH_B_BAD_TYPE					(FSSH_B_GENERAL_ERROR_BASE + 4)
+#define FSSH_B_BAD_VALUE				(FSSH_B_GENERAL_ERROR_BASE + 5)
+#define FSSH_B_MISMATCHED_VALUES		(FSSH_B_GENERAL_ERROR_BASE + 6)
+#define FSSH_B_NAME_NOT_FOUND			(FSSH_B_GENERAL_ERROR_BASE + 7)
+#define FSSH_B_NAME_IN_USE				(FSSH_B_GENERAL_ERROR_BASE + 8)
+#define FSSH_B_TIMED_OUT				(FSSH_B_GENERAL_ERROR_BASE + 9)
+#define FSSH_B_INTERRUPTED				(FSSH_B_GENERAL_ERROR_BASE + 10)
+#define FSSH_B_WOULD_BLOCK				(FSSH_B_GENERAL_ERROR_BASE + 11)
+#define FSSH_B_CANCELED					(FSSH_B_GENERAL_ERROR_BASE + 12)
+#define FSSH_B_NO_INIT					(FSSH_B_GENERAL_ERROR_BASE + 13)
+#define FSSH_B_BUSY						(FSSH_B_GENERAL_ERROR_BASE + 14)
+#define FSSH_B_NOT_ALLOWED				(FSSH_B_GENERAL_ERROR_BASE + 15)
+#define FSSH_B_BAD_DATA					(FSSH_B_GENERAL_ERROR_BASE + 16)
+#define FSSH_B_DONT_DO_THAT				(FSSH_B_GENERAL_ERROR_BASE + 17)
 
-	FSSH_B_ERROR = -1,
-	FSSH_B_OK = 0,
-	FSSH_B_NO_ERROR = 0
-};
+#define FSSH_B_ERROR					(-1)
+#define FSSH_B_OK						((int)0)
+#define FSSH_B_NO_ERROR					((int)0)
 
 /* Kernel Kit Errors */
-enum {
-	FSSH_B_BAD_SEM_ID = FSSH_B_OS_ERROR_BASE,
-	FSSH_B_NO_MORE_SEMS,
+#define FSSH_B_BAD_SEM_ID				(FSSH_B_OS_ERROR_BASE + 0)
+#define FSSH_B_NO_MORE_SEMS				(FSSH_B_OS_ERROR_BASE + 1)
 
-	FSSH_B_BAD_THREAD_ID = FSSH_B_OS_ERROR_BASE + 0x100,
-	FSSH_B_NO_MORE_THREADS,
-	FSSH_B_BAD_THREAD_STATE,
-	FSSH_B_BAD_TEAM_ID,
-	FSSH_B_NO_MORE_TEAMS,
+#define FSSH_B_BAD_THREAD_ID			(FSSH_B_OS_ERROR_BASE + 0x100)
+#define FSSH_B_NO_MORE_THREADS			(FSSH_B_OS_ERROR_BASE + 0x101)
+#define FSSH_B_BAD_THREAD_STATE			(FSSH_B_OS_ERROR_BASE + 0x102)
+#define FSSH_B_BAD_TEAM_ID				(FSSH_B_OS_ERROR_BASE + 0x103)
+#define FSSH_B_NO_MORE_TEAMS			(FSSH_B_OS_ERROR_BASE + 0x104)
 
-	FSSH_B_BAD_PORT_ID = FSSH_B_OS_ERROR_BASE + 0x200,
-	FSSH_B_NO_MORE_PORTS,
+#define FSSH_B_BAD_PORT_ID				(FSSH_B_OS_ERROR_BASE + 0x200)
+#define FSSH_B_NO_MORE_PORTS			(FSSH_B_OS_ERROR_BASE + 0x201)
 
-	FSSH_B_BAD_IMAGE_ID = FSSH_B_OS_ERROR_BASE + 0x300,
-	FSSH_B_BAD_ADDRESS,
-	FSSH_B_NOT_AN_EXECUTABLE,
-	FSSH_B_MISSING_LIBRARY,
-	FSSH_B_MISSING_SYMBOL,
+#define FSSH_B_BAD_IMAGE_ID				(FSSH_B_OS_ERROR_BASE + 0x300)
+#define FSSH_B_BAD_ADDRESS				(FSSH_B_OS_ERROR_BASE + 0x301)
+#define FSSH_B_NOT_AN_EXECUTABLE		(FSSH_B_OS_ERROR_BASE + 0x302)
+#define FSSH_B_MISSING_LIBRARY			(FSSH_B_OS_ERROR_BASE + 0x303)
+#define FSSH_B_MISSING_SYMBOL			(FSSH_B_OS_ERROR_BASE + 0x304)
 
-	FSSH_B_DEBUGGER_ALREADY_INSTALLED = FSSH_B_OS_ERROR_BASE + 0x400
-};
+#define FSSH_B_DEBUGGER_ALREADY_INSTALLED (FSSH_B_OS_ERROR_BASE + 0x400)
 
 /* Application Kit Errors */
 enum {
@@ -99,24 +95,22 @@
 };
 
 /* Storage Kit/File System Errors */
-enum {
-	FSSH_B_FILE_ERROR = FSSH_B_STORAGE_ERROR_BASE,
-	FSSH_B_FILE_NOT_FOUND,	/* deprecated: use FSSH_B_ENTRY_NOT_FOUND instead */
-	FSSH_B_FILE_EXISTS,
-	FSSH_B_ENTRY_NOT_FOUND,
-	FSSH_B_NAME_TOO_LONG,
-	FSSH_B_NOT_A_DIRECTORY,
-	FSSH_B_DIRECTORY_NOT_EMPTY,
-	FSSH_B_DEVICE_FULL,
-	FSSH_B_READ_ONLY_DEVICE,
-	FSSH_B_IS_A_DIRECTORY,
-	FSSH_B_NO_MORE_FDS,
-	FSSH_B_CROSS_DEVICE_LINK,
-	FSSH_B_LINK_LIMIT,
-	FSSH_B_BUSTED_PIPE,
-	FSSH_B_UNSUPPORTED,
-	FSSH_B_PARTITION_TOO_SMALL
-};
+#define FSSH_B_FILE_ERROR			(FSSH_B_STORAGE_ERROR_BASE + 0)
+#define FSSH_B_FILE_NOT_FOUND		(FSSH_B_STORAGE_ERROR_BASE + 1)
+#define FSSH_B_FILE_EXISTS			(FSSH_B_STORAGE_ERROR_BASE + 2)
+#define FSSH_B_ENTRY_NOT_FOUND		(FSSH_B_STORAGE_ERROR_BASE + 3)
+#define FSSH_B_NAME_TOO_LONG		(FSSH_B_STORAGE_ERROR_BASE + 4)
+#define FSSH_B_NOT_A_DIRECTORY		(FSSH_B_STORAGE_ERROR_BASE + 5)
+#define FSSH_B_DIRECTORY_NOT_EMPTY	(FSSH_B_STORAGE_ERROR_BASE + 6)
+#define FSSH_B_DEVICE_FULL			(FSSH_B_STORAGE_ERROR_BASE + 7)
+#define FSSH_B_READ_ONLY_DEVICE		(FSSH_B_STORAGE_ERROR_BASE + 8)
+#define FSSH_B_IS_A_DIRECTORY		(FSSH_B_STORAGE_ERROR_BASE + 9)
+#define FSSH_B_NO_MORE_FDS			(FSSH_B_STORAGE_ERROR_BASE + 10)
+#define FSSH_B_CROSS_DEVICE_LINK	(FSSH_B_STORAGE_ERROR_BASE + 11)
+#define FSSH_B_LINK_LIMIT			(FSSH_B_STORAGE_ERROR_BASE + 12)
+#define FSSH_B_BUSTED_PIPE			(FSSH_B_STORAGE_ERROR_BASE + 13)
+#define FSSH_B_UNSUPPORTED			(FSSH_B_STORAGE_ERROR_BASE + 14)
+#define FSSH_B_PARTITION_TOO_SMALL	(FSSH_B_STORAGE_ERROR_BASE + 15)
 
 /* POSIX Errors */
 #define FSSH_E2BIG				(FSSH_B_POSIX_ERROR_BASE + 1)
@@ -161,7 +155,7 @@
 #define FSSH_ESTALE				(FSSH_B_POSIX_ERROR_BASE + 40)
 #define FSSH_EOVERFLOW			(FSSH_B_POSIX_ERROR_BASE + 41)
 #define FSSH_EMSGSIZE			(FSSH_B_POSIX_ERROR_BASE + 42)
-#define FSSH_EOPNOTSUPP			(FSSH_B_POSIX_ERROR_BASE + 43)                       
+#define FSSH_EOPNOTSUPP			(FSSH_B_POSIX_ERROR_BASE + 43)
 #define FSSH_ENOTSOCK			(FSSH_B_POSIX_ERROR_BASE + 44)
 #define FSSH_EHOSTDOWN			(FSSH_B_POSIX_ERROR_BASE + 45)
 #define	FSSH_EBADMSG			(FSSH_B_POSIX_ERROR_BASE + 46)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010106.html">[Haiku-commits] r26300 - haiku/trunk/src/add-ons/kernel/file_systems/bfs
</A></li>
	<LI>Next message: <A HREF="010086.html">[Haiku-commits] r26302 - in haiku/trunk: headers/private/fs_shell	headers/private/kernel/util src/tools/fs_shell
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10085">[ date ]</a>
              <a href="thread.html#10085">[ thread ]</a>
              <a href="subject.html#10085">[ subject ]</a>
              <a href="author.html#10085">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
