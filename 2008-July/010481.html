<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r26570 - in haiku/trunk: headers/libs	headers/libs/print headers/libs/print/libprint	headers/private/interface headers/private/print	headers/private/print/utils src/add-ons/print	src/add-ons/print/drivers src/add-ons/print/drivers/canon_lips/lips3	src/add-ons/print/drivers/canon_lips/lips4	src/add-ons/print/drivers/pcl5 src/add-ons/print/drivers/pcl6	src/add-ons/print/drivers/pdf/source	src/add-ons/print/drivers/postscript	src/add-ons/print/drivers/preview	src/add-ons/print/transports/parallel_port	src/add-ons/print/transports/serial_port	src/add-ons/print/transports/usb_port src/kits	src/kits/interface src/kits/print src/libs src/libs/print	src/libs/print/libprint src/libs/print/libprint/tools	src/preferences/print src/servers/print
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26570%20-%20in%20haiku/trunk%3A%20headers/libs%0A%09headers/libs/print%20headers/libs/print/libprint%0A%09headers/private/interface%20headers/private/print%0A%09headers/private/print/utils%20src/add-ons/print%0A%09src/add-ons/print/drivers%20src/add-ons/print/drivers/canon_lips/lips3%0A%09src/add-ons/print/drivers/canon_lips/lips4%0A%09src/add-ons/print/drivers/pcl5%20src/add-ons/print/drivers/pcl6%0A%09src/add-ons/print/drivers/pdf/source%0A%09src/add-ons/print/drivers/postscript%0A%09src/add-ons/print/drivers/preview%0A%09src/add-ons/print/transports/parallel_port%0A%09src/add-ons/print/transports/serial_port%0A%09src/add-ons/print/transports/usb_port%20src/kits%0A%09src/kits/interface%20src/kits/print%20src/libs%20src/libs/print%0A%09src/libs/print/libprint%20src/libs/print/libprint/tools%0A%09src/preferences/print%20src/servers/print&In-Reply-To=%3C200807222030.m6MKUKZr007571%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010492.html">
   <LINK REL="Next"  HREF="010482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r26570 - in haiku/trunk: headers/libs	headers/libs/print headers/libs/print/libprint	headers/private/interface headers/private/print	headers/private/print/utils src/add-ons/print	src/add-ons/print/drivers src/add-ons/print/drivers/canon_lips/lips3	src/add-ons/print/drivers/canon_lips/lips4	src/add-ons/print/drivers/pcl5 src/add-ons/print/drivers/pcl6	src/add-ons/print/drivers/pdf/source	src/add-ons/print/drivers/postscript	src/add-ons/print/drivers/preview	src/add-ons/print/transports/parallel_port	src/add-ons/print/transports/serial_port	src/add-ons/print/transports/usb_port src/kits	src/kits/interface src/kits/print src/libs src/libs/print	src/libs/print/libprint src/libs/print/libprint/tools	src/preferences/print src/servers/print</H1>
    <B>julun at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26570%20-%20in%20haiku/trunk%3A%20headers/libs%0A%09headers/libs/print%20headers/libs/print/libprint%0A%09headers/private/interface%20headers/private/print%0A%09headers/private/print/utils%20src/add-ons/print%0A%09src/add-ons/print/drivers%20src/add-ons/print/drivers/canon_lips/lips3%0A%09src/add-ons/print/drivers/canon_lips/lips4%0A%09src/add-ons/print/drivers/pcl5%20src/add-ons/print/drivers/pcl6%0A%09src/add-ons/print/drivers/pdf/source%0A%09src/add-ons/print/drivers/postscript%0A%09src/add-ons/print/drivers/preview%0A%09src/add-ons/print/transports/parallel_port%0A%09src/add-ons/print/transports/serial_port%0A%09src/add-ons/print/transports/usb_port%20src/kits%0A%09src/kits/interface%20src/kits/print%20src/libs%20src/libs/print%0A%09src/libs/print/libprint%20src/libs/print/libprint/tools%0A%09src/preferences/print%20src/servers/print&In-Reply-To=%3C200807222030.m6MKUKZr007571%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r26570 - in haiku/trunk: headers/libs	headers/libs/print headers/libs/print/libprint	headers/private/interface headers/private/print	headers/private/print/utils src/add-ons/print	src/add-ons/print/drivers src/add-ons/print/drivers/canon_lips/lips3	src/add-ons/print/drivers/canon_lips/lips4	src/add-ons/print/drivers/pcl5 src/add-ons/print/drivers/pcl6	src/add-ons/print/drivers/pdf/source	src/add-ons/print/drivers/postscript	src/add-ons/print/drivers/preview	src/add-ons/print/transports/parallel_port	src/add-ons/print/transports/serial_port	src/add-ons/print/transports/usb_port src/kits	src/kits/interface src/kits/print src/libs src/libs/print	src/libs/print/libprint src/libs/print/libprint/tools	src/preferences/print src/servers/print">julun at mail.berlios.de
       </A><BR>
    <I>Tue Jul 22 22:30:20 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="010492.html">[Haiku-commits] r26569 - haiku/branches/developer/bonefish/vm/src/system/kernel/vm
</A></li>
        <LI>Next message: <A HREF="010482.html">[Haiku-commits] r26571 - haiku/trunk/headers/private/print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10481">[ date ]</a>
              <a href="thread.html#10481">[ thread ]</a>
              <a href="subject.html#10481">[ subject ]</a>
              <a href="author.html#10481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: julun
Date: 2008-07-22 22:30:14 +0200 (Tue, 22 Jul 2008)
New Revision: 26570
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=26570&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=26570&amp;view=rev</A>

Added:
   haiku/trunk/headers/libs/print/
   haiku/trunk/headers/libs/print/libprint/
   haiku/trunk/headers/libs/print/libprint/MarginView.h
   haiku/trunk/headers/private/print/InterfaceUtils.h
   haiku/trunk/headers/private/print/MarginView.h
   haiku/trunk/headers/private/print/Utils.h
   haiku/trunk/headers/private/print/pr_server.h
   haiku/trunk/src/kits/print/
   haiku/trunk/src/kits/print/BeUtils.cpp
   haiku/trunk/src/kits/print/BeUtilsTranslation.cpp
   haiku/trunk/src/kits/print/FolderWatcher.cpp
   haiku/trunk/src/kits/print/InterfaceUtils.cpp
   haiku/trunk/src/kits/print/Jamfile
   haiku/trunk/src/kits/print/Jobs.cpp
   haiku/trunk/src/kits/print/MarginView.cpp
   haiku/trunk/src/kits/print/PictureIterator.cpp
   haiku/trunk/src/kits/print/PicturePrinter.cpp
   haiku/trunk/src/kits/print/PrintJobReader.cpp
   haiku/trunk/src/kits/print/PrintTransport.cpp
   haiku/trunk/src/kits/print/PrintTransportAddOn.cpp
   haiku/trunk/src/kits/print/PrinterDriverAddOn.cpp
   haiku/trunk/src/kits/print/Template.cpp
   haiku/trunk/src/kits/print/Utils.cpp
   haiku/trunk/src/libs/print/
   haiku/trunk/src/libs/print/Jamfile
   haiku/trunk/src/libs/print/libprint/
Removed:
   haiku/trunk/headers/private/interface/pr_server.h
   haiku/trunk/headers/private/print/libprint/
   haiku/trunk/headers/private/print/utils/InterfaceUtils.h
   haiku/trunk/headers/private/print/utils/MarginView.h
   haiku/trunk/headers/private/print/utils/Utils.h
   haiku/trunk/src/add-ons/print/drivers/shared/
   haiku/trunk/src/add-ons/print/shared/
   haiku/trunk/src/servers/print/shared/
Modified:
   haiku/trunk/headers/libs/print/libprint/AboutBox.h
   haiku/trunk/headers/libs/print/libprint/Exports.h
   haiku/trunk/headers/libs/print/libprint/Transport.h
   haiku/trunk/src/add-ons/print/Jamfile
   haiku/trunk/src/add-ons/print/drivers/Jamfile
   haiku/trunk/src/add-ons/print/drivers/canon_lips/lips3/Jamfile
   haiku/trunk/src/add-ons/print/drivers/canon_lips/lips4/Jamfile
   haiku/trunk/src/add-ons/print/drivers/pcl5/Jamfile
   haiku/trunk/src/add-ons/print/drivers/pcl6/Jamfile
   haiku/trunk/src/add-ons/print/drivers/pdf/source/Jamfile
   haiku/trunk/src/add-ons/print/drivers/postscript/Jamfile
   haiku/trunk/src/add-ons/print/drivers/preview/Jamfile
   haiku/trunk/src/add-ons/print/transports/parallel_port/Jamfile
   haiku/trunk/src/add-ons/print/transports/serial_port/Jamfile
   haiku/trunk/src/add-ons/print/transports/usb_port/Jamfile
   haiku/trunk/src/kits/Jamfile
   haiku/trunk/src/kits/interface/Jamfile
   haiku/trunk/src/libs/Jamfile
   haiku/trunk/src/libs/print/libprint/AboutBox.cpp
   haiku/trunk/src/libs/print/libprint/Jamfile
   haiku/trunk/src/libs/print/libprint/Transport.cpp
   haiku/trunk/src/libs/print/libprint/tools/make_pattern.cpp
   haiku/trunk/src/libs/print/libprint/tools/original_dither_pattern.h
   haiku/trunk/src/preferences/print/Jamfile
   haiku/trunk/src/servers/print/Jamfile
Log:
* move libprint sources into libs, as it is a 3rdparty lib
* move libprint headers into libs headers folder accordingly
* merge all shared folders sources into kits print, we might build later on a
  real print kit, propably also to access cups from an nicely API, atm static
* move all shared headers into private print, also pr_server.h from interface
* adjust build to work with the changed folder layout



Copied: haiku/trunk/headers/libs/print/libprint (from rev 26528, haiku/trunk/headers/private/print/libprint)

Modified: haiku/trunk/headers/libs/print/libprint/AboutBox.h
===================================================================
--- haiku/trunk/headers/private/print/libprint/AboutBox.h	2008-07-20 21:16:37 UTC (rev 26528)
+++ haiku/trunk/headers/libs/print/libprint/AboutBox.h	2008-07-22 20:30:14 UTC (rev 26570)
@@ -1,16 +1,16 @@
-/*
- * AboutBox.h
- * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
- */
-
-#ifndef __ABOUTBOX_H
-#define __ABOUTBOX_H
-
-#include &lt;Application.h&gt;
-
-class AboutBox : public BApplication {
-public:
-	AboutBox(const char *signature, const char *driver_name, const char *version, const char *copyright);
-};
-
-#endif	/* __ABOUTBOX_H */
+/*
+ * AboutBox.h
+ * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
+ */
+
+#ifndef __ABOUTBOX_H
+#define __ABOUTBOX_H
+
+#include &lt;Application.h&gt;
+
+class AboutBox : public BApplication {
+public:
+	AboutBox(const char *signature, const char *driver_name, const char *version, const char *copyright);
+};
+
+#endif	/* __ABOUTBOX_H */

Modified: haiku/trunk/headers/libs/print/libprint/Exports.h
===================================================================
--- haiku/trunk/headers/private/print/libprint/Exports.h	2008-07-20 21:16:37 UTC (rev 26528)
+++ haiku/trunk/headers/libs/print/libprint/Exports.h	2008-07-22 20:30:14 UTC (rev 26570)
@@ -1,22 +1,22 @@
-/*
- * Exports.h
- * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
- */
-
-#ifndef __EXPORTS_H
-#define __EXPORTS_H
-
-#include &lt;BeBuild.h&gt;
-
-class BNode;
-class BMessage;
-class BFile;
-
-extern &quot;C&quot; {
-	_EXPORT char *add_printer(char *printer_name);
-	_EXPORT BMessage *config_page(BNode *node, BMessage *msg);
-	_EXPORT BMessage *config_job(BNode *node, BMessage *msg);
-	_EXPORT BMessage *take_job(BFile *spool_file, BNode *node, BMessage *msg);
-}
-
-#endif	// __EXPORTS_H
+/*
+ * Exports.h
+ * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
+ */
+
+#ifndef __EXPORTS_H
+#define __EXPORTS_H
+
+#include &lt;BeBuild.h&gt;
+
+class BNode;
+class BMessage;
+class BFile;
+
+extern &quot;C&quot; {
+	_EXPORT char *add_printer(char *printer_name);
+	_EXPORT BMessage *config_page(BNode *node, BMessage *msg);
+	_EXPORT BMessage *config_job(BNode *node, BMessage *msg);
+	_EXPORT BMessage *take_job(BFile *spool_file, BNode *node, BMessage *msg);
+}
+
+#endif	// __EXPORTS_H

Added: haiku/trunk/headers/libs/print/libprint/MarginView.h
===================================================================
--- haiku/trunk/headers/private/print/libprint/MarginView.h	2008-07-20 21:16:37 UTC (rev 26528)
+++ haiku/trunk/headers/libs/print/libprint/MarginView.h	2008-07-22 20:30:14 UTC (rev 26570)
@@ -0,0 +1,222 @@
+/*
+
+MarginView.h
+
+Copyright (c) 2002 OpenBeOS.
+
+Authors:
+	Philippe Houdoin
+	Simon Gauvin
+	Michael Pfeiffer
+
+Permission is hereby granted, free of charge, to any person obtaining a copy of
+this software and associated documentation files (the &quot;Software&quot;), to deal in
+the Software without restriction, including without limitation the rights to
+use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
+of the Software, and to permit persons to whom the Software is furnished to do
+so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in all
+copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+THE SOFTWARE.
+
+	Documentation:
+
+	The MarginView is designed to be a self contained component that manages
+	the display of a BBox control that shows a graphic of a page and its'
+	margings. The component also includes text fields that are used to mofify
+	the margin values and a popup to change the units used for the margins.
+
+	There are two interfaces for the MarginView component:
+
+	1) Set methods:
+		- page size
+		- orientation
+
+	   Get methods to retrieve:
+		- margins
+		- page size
+
+		The method interface is available for the parent Component to call on
+		the MarginView in response to the Window receiveing messages from
+		other BControls that it contains, such as a Page Size popup. The
+		Get methods are used to extract the page size and margins so that
+		the printer driver may put these values into a BMessage for printing.
+
+	2) 'Optional' Message interface:
+		- Set Page Size
+		- Flip Orientation
+
+		The message interface is available for GUI Controls, BPopupMenu to send
+		messages to the MarginView if the parent Window is not used to handle
+		the messages.
+
+	General Use of MarginView component:
+
+		1) Simply construct a new MarginView object with the margins
+			you want as defaults and add this view to the parent view
+			of the dialog.
+
+			MarginView *mv;
+			mv = new MarginView(viewSizeRect, pageWidth, pageHeight);
+			parentView-&gt;AddChild(mv);
+
+			* you can also set the margins in the constructor, and the units:
+
+			mv = new MarginView(viewSizeRect, pageWidth, pageHeight
+						marginRect, kUnitPointS);
+
+			! but remeber to have the marginRect values match the UNITS :-)
+
+		2) Set Page Size with methods:
+
+			mv-SetPageSize( pageWidth, pageHeight );
+			mv-&gt;UpdateView();
+
+		3) Set Page Size with BMessage:
+
+			BMessage* msg = new BMessage(CHANGE_PAGE_SIZE);
+			msg-&gt;AddFloat(&quot;width&quot;, pageWidth);
+			msg-&gt;AddFloat(&quot;height&quot;, pageHeight);
+			mv-&gt;PostMessage(msg);
+
+		4) Flip Page with methods:
+
+			mv-SetPageSize( pageHeight, pageWidth );
+			mv-&gt;UpdateView();
+
+		5) Flip Page with BMessage:
+
+			BMessage* msg = new BMessage(FLIP_PAGE);
+			mv-&gt;Looper()-&gt;PostMessage(msg);
+
+		Note: the MarginView DOES NOT keep track of the orientation. This
+				should be done by the code for the Page setup dialog.
+
+		6) Get Page Size
+
+			BPoint pageSize = mv-&gt;GetPageSize();
+
+		7) Get Margins
+
+			BRect margins = mv-&gt;GetMargins();
+
+		8) Get Units
+
+			uint32 units = mv-&gt;GetUnits();
+
+			where units is one of:
+				kUnitInch,  72 points/in
+				kUnitCM,    28.346 points/cm
+				kUnitPoint, 1 point/point
+*/
+
+#ifndef _MARGIN_VIEW_H
+#define _MARGIN_VIEW_H
+
+#include &lt;InterfaceKit.h&gt;
+#include &lt;Looper.h&gt;
+
+class BTextControl;
+class MarginManager;
+
+// Messages that the MarginManager accepts
+const uint32 TOP_MARGIN_CHANGED    = 'tchg';
+const uint32 RIGHT_MARGIN_CHANGED  = 'rchg';
+const uint32 LEFT_MARGIN_CHANGED   = 'lchg';
+const uint32 BOTTOM_MARGIN_CHANGED = 'bchg';
+const uint32 MARGIN_CHANGED        = 'mchg';
+const uint32 CHANGE_PAGE_SIZE      = 'chps';
+const uint32 FLIP_PAGE             = 'flip';
+const uint32 MARGIN_UNIT_CHANGED   = 'mucg';
+
+enum MarginUnit {
+	kUnitInch = 0,
+	kUnitCM,
+	kUnitPoint
+};
+
+/**
+ * Class MarginView
+ */
+class MarginView : public BBox
+{
+friend class MarginManager;
+
+public:
+							MarginView(BRect rect, int32 pageWidth = 0,
+								int32 pageHeight = 0,
+								BRect margins = BRect(1, 1, 1, 1), // 1 inch
+								MarginUnit unit = kUnitInch);
+
+	virtual					~MarginView();
+
+	virtual	void			AttachedToWindow();
+	virtual	void			Draw(BRect rect);
+	virtual	void			FrameResized(float width, float height);
+	virtual	void			MessageReceived(BMessage *msg);
+
+			// point.x = width, point.y = height
+			BPoint			PageSize() const;
+			void			SetPageSize(float pageWidth, float pageHeight);
+
+			// margin
+			BRect			Margin() const;
+
+			// units
+			MarginUnit		Unit() const;
+
+			// will cause a recalc and redraw
+			void			UpdateView(uint32 msg);
+
+private:
+			// all the GUI construction code
+			void			_ConstructGUI();
+
+			// utility method
+			void			_AllowOnlyNumbers(BTextControl *textControl,
+								int32 maxNum);
+
+			// performed internally using text fields
+			void			_SetMargin(BRect margin);
+
+			// performed internally using the supplied popup
+			void			_SetMarginUnit(MarginUnit unit);
+
+			// Calculate the view size for the margins
+			void			_CalculateViewSize(uint32 msg);
+
+private:
+			BTextControl*	fTop;
+			BTextControl*	fBottom;
+			BTextControl*	fLeft;
+			BTextControl*	fRight;
+
+			// rect that holds the margins for the page as a set of point offsets
+			BRect			fMargins;
+
+			// the maximum size of the page view calculated from the view size
+			float			fMaxPageWidth;
+			float			fMaxPageHeight;
+
+			// the actual size of the page in points
+			float			fPageHeight;
+			float			fPageWidth;
+
+			// the units used to calculate the page size
+			MarginUnit		fMarginUnit;
+			float			fUnitValue;
+
+			// the size of the drawing area we have to draw the view in pixels
+			float			fViewHeight;
+			float			fViewWidth;
+};
+
+#endif // _MARGIN_VIEW_H

Modified: haiku/trunk/headers/libs/print/libprint/Transport.h
===================================================================
--- haiku/trunk/headers/private/print/libprint/Transport.h	2008-07-20 21:16:37 UTC (rev 26528)
+++ haiku/trunk/headers/libs/print/libprint/Transport.h	2008-07-22 20:30:14 UTC (rev 26570)
@@ -1,57 +1,57 @@
-/*
- * Transport.h
- * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
- */
-
-#ifndef __TRANSPORT_H
-#define __TRANSPORT_H
-
-#include &lt;image.h&gt;
-#include &lt;string&gt;
-
-class BDataIO;
-class PrinterData;
-
-#if (!__MWERKS__ || defined(MSIPL_USING_NAMESPACE))
-using namespace std;
-#else 
-#define std
-#endif
-
-extern &quot;C&quot; {
-	typedef BDataIO *(*PFN_init_transport)(BMessage *);
-	typedef void (*PFN_exit_transport)(void);
-}
-
-class TransportException {
-private:
-	string fWhat;
-public:
-	TransportException(const string &amp;what_arg) : fWhat(what_arg) {}
-	const char *what() const { return fWhat.c_str(); }
-};
-
-class Transport {
-public:
-	Transport(const PrinterData *printer_data);
-	~Transport();
-	void write(const void *buffer, size_t size) throw(TransportException);
-	bool check_abort() const;
-	bool is_print_to_file_canceled() const;
-	const string &amp;last_error() const;
-
-protected:
-	void set_last_error(const char *e);
-	Transport(const Transport &amp;);
-	Transport &amp;operator = (const Transport &amp;);
-
-private:
-	image_id           fImage;
-	PFN_init_transport fInitTransport;
-	PFN_exit_transport fExitTransport;
-	BDataIO            *fDataStream;
-	bool               fAbort;
-	string             fLastErrorString;
-};
-
-#endif	// __TRANSPORT_H
+/*
+ * Transport.h
+ * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
+ */
+
+#ifndef __TRANSPORT_H
+#define __TRANSPORT_H
+
+#include &lt;image.h&gt;
+#include &lt;string&gt;
+
+class BDataIO;
+class PrinterData;
+
+#if (!__MWERKS__ || defined(MSIPL_USING_NAMESPACE))
+using namespace std;
+#else 
+#define std
+#endif
+
+extern &quot;C&quot; {
+	typedef BDataIO *(*PFN_init_transport)(BMessage *);
+	typedef void (*PFN_exit_transport)(void);
+}
+
+class TransportException {
+private:
+	string fWhat;
+public:
+	TransportException(const string &amp;what_arg) : fWhat(what_arg) {}
+	const char *what() const { return fWhat.c_str(); }
+};
+
+class Transport {
+public:
+	Transport(const PrinterData *printer_data);
+	~Transport();
+	void write(const void *buffer, size_t size) throw(TransportException);
+	bool check_abort() const;
+	bool is_print_to_file_canceled() const;
+	const string &amp;last_error() const;
+
+protected:
+	void set_last_error(const char *e);
+	Transport(const Transport &amp;);
+	Transport &amp;operator = (const Transport &amp;);
+
+private:
+	image_id           fImage;
+	PFN_init_transport fInitTransport;
+	PFN_exit_transport fExitTransport;
+	BDataIO            *fDataStream;
+	bool               fAbort;
+	string             fLastErrorString;
+};
+
+#endif	// __TRANSPORT_H

Deleted: haiku/trunk/headers/private/interface/pr_server.h

Copied: haiku/trunk/headers/private/print/InterfaceUtils.h (from rev 26528, haiku/trunk/headers/private/print/utils/InterfaceUtils.h)

Copied: haiku/trunk/headers/private/print/MarginView.h (from rev 26528, haiku/trunk/headers/private/print/utils/MarginView.h)

Copied: haiku/trunk/headers/private/print/Utils.h (from rev 26528, haiku/trunk/headers/private/print/utils/Utils.h)

Copied: haiku/trunk/headers/private/print/pr_server.h (from rev 26528, haiku/trunk/headers/private/interface/pr_server.h)

Deleted: haiku/trunk/headers/private/print/utils/InterfaceUtils.h

Deleted: haiku/trunk/headers/private/print/utils/MarginView.h

Deleted: haiku/trunk/headers/private/print/utils/Utils.h

Modified: haiku/trunk/src/add-ons/print/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -1,5 +1,4 @@
 SubDir HAIKU_TOP src add-ons print ;
 
-SubInclude HAIKU_TOP src add-ons print shared ;
 SubInclude HAIKU_TOP src add-ons print drivers ;
 SubInclude HAIKU_TOP src add-ons print transports ;

Modified: haiku/trunk/src/add-ons/print/drivers/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -1,6 +1,5 @@
 SubDir HAIKU_TOP src add-ons print drivers ;
 
-SubInclude HAIKU_TOP src add-ons print drivers shared ;
 SubInclude HAIKU_TOP src add-ons print drivers canon_lips ;
 SubInclude HAIKU_TOP src add-ons print drivers pcl5 ;
 SubInclude HAIKU_TOP src add-ons print drivers pcl6 ;

Modified: haiku/trunk/src/add-ons/print/drivers/canon_lips/lips3/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/canon_lips/lips3/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/canon_lips/lips3/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,8 +2,7 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print libprint ] ; 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ; 
+SubDirHdrs [ FDirName $(HAIKU_TOP) headers libs print libprint ] ;
 
 AddResources Canon\ LIPS3\ Compatible : Lips3.rdef ;
 
@@ -13,8 +12,8 @@
 	Lips3Cap.cpp
 	Compress3.cpp
 	:
-	be 
-	libprint.a 
+	be
+	libprint.a
 	libprintutils.a
 	$(TARGET_LIBSTDC++)
 ;

Modified: haiku/trunk/src/add-ons/print/drivers/canon_lips/lips4/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/canon_lips/lips4/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/canon_lips/lips4/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,8 +2,7 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print libprint ] ; 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ; 
+SubDirHdrs [ FDirName $(HAIKU_TOP) headers libs print libprint ] ;
 
 AddResources Canon\ LIPS4\ Compatible : Lips4.rdef ;
 
@@ -12,8 +11,8 @@
 	Lips4.cpp
 	Lips4Cap.cpp
 	:
-	be 
-	libprint.a 
+	be
+	libprint.a
 	libprintutils.a
 	$(TARGET_LIBSTDC++)
 ;

Modified: haiku/trunk/src/add-ons/print/drivers/pcl5/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/pcl5/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/pcl5/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,8 +2,7 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print libprint ] ; 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ; 
+SubDirHdrs [ FDirName $(HAIKU_TOP) headers libs print libprint ] ;
 
 AddResources PCL5\ Compatible : PCL5.rsrc ;
 
@@ -12,8 +11,8 @@
 	PCL5.cpp
 	PCL5Cap.cpp
 	:
-	be 
-	libprint.a 
+	be
+	libprint.a
 	libprintutils.a
 	$(TARGET_LIBSTDC++)
 ;

Modified: haiku/trunk/src/add-ons/print/drivers/pcl6/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/pcl6/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/pcl6/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,8 +2,7 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print libprint ] ; 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ; 
+SubDirHdrs [ FDirName $(HAIKU_TOP) headers libs print libprint ] ;
 
 AddResources PCL6\ Compatible : PCL6.rsrc ;
 
@@ -16,8 +15,8 @@
 	PCL6Writer.cpp
 	Rasterizer.cpp
 	:
-	be 
-	libprint.a 
+	be
+	libprint.a
 	libprintutils.a
 	$(TARGET_LIBSTDC++)
 ;

Modified: haiku/trunk/src/add-ons/print/drivers/pdf/source/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/pdf/source/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/pdf/source/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,8 +2,7 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print ] ; 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ; 
+UsePrivateHeaders print ;
 SubDirHdrs [ FDirName $(HAIKU_TOP) src libs pdflib libs pdflib ] ;
 
 AddResources PDF\ Writer : 

Modified: haiku/trunk/src/add-ons/print/drivers/postscript/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/postscript/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/postscript/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,8 +2,7 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print libprint ] ; 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ; 
+SubDirHdrs [ FDirName $(HAIKU_TOP) headers libs print libprint ] ;
 
 AddResources PS\ Compatible : PS.rsrc ;
 
@@ -12,8 +11,8 @@
 	PS.cpp
 	PSCap.cpp
 	:
-	be 
-	libprint.a 
+	be
+	libprint.a
 	libprintutils.a
 	$(TARGET_LIBSTDC++)
 ;

Modified: haiku/trunk/src/add-ons/print/drivers/preview/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/preview/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/drivers/preview/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,11 +2,8 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print ] ;
-SubDirHdrs [ FDirName $(HAIKU_TOP) headers private print utils ] ;
+UsePrivateHeaders print ;
 
-UsePrivateHeaders interface ;
-
 AddResources Preview : Preview.rsrc ;
 
 Addon Preview :

Modified: haiku/trunk/src/add-ons/print/transports/parallel_port/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/transports/parallel_port/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/transports/parallel_port/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,17 +2,15 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
+UsePrivateHeaders print ;
 SubDirHdrs [ FDirName $(HAIKU_TOP) src add-ons print transports shared ] ;
-UsePrivateHeaders interface print ;
 
 Addon Parallel\ Port :
 	ParallelTransport.cpp
-	PrintTransportAddOn.o
-	: be
+	: be libprintutils.a
 ;
 
-ObjectReferences &lt;src!add-ons!print!shared&gt;PrintTransportAddOn.o ;
-
 Package haiku-printingkit-cvs :
 	Parallel\ Port :
 	boot home config add-ons Print transport ;
+

Modified: haiku/trunk/src/add-ons/print/transports/serial_port/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/transports/serial_port/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/transports/serial_port/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,17 +2,15 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
+UsePrivateHeaders print ;
 SubDirHdrs [ FDirName $(HAIKU_TOP) src add-ons print transports shared ] ;
-UsePrivateHeaders interface print ;
 
 Addon Serial\ Port :
 	SerialTransport.cpp
-	PrintTransportAddOn.o
-	: be
+	: be libprintutils.a
 ;
 
-ObjectReferences &lt;src!add-ons!print!shared&gt;PrintTransportAddOn.o ;
-
 Package haiku-printingkit-cvs :
 	Serial\ Port :
 	boot home config add-ons Print transport ;
+

Modified: haiku/trunk/src/add-ons/print/transports/usb_port/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/print/transports/usb_port/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/add-ons/print/transports/usb_port/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -2,17 +2,15 @@
 
 SetSubDirSupportedPlatformsBeOSCompatible ;
 
+UsePrivateHeaders print ;
 SubDirHdrs [ FDirName $(HAIKU_TOP) src add-ons print transports shared ] ;
-UsePrivateHeaders interface print ;
 
 Addon USB\ Port :
 	USBTransport.cpp
-	PrintTransportAddOn.o
-	: be
+	: be libprintutils.a
 ;
 
-ObjectReferences &lt;src!add-ons!print!shared&gt;PrintTransportAddOn.o ;
-
 Package haiku-printingkit-cvs :
 	USB\ Port :
 	boot home config add-ons Print transport ;
+

Modified: haiku/trunk/src/kits/Jamfile
===================================================================
--- haiku/trunk/src/kits/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/kits/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -94,6 +94,7 @@
 SubInclude HAIKU_TOP src kits midi2 ;
 SubInclude HAIKU_TOP src kits network ;
 SubInclude HAIKU_TOP src kits opengl ;
+SubInclude HAIKU_TOP src kits print ;
 SubInclude HAIKU_TOP src kits screensaver ;
 SubInclude HAIKU_TOP src kits shared ;
 SubInclude HAIKU_TOP src kits storage ;

Modified: haiku/trunk/src/kits/interface/Jamfile
===================================================================
--- haiku/trunk/src/kits/interface/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/kits/interface/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -25,7 +25,7 @@
 
 SetSubDirSupportedPlatforms haiku libbe_test ;
 
-UsePrivateHeaders app input interface shared tracker ;
+UsePrivateHeaders app input print interface shared tracker ;
 UseLibraryHeaders icon png zlib ;
 
 

Copied: haiku/trunk/src/kits/print/BeUtils.cpp (from rev 26528, haiku/trunk/src/servers/print/shared/BeUtils.cpp)

Copied: haiku/trunk/src/kits/print/BeUtilsTranslation.cpp (from rev 26528, haiku/trunk/src/servers/print/shared/BeUtilsTranslation.cpp)

Copied: haiku/trunk/src/kits/print/FolderWatcher.cpp (from rev 26528, haiku/trunk/src/servers/print/shared/FolderWatcher.cpp)

Copied: haiku/trunk/src/kits/print/InterfaceUtils.cpp (from rev 26528, haiku/trunk/src/add-ons/print/drivers/shared/utils/InterfaceUtils.cpp)

Added: haiku/trunk/src/kits/print/Jamfile
===================================================================
--- haiku/trunk/src/kits/print/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/kits/print/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -0,0 +1,20 @@
+SubDir HAIKU_TOP src kits print ;
+
+SetSubDirSupportedPlatformsBeOSCompatible ;
+
+UsePrivateHeaders shared print ;
+
+StaticLibrary libprintutils.a :
+	BeUtils.cpp
+	BeUtilsTranslation.cpp
+	FolderWatcher.cpp
+	InterfaceUtils.cpp
+	Jobs.cpp
+	MarginView.cpp
+	PrintJobReader.cpp
+	PicturePrinter.cpp
+	PrintTransport.cpp
+	PictureIterator.cpp
+	PrintTransportAddOn.cpp
+	Utils.cpp
+;

Copied: haiku/trunk/src/kits/print/Jobs.cpp (from rev 26528, haiku/trunk/src/servers/print/shared/Jobs.cpp)

Copied: haiku/trunk/src/kits/print/MarginView.cpp (from rev 26528, haiku/trunk/src/add-ons/print/drivers/shared/utils/MarginView.cpp)

Copied: haiku/trunk/src/kits/print/PictureIterator.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/PictureIterator.cpp)

Copied: haiku/trunk/src/kits/print/PicturePrinter.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/PicturePrinter.cpp)

Copied: haiku/trunk/src/kits/print/PrintJobReader.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/PrintJobReader.cpp)

Copied: haiku/trunk/src/kits/print/PrintTransport.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/PrintTransport.cpp)

Copied: haiku/trunk/src/kits/print/PrintTransportAddOn.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/PrintTransportAddOn.cpp)

Copied: haiku/trunk/src/kits/print/PrinterDriverAddOn.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/PrinterDriverAddOn.cpp)

Copied: haiku/trunk/src/kits/print/Template.cpp (from rev 26528, haiku/trunk/src/add-ons/print/shared/Template.cpp)

Copied: haiku/trunk/src/kits/print/Utils.cpp (from rev 26528, haiku/trunk/src/add-ons/print/drivers/shared/utils/Utils.cpp)

Modified: haiku/trunk/src/libs/Jamfile
===================================================================
--- haiku/trunk/src/libs/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/libs/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -16,6 +16,7 @@
 SubInclude HAIKU_TOP src libs ncurses ;
 SubInclude HAIKU_TOP src libs pdflib ;
 SubInclude HAIKU_TOP src libs png ;
+SubInclude HAIKU_TOP src libs print ;
 SubInclude HAIKU_TOP src libs stdc++ ;
 SubInclude HAIKU_TOP src libs termcap ;
 SubInclude HAIKU_TOP src libs util ;

Added: haiku/trunk/src/libs/print/Jamfile
===================================================================
--- haiku/trunk/src/libs/print/Jamfile	2008-07-22 18:38:04 UTC (rev 26569)
+++ haiku/trunk/src/libs/print/Jamfile	2008-07-22 20:30:14 UTC (rev 26570)
@@ -0,0 +1,3 @@
+SubDir HAIKU_TOP src libs print ;
+
+SubInclude HAIKU_TOP src libs print libprint ;

Copied: haiku/trunk/src/libs/print/libprint (from rev 26528, haiku/trunk/src/add-ons/print/drivers/shared/libprint)

Modified: haiku/trunk/src/libs/print/libprint/AboutBox.cpp
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/shared/libprint/AboutBox.cpp	2008-07-20 21:16:37 UTC (rev 26528)
+++ haiku/trunk/src/libs/print/libprint/AboutBox.cpp	2008-07-22 20:30:14 UTC (rev 26570)
@@ -1,110 +1,110 @@
-/*
- * AboutBox.cpp
- * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
- */
-
-#include &lt;cstdio&gt;
-#include &lt;string&gt;
-
-#include &lt;Window.h&gt;
-#include &lt;View.h&gt;
-#include &lt;Button.h&gt;
-
-#include &quot;AboutBox.h&quot;
-
-#if (!__MWERKS__ || defined(MSIPL_USING_NAMESPACE))
-using namespace std;
-#else 
-#define std
-#endif
-
-enum {
-	kMsgOK = 'AbOK'
-};
-
-
-class AboutBoxView : public BView {
-public:
-	AboutBoxView(BRect frame, const char *driver_name, const char *version, const char *copyright);
-	virtual void Draw(BRect);
-	virtual void AttachedToWindow();
-
-private:
-	string fDriverName;
-	string fVersion;
-	string fCopyright;
-};
-
-AboutBoxView::AboutBoxView(BRect rect, const char *driver_name, const char *version, const char *copyright)
-	: BView(rect, &quot;&quot;, B_FOLLOW_ALL, B_WILL_DRAW)
-{
-	fDriverName = driver_name;
-	fVersion     = version;
-	fCopyright   = copyright;
-	SetViewColor(ui_color(B_PANEL_BACKGROUND_COLOR));
-	SetDrawingMode(B_OP_SELECT);
-}
-
-void AboutBoxView::Draw(BRect)
-{
-	SetHighColor(0, 0, 0);
-	DrawString(fDriverName.c_str(), BPoint(10.0f, 16.0f));
-	DrawString(&quot; Driver for &quot;);
-	SetHighColor(0, 0, 0xff);
-	DrawString(&quot;B&quot;);
-	SetHighColor(0xff, 0, 0);
-	DrawString(&quot;e&quot;);
-	SetHighColor(0, 0, 0);
-	DrawString(&quot;OS  Version &quot;);
-	DrawString(fVersion.c_str());
-	DrawString(fCopyright.c_str(), BPoint(10.0f, 30.0f));
-}
-
-void AboutBoxView::AttachedToWindow()
-{
-	BRect rect;
-	rect.Set(110, 50, 175, 55);
-	BButton *button = new BButton(rect, &quot;&quot;, &quot;OK&quot;, new BMessage(kMsgOK));
-	AddChild(button);
-	button-&gt;MakeDefault(true);
-}
-
-class AboutBoxWindow : public BWindow {
-public:
-	AboutBoxWindow(BRect frame, const char *driver_name, const char *version, const char *copyright); 
-	virtual void MessageReceived(BMessage *msg);
-	virtual	bool QuitRequested();
-};
-
-AboutBoxWindow::AboutBoxWindow(BRect frame, const char *driver_name, const char *version, const char *copyright)
-	: BWindow(frame, &quot;&quot;, B_TITLED_WINDOW, B_NOT_RESIZABLE | B_NOT_ZOOMABLE )
-{
-	char title[256];
-	sprintf(title, &quot;About %s Driver&quot;, driver_name);
-	SetTitle(title);
-	AddChild(new AboutBoxView(Bounds(), driver_name, version, copyright));
-}
-
-void AboutBoxWindow::MessageReceived(BMessage *msg)
-{
-	switch (msg-&gt;what) {
-	case kMsgOK:
-		be_app-&gt;PostMessage(B_QUIT_REQUESTED);
-		break;
-	}
-}
-
-bool AboutBoxWindow::QuitRequested()
-{
-	be_app-&gt;PostMessage(B_QUIT_REQUESTED);
-	return true;
-}
-
-AboutBox::AboutBox(const char *signature, const char *driver_name, const char *version, const char *copyright)
-	: BApplication(signature)
-{
-	BRect rect;
-	rect.Set(100, 80, 400, 170);
-	AboutBoxWindow *window = new AboutBoxWindow(rect, driver_name, version, copyright);
-	window-&gt;Show();
-}
+/*
+ * AboutBox.cpp
+ * Copyright 1999-2000 Y.Takagi. All Rights Reserved.
+ */
+
+#include &lt;cstdio&gt;
+#include &lt;string&gt;
+
+#include &lt;Window.h&gt;
+#include &lt;View.h&gt;
+#include &lt;Button.h&gt;
+
+#include &quot;AboutBox.h&quot;
+
+#if (!__MWERKS__ || defined(MSIPL_USING_NAMESPACE))
+using namespace std;
+#else 
+#define std
+#endif
+
+enum {
+	kMsgOK = 'AbOK'
+};
+
+
+class AboutBoxView : public BView {
+public:
+	AboutBoxView(BRect frame, const char *driver_name, const char *version, const char *copyright);
+	virtual void Draw(BRect);
+	virtual void AttachedToWindow();
+
+private:
+	string fDriverName;
+	string fVersion;
+	string fCopyright;
+};
+
+AboutBoxView::AboutBoxView(BRect rect, const char *driver_name, const char *version, const char *copyright)
+	: BView(rect, &quot;&quot;, B_FOLLOW_ALL, B_WILL_DRAW)
+{
+	fDriverName = driver_name;
+	fVersion     = version;
+	fCopyright   = copyright;
+	SetViewColor(ui_color(B_PANEL_BACKGROUND_COLOR));
+	SetDrawingMode(B_OP_SELECT);
+}
+
+void AboutBoxView::Draw(BRect)
+{
+	SetHighColor(0, 0, 0);
+	DrawString(fDriverName.c_str(), BPoint(10.0f, 16.0f));
+	DrawString(&quot; Driver for &quot;);
+	SetHighColor(0, 0, 0xff);
+	DrawString(&quot;B&quot;);
+	SetHighColor(0xff, 0, 0);
+	DrawString(&quot;e&quot;);
+	SetHighColor(0, 0, 0);
+	DrawString(&quot;OS  Version &quot;);
+	DrawString(fVersion.c_str());
+	DrawString(fCopyright.c_str(), BPoint(10.0f, 30.0f));
+}
+

[... truncated: 624 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010492.html">[Haiku-commits] r26569 - haiku/branches/developer/bonefish/vm/src/system/kernel/vm
</A></li>
	<LI>Next message: <A HREF="010482.html">[Haiku-commits] r26571 - haiku/trunk/headers/private/print
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10481">[ date ]</a>
              <a href="thread.html#10481">[ thread ]</a>
              <a href="subject.html#10481">[ subject ]</a>
              <a href="author.html#10481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
