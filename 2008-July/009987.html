<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r26231 - haiku/trunk/headers/os/bluetooth/HCI
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26231%20-%20haiku/trunk/headers/os/bluetooth/HCI&In-Reply-To=%3C200807022110.m62LAcvI023929%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009986.html">
   <LINK REL="Next"  HREF="009988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r26231 - haiku/trunk/headers/os/bluetooth/HCI</H1>
    <B>oruizdorantes at mail.berlios.de</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26231%20-%20haiku/trunk/headers/os/bluetooth/HCI&In-Reply-To=%3C200807022110.m62LAcvI023929%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r26231 - haiku/trunk/headers/os/bluetooth/HCI">oruizdorantes at mail.berlios.de
       </A><BR>
    <I>Wed Jul  2 23:10:38 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="009986.html">[Haiku-commits] r26230 - haiku/trunk/src/servers/bluetooth
</A></li>
        <LI>Next message: <A HREF="009988.html">[Haiku-commits] r26232 - haiku/trunk/headers/os/bluetooth/L2CAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9987">[ date ]</a>
              <a href="thread.html#9987">[ thread ]</a>
              <a href="subject.html#9987">[ subject ]</a>
              <a href="author.html#9987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: oruizdorantes
Date: 2008-07-02 23:10:24 +0200 (Wed, 02 Jul 2008)
New Revision: 26231
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=26231&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=26231&amp;view=rev</A>

Modified:
   haiku/trunk/headers/os/bluetooth/HCI/btHCI.h
   haiku/trunk/headers/os/bluetooth/HCI/btHCI_acl.h
   haiku/trunk/headers/os/bluetooth/HCI/btHCI_command.h
   haiku/trunk/headers/os/bluetooth/HCI/btHCI_event.h
   haiku/trunk/headers/os/bluetooth/HCI/btHCI_module.h
   haiku/trunk/headers/os/bluetooth/HCI/btHCI_transport.h
Log:
Fix EOL

Modified: haiku/trunk/headers/os/bluetooth/HCI/btHCI.h
===================================================================
--- haiku/trunk/headers/os/bluetooth/HCI/btHCI.h	2008-07-02 21:09:04 UTC (rev 26230)
+++ haiku/trunk/headers/os/bluetooth/HCI/btHCI.h	2008-07-02 21:10:24 UTC (rev 26231)
@@ -1,41 +1,41 @@
-/*
- * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
- *
- * All rights reserved. Distributed under the terms of the MIT License.
- *
- */
-
-#ifndef _BTHCI_H_
-#define _BTHCI_H_
-
-/* typedefs */
-typedef int32 hci_id;
-
-typedef enum { H2 = 2, H3, H4, H5 } transport_type; 
-
-// TODO: something more authomatic here? 
-#define HCI_NUM_PACKET_TYPES 5
-typedef enum { BT_COMMAND = 0, 
-               BT_EVENT, 
-               BT_ACL, 
-               BT_SCO,
-               BT_ESCO
-              } bt_packet_t;
-
-
-/* packets sizes */
-#define HCI_MAX_ACL_SIZE	1024
-#define HCI_MAX_SCO_SIZE	255
-#define HCI_MAX_EVENT_SIZE	260
-#define HCI_MAX_FRAME_SIZE	(HCI_MAX_ACL_SIZE + 4)
-
-/* fields sizes */
-#define HCI_LAP_SIZE			3   /* LAP */
-#define HCI_LINK_KEY_SIZE		16  /* link key */
-#define HCI_PIN_SIZE			16  /* PIN */
-#define HCI_EVENT_MASK_SIZE		8   /* event mask */
-#define HCI_CLASS_SIZE			3   /* class */
-#define HCI_FEATURES_SIZE		8   /* LMP features */
-#define HCI_DEVICE_NAME_SIZE	248 /* unit name size */
-
-#endif
+/*
+ * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
+ *
+ * All rights reserved. Distributed under the terms of the MIT License.
+ *
+ */
+
+#ifndef _BTHCI_H_
+#define _BTHCI_H_
+
+/* typedefs */
+typedef int32 hci_id;
+
+typedef enum { H2 = 2, H3, H4, H5 } transport_type; 
+
+// TODO: something more authomatic here? 
+#define HCI_NUM_PACKET_TYPES 5
+typedef enum { BT_COMMAND = 0, 
+               BT_EVENT, 
+               BT_ACL, 
+               BT_SCO,
+               BT_ESCO
+              } bt_packet_t;
+
+
+/* packets sizes */
+#define HCI_MAX_ACL_SIZE	1024
+#define HCI_MAX_SCO_SIZE	255
+#define HCI_MAX_EVENT_SIZE	260
+#define HCI_MAX_FRAME_SIZE	(HCI_MAX_ACL_SIZE + 4)
+
+/* fields sizes */
+#define HCI_LAP_SIZE			3   /* LAP */
+#define HCI_LINK_KEY_SIZE		16  /* link key */
+#define HCI_PIN_SIZE			16  /* PIN */
+#define HCI_EVENT_MASK_SIZE		8   /* event mask */
+#define HCI_CLASS_SIZE			3   /* class */
+#define HCI_FEATURES_SIZE		8   /* LMP features */
+#define HCI_DEVICE_NAME_SIZE	248 /* unit name size */
+
+#endif


Property changes on: haiku/trunk/headers/os/bluetooth/HCI/btHCI.h
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: haiku/trunk/headers/os/bluetooth/HCI/btHCI_acl.h
===================================================================
--- haiku/trunk/headers/os/bluetooth/HCI/btHCI_acl.h	2008-07-02 21:09:04 UTC (rev 26230)
+++ haiku/trunk/headers/os/bluetooth/HCI/btHCI_acl.h	2008-07-02 21:10:24 UTC (rev 26231)
@@ -1,39 +1,39 @@
-/*
- * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
- *
- * All rights reserved. Distributed under the terms of the MIT License.
- *
- */
- 
-#ifndef _BTHCI_ACL_H_
-#define _BTHCI_ACL_H_
-
-#include &lt;bluetooth/bluetooth.h&gt;
-#include &lt;bluetooth/HCI/btHCI.h&gt;
-
-#define HCI_ACL_HDR_SIZE     4
-
-struct hci_acl_header {
-	uint16 	handle;		/* Handle &amp; Flags(PB, BC) */
-	uint16 	alen;
-} __attribute__ ((packed)) ;
-
-/* ACL handle and flags pack/unpack */
-#define pack_acl_handle_flags(h, pb, bc)    (((h) &amp; 0x0fff) | (((pb) &amp; 3) &lt;&lt; 12) | (((bc) &amp; 3) &lt;&lt; 14))
-#define get_acl_handle(h)					((h) &amp; 0x0fff)
-#define get_acl_pb_flag(h)					(((h) &amp; 0x3000) &gt;&gt; 12)
-#define get_acl_bc_flag(h)					(((h) &amp; 0xc000) &gt;&gt; 14)
-
-/* PB flag values */
-/* 00 - reserved for future use */
-#define	HCI_ACL_PACKET_FRAGMENT		0x1 
-#define	HCI_ACL_PACKET_START		0x2
-/* 11 - reserved for future use */
-
-/* BC flag values */
-#define HCI_ACL_POINT2POINT			0x0 /* only Host controller to Host */
-#define HCI_ACL_BROADCAST_ACTIVE    0x1 /* both directions */
-#define HCI_ACL_BROADCAST_PICONET   0x2 /* both directions */
-                                        /* 11 - reserved for future use */
-					
-#endif
+/*
+ * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
+ *
+ * All rights reserved. Distributed under the terms of the MIT License.
+ *
+ */
+ 
+#ifndef _BTHCI_ACL_H_
+#define _BTHCI_ACL_H_
+
+#include &lt;bluetooth/bluetooth.h&gt;
+#include &lt;bluetooth/HCI/btHCI.h&gt;
+
+#define HCI_ACL_HDR_SIZE     4
+
+struct hci_acl_header {
+	uint16 	handle;		/* Handle &amp; Flags(PB, BC) */
+	uint16 	alen;
+} __attribute__ ((packed)) ;
+
+/* ACL handle and flags pack/unpack */
+#define pack_acl_handle_flags(h, pb, bc)    (((h) &amp; 0x0fff) | (((pb) &amp; 3) &lt;&lt; 12) | (((bc) &amp; 3) &lt;&lt; 14))
+#define get_acl_handle(h)					((h) &amp; 0x0fff)
+#define get_acl_pb_flag(h)					(((h) &amp; 0x3000) &gt;&gt; 12)
+#define get_acl_bc_flag(h)					(((h) &amp; 0xc000) &gt;&gt; 14)
+
+/* PB flag values */
+/* 00 - reserved for future use */
+#define	HCI_ACL_PACKET_FRAGMENT		0x1 
+#define	HCI_ACL_PACKET_START		0x2
+/* 11 - reserved for future use */
+
+/* BC flag values */
+#define HCI_ACL_POINT2POINT			0x0 /* only Host controller to Host */
+#define HCI_ACL_BROADCAST_ACTIVE    0x1 /* both directions */
+#define HCI_ACL_BROADCAST_PICONET   0x2 /* both directions */
+                                        /* 11 - reserved for future use */
+					
+#endif


Property changes on: haiku/trunk/headers/os/bluetooth/HCI/btHCI_acl.h
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: haiku/trunk/headers/os/bluetooth/HCI/btHCI_command.h
===================================================================
--- haiku/trunk/headers/os/bluetooth/HCI/btHCI_command.h	2008-07-02 21:09:04 UTC (rev 26230)
+++ haiku/trunk/headers/os/bluetooth/HCI/btHCI_command.h	2008-07-02 21:10:24 UTC (rev 26231)
@@ -1,340 +1,340 @@
-/*
- * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
- *
- * All rights reserved. Distributed under the terms of the MIT License.
- *
- */
-
-#ifndef _BTHCI_COMMAND_H_
-#define _BTHCI_COMMAND_H_
-
-#include &lt;bluetooth/bluetooth.h&gt;
-#include &lt;bluetooth/HCI/btHCI.h&gt;
-
-#define HCI_COMMAND_HDR_SIZE 3
-
-struct hci_command_header {
-	uint16 	opcode;		/* OCF &amp; OGF */
-	uint8 	clen;
-} __attribute__ ((packed));
-
-
-/* Command opcode pack/unpack */
-#define PACK_OPCODE(ogf, ocf)	(uint16)((ocf &amp; 0x03ff)|(ogf &lt;&lt; 10))
-#define GET_OPCODE_OGF(op)		(op &gt;&gt; 10)
-#define GET_OPCODE_OCF(op)		(op &amp; 0x03ff)
-
-
-/* - Informational Parameters Command definition - */
-#define OGF_INFORMATIONAL_PARAM	0x04
-
-    #define OCF_READ_LOCAL_VERSION	0x0001
-    struct hci_rp_read_loc_version {
-    	uint8     status;
-    	uint8     hci_ver;
-    	uint16    hci_rev;
-    	uint8     lmp_ver;
-    	uint16    manufacturer;
-    	uint16    lmp_subver;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_LOCAL_FEATURES	0x0003
-    struct hci_rp_read_loc_features {
-    	uint8 status;
-    	uint8 features[8];
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_BUFFER_SIZE	0x0005
-    struct hci_rp_read_buffer_size {
-    	uint8     status;
-    	uint16    acl_mtu;
-    	uint8     sco_mtu;
-    	uint16    acl_max_pkt;
-    	uint16    sco_max_pkt;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_BD_ADDR	0x0009
-    struct hci_rp_read_bd_addr {
-    	uint8     status;
-    	bdaddr_t  bdaddr;
-    } __attribute__ ((packed));    
-    
-/* - Host Controller and Baseband Command definition - */    
-#define OGF_CONTROL_BASEBAND	0x03
-
-    #define OCF_RESET				0x0003
-  /*struct hci_reset {
-    	void no_fields;
-    } __attribute__ ((packed));*/
-    
-    #define OCF_SET_EVENT_FLT		0x0005
-    struct hci_cp_set_event_flt {
-    	uint8     flt_type;
-    	uint8     cond_type;
-    	uint8     condition[0];
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_STORED_LINK_KEY 0x000D
-    struct hci_read_stored_link_key {
-    	bdaddr_t bdaddr;
-    	uint8	all_keys_flag;
-    } __attribute__ ((packed));
-    struct hci_read_stored_link_key_reply {
-    	uint8 	status;
-    	uint16	max_num_keys;
-    	uint16	num_keys_read;
-    } __attribute__ ((packed));
-    
-    #define OCF_WRITE_STORED_LINK_KEY 0x0011
-    struct hci_write_stored_link_key {
-    	uint8	num_keys_to_write;
-    	// these are repeated &quot;num_keys_write&quot; times 
-    	bdaddr_t bdaddr;
-    	uint8	key[HCI_LINK_KEY_SIZE]; 
-    } __attribute__ ((packed));
-    struct hci_write_stored_link_key_reply {
-    	uint8 	status;
-    	uint8	num_keys_written;
-    } __attribute__ ((packed));
-    
-    
-    #define OCF_WRITE_LOCAL_NAME	0x0013
-    #define OCF_READ_LOCAL_NAME		0x0014
-    struct hci_rp_read_local_name {
-    	uint8	status;
-    	char	local_name[HCI_DEVICE_NAME_SIZE];
-    } __attribute__ ((packed));
-    
-    #define OCF_WRITE_CA_TIMEOUT  	0x0016	
-    #define OCF_WRITE_PG_TIMEOUT  	0x0018
-    
-    #define OCF_WRITE_SCAN_ENABLE 	0x001A
-    	#define HCI_SCAN_DISABLED		0x00
-    	#define HCI_SCAN_INQUIRY		0x01
-    	#define HCI_SCAN_PAGE			0x02
-    	#define HCI_SCAN_INQUIRY_PAGE	0x03
-    struct hci_write_scan_enable {
-    	uint8	scan;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_AUTH_ENABLE	0x001F
-    #define OCF_WRITE_AUTH_ENABLE	0x0020
-    	#define HCI_AUTH_DISABLED		0x00
-    	#define HCI_AUTH_ENABLED		0x01
-    struct hci_write_authentication_enable {
-    	uint8	authentication;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_ENCRYPT_MODE	0x0021
-    #define OCF_WRITE_ENCRYPT_MODE	0x0022
-    	#define HCI_ENCRYPT_DISABLED	0x00
-    	#define HCI_ENCRYPT_P2P			0x01
-    	#define HCI_ENCRYPT_BOTH		0x02
-    struct hci_write_encryption_mode_enable {
-    	uint8	encryption;
-    } __attribute__ ((packed));
-    
-    /* Filter types */
-    #define HCI_FLT_CLEAR_ALL	0x00
-    #define HCI_FLT_INQ_RESULT	0x01
-    #define HCI_FLT_CONN_SETUP	0x02
-    
-    /* CONN_SETUP Condition types */
-    #define HCI_CONN_SETUP_ALLOW_ALL	0x00
-    #define HCI_CONN_SETUP_ALLOW_CLASS	0x01
-    #define HCI_CONN_SETUP_ALLOW_BDADDR	0x02
-    
-    /* CONN_SETUP Conditions */
-    #define HCI_CONN_SETUP_AUTO_OFF	0x01
-    #define HCI_CONN_SETUP_AUTO_ON	0x02
-    
-    #define OCF_READ_CLASS_OF_DEV	0x0023
-    
-    struct hci_read_dev_class_reply {
-    	uint8    status;
-    	uint8    dev_class[3];
-    } __attribute__ ((packed));
-    
-    #define OCF_WRITE_CLASS_OF_DEV	0x0024
-    struct hci_write_dev_class {
-    	uint8     dev_class[3];
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_VOICE_SETTING	0x0025
-    struct hci_rp_read_voice_setting {
-    	uint8	status;
-    	uint16	voice_setting;
-    } __attribute__ ((packed));
-    
-    #define OCF_WRITE_VOICE_SETTING	0x0026
-    struct hci_cp_write_voice_setting {
-    	uint16	voice_setting;
-    } __attribute__ ((packed));
-    
-    #define OCF_HOST_BUFFER_SIZE	0x0033
-    struct hci_cp_host_buffer_size {
-    	uint16    acl_mtu;
-    	uint8     sco_mtu;
-    	uint16    acl_max_pkt;
-    	uint16    sco_max_pkt;
-    } __attribute__ ((packed));
-    
-    /* Link Control Command definition */
-    #define OGF_LINK_CONTROL	0x01 
-
-    #define OCF_INQUIRY		0x0001
-    struct hci_cp_inquiry {
-    	uint8     lap[3];
-    	uint8     length;
-    	uint8     num_rsp;
-    } __attribute__ ((packed));
-    
-    #define OCF_INQUIRY_CANCEL	0x0002
-  
-    #define OCF_CREATE_CONN		0x0005
-    struct hci_cp_create_conn {
-    	bdaddr_t bdaddr;
-    	uint16    pkt_type;
-    	uint8     pscan_rep_mode;
-    	uint8     pscan_mode;
-    	uint16    clock_offset;
-    	uint8     role_switch;
-    } __attribute__ ((packed));
-        
-    #define OCF_DISCONNECT	0x0006
-    struct hci_disconnect {
-    	uint16    handle;
-    	uint8     reason;
-    } __attribute__ ((packed));
-    
-    #define OCF_ADD_SCO	0x0007
-    struct hci_cp_add_sco {
-    	uint16    handle;
-    	uint16    pkt_type;
-    } __attribute__ ((packed));
-
-    #define OCF_ACCEPT_CONN_REQ	0x0009
-    struct hci_cp_accept_conn_req {
-    	bdaddr_t bdaddr;
-    	uint8     role;
-    } __attribute__ ((packed));
-    
-    #define OCF_REJECT_CONN_REQ	0x000a
-    struct hci_cp_reject_conn_req {
-    	bdaddr_t 	bdaddr;
-    	uint8     	reason;
-    } __attribute__ ((packed));
-        
-    #define OCF_LINK_KEY_REPLY	0x000B
-    struct hci_cp_link_key_reply {
-    	bdaddr_t bdaddr;
-    	uint8     link_key[16];
-    } __attribute__ ((packed));
-    
-    #define OCF_LINK_KEY_NEG_REPLY	0x000C
-    struct hci_cp_link_key_neg_reply {
-    	bdaddr_t bdaddr;
-    } __attribute__ ((packed));
-    
-    #define OCF_PIN_CODE_REPLY	0x000D
-    struct hci_cp_pin_code_reply {
-    	bdaddr_t bdaddr;
-    	uint8     pin_len;
-    	uint8     pin_code[HCI_PIN_SIZE];
-    } __attribute__ ((packed));
-    
-    #define OCF_PIN_CODE_NEG_REPLY	0x000E
-    struct hci_cp_pin_code_neg_reply {
-    	bdaddr_t bdaddr;
-    } __attribute__ ((packed));
-    
-    #define OCF_CHANGE_CONN_PTYPE	0x000F
-    struct hci_cp_change_conn_ptype {
-    	uint16    handle;
-    	uint16    pkt_type;
-    } __attribute__ ((packed));
-    
-    #define OCF_AUTH_REQUESTED	0x0011
-    struct hci_cp_auth_requested {
-    	uint16    handle;
-    } __attribute__ ((packed));
-    
-    #define OCF_SET_CONN_ENCRYPT	0x0013
-    struct hci_cp_set_conn_encrypt {
-    	uint16    handle;
-    	uint8     encrypt;
-    } __attribute__ ((packed));
-    
-    #define OCF_CHANGE_CONN_LINK_KEY 0x0015
-    struct hci_cp_change_conn_link_key {
-    	uint16    handle;
-    } __attribute__ ((packed));
-    
-    #define OCF_REMOTE_NAME_REQUEST 0x0019
-    struct hci_remote_name_request {
-    	bdaddr_t bdaddr;
-    	uint8    pscan_rep_mode;
-    	uint8	 reserved;
-    	uint16   clock_offset;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_REMOTE_FEATURES 0x001B
-    struct hci_cp_read_rmt_features {
-    	uint16    handle;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_REMOTE_VERSION 0x001D
-    struct hci_cp_read_rmt_version {
-    	uint16    handle;
-    } __attribute__ ((packed));
-    
-    
-/* Link Policy Command definition */
-#define OGF_LINK_POLICY	 0x02
-
-    #define OCF_ROLE_DISCOVERY	0x0009
-    struct hci_cp_role_discovery {
-    	uint16    handle;
-    } __attribute__ ((packed));
-    struct hci_rp_role_discovery {
-    	uint8     status;
-    	uint16    handle;
-    	uint8     role;
-    } __attribute__ ((packed));
-    
-    #define OCF_READ_LINK_POLICY	0x000C
-    struct hci_cp_read_link_policy {
-    	uint16    handle;
-    } __attribute__ ((packed));
-    struct hci_rp_read_link_policy {
-    	uint8     status;
-    	uint16    handle;
-    	uint16    policy;
-    } __attribute__ ((packed));
-    
-    #define OCF_SWITCH_ROLE	0x000B
-    struct hci_cp_switch_role {
-    	bdaddr_t bdaddr;
-    	uint8     role;
-    } __attribute__ ((packed));
-    
-    #define OCF_WRITE_LINK_POLICY	0x000D
-    struct hci_cp_write_link_policy {
-    	uint16    handle;
-    	uint16    policy;
-    } __attribute__ ((packed));
-    struct hci_rp_write_link_policy {
-    	uint8     status;
-    	uint16    handle;
-    } __attribute__ ((packed));
-    
-/* Status params */
-#define OGF_STATUS_PARAM	0x05
-    
-/* Testing commands */
-#define OGF_TESTING_CMD		0x3E
-
-/* Vendor specific commands */
-#define OGF_VENDOR_CMD		0x3F
-
-#endif
+/*
+ * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
+ *
+ * All rights reserved. Distributed under the terms of the MIT License.
+ *
+ */
+
+#ifndef _BTHCI_COMMAND_H_
+#define _BTHCI_COMMAND_H_
+
+#include &lt;bluetooth/bluetooth.h&gt;
+#include &lt;bluetooth/HCI/btHCI.h&gt;
+
+#define HCI_COMMAND_HDR_SIZE 3
+
+struct hci_command_header {
+	uint16 	opcode;		/* OCF &amp; OGF */
+	uint8 	clen;
+} __attribute__ ((packed));
+
+
+/* Command opcode pack/unpack */
+#define PACK_OPCODE(ogf, ocf)	(uint16)((ocf &amp; 0x03ff)|(ogf &lt;&lt; 10))
+#define GET_OPCODE_OGF(op)		(op &gt;&gt; 10)
+#define GET_OPCODE_OCF(op)		(op &amp; 0x03ff)
+
+
+/* - Informational Parameters Command definition - */
+#define OGF_INFORMATIONAL_PARAM	0x04
+
+    #define OCF_READ_LOCAL_VERSION	0x0001
+    struct hci_rp_read_loc_version {
+    	uint8     status;
+    	uint8     hci_ver;
+    	uint16    hci_rev;
+    	uint8     lmp_ver;
+    	uint16    manufacturer;
+    	uint16    lmp_subver;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_LOCAL_FEATURES	0x0003
+    struct hci_rp_read_loc_features {
+    	uint8 status;
+    	uint8 features[8];
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_BUFFER_SIZE	0x0005
+    struct hci_rp_read_buffer_size {
+    	uint8     status;
+    	uint16    acl_mtu;
+    	uint8     sco_mtu;
+    	uint16    acl_max_pkt;
+    	uint16    sco_max_pkt;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_BD_ADDR	0x0009
+    struct hci_rp_read_bd_addr {
+    	uint8     status;
+    	bdaddr_t  bdaddr;
+    } __attribute__ ((packed));    
+    
+/* - Host Controller and Baseband Command definition - */    
+#define OGF_CONTROL_BASEBAND	0x03
+
+    #define OCF_RESET				0x0003
+  /*struct hci_reset {
+    	void no_fields;
+    } __attribute__ ((packed));*/
+    
+    #define OCF_SET_EVENT_FLT		0x0005
+    struct hci_cp_set_event_flt {
+    	uint8     flt_type;
+    	uint8     cond_type;
+    	uint8     condition[0];
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_STORED_LINK_KEY 0x000D
+    struct hci_read_stored_link_key {
+    	bdaddr_t bdaddr;
+    	uint8	all_keys_flag;
+    } __attribute__ ((packed));
+    struct hci_read_stored_link_key_reply {
+    	uint8 	status;
+    	uint16	max_num_keys;
+    	uint16	num_keys_read;
+    } __attribute__ ((packed));
+    
+    #define OCF_WRITE_STORED_LINK_KEY 0x0011
+    struct hci_write_stored_link_key {
+    	uint8	num_keys_to_write;
+    	// these are repeated &quot;num_keys_write&quot; times 
+    	bdaddr_t bdaddr;
+    	uint8	key[HCI_LINK_KEY_SIZE]; 
+    } __attribute__ ((packed));
+    struct hci_write_stored_link_key_reply {
+    	uint8 	status;
+    	uint8	num_keys_written;
+    } __attribute__ ((packed));
+    
+    
+    #define OCF_WRITE_LOCAL_NAME	0x0013
+    #define OCF_READ_LOCAL_NAME		0x0014
+    struct hci_rp_read_local_name {
+    	uint8	status;
+    	char	local_name[HCI_DEVICE_NAME_SIZE];
+    } __attribute__ ((packed));
+    
+    #define OCF_WRITE_CA_TIMEOUT  	0x0016	
+    #define OCF_WRITE_PG_TIMEOUT  	0x0018
+    
+    #define OCF_WRITE_SCAN_ENABLE 	0x001A
+    	#define HCI_SCAN_DISABLED		0x00
+    	#define HCI_SCAN_INQUIRY		0x01
+    	#define HCI_SCAN_PAGE			0x02
+    	#define HCI_SCAN_INQUIRY_PAGE	0x03
+    struct hci_write_scan_enable {
+    	uint8	scan;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_AUTH_ENABLE	0x001F
+    #define OCF_WRITE_AUTH_ENABLE	0x0020
+    	#define HCI_AUTH_DISABLED		0x00
+    	#define HCI_AUTH_ENABLED		0x01
+    struct hci_write_authentication_enable {
+    	uint8	authentication;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_ENCRYPT_MODE	0x0021
+    #define OCF_WRITE_ENCRYPT_MODE	0x0022
+    	#define HCI_ENCRYPT_DISABLED	0x00
+    	#define HCI_ENCRYPT_P2P			0x01
+    	#define HCI_ENCRYPT_BOTH		0x02
+    struct hci_write_encryption_mode_enable {
+    	uint8	encryption;
+    } __attribute__ ((packed));
+    
+    /* Filter types */
+    #define HCI_FLT_CLEAR_ALL	0x00
+    #define HCI_FLT_INQ_RESULT	0x01
+    #define HCI_FLT_CONN_SETUP	0x02
+    
+    /* CONN_SETUP Condition types */
+    #define HCI_CONN_SETUP_ALLOW_ALL	0x00
+    #define HCI_CONN_SETUP_ALLOW_CLASS	0x01
+    #define HCI_CONN_SETUP_ALLOW_BDADDR	0x02
+    
+    /* CONN_SETUP Conditions */
+    #define HCI_CONN_SETUP_AUTO_OFF	0x01
+    #define HCI_CONN_SETUP_AUTO_ON	0x02
+    
+    #define OCF_READ_CLASS_OF_DEV	0x0023
+    
+    struct hci_read_dev_class_reply {
+    	uint8    status;
+    	uint8    dev_class[3];
+    } __attribute__ ((packed));
+    
+    #define OCF_WRITE_CLASS_OF_DEV	0x0024
+    struct hci_write_dev_class {
+    	uint8     dev_class[3];
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_VOICE_SETTING	0x0025
+    struct hci_rp_read_voice_setting {
+    	uint8	status;
+    	uint16	voice_setting;
+    } __attribute__ ((packed));
+    
+    #define OCF_WRITE_VOICE_SETTING	0x0026
+    struct hci_cp_write_voice_setting {
+    	uint16	voice_setting;
+    } __attribute__ ((packed));
+    
+    #define OCF_HOST_BUFFER_SIZE	0x0033
+    struct hci_cp_host_buffer_size {
+    	uint16    acl_mtu;
+    	uint8     sco_mtu;
+    	uint16    acl_max_pkt;
+    	uint16    sco_max_pkt;
+    } __attribute__ ((packed));
+    
+    /* Link Control Command definition */
+    #define OGF_LINK_CONTROL	0x01 
+
+    #define OCF_INQUIRY		0x0001
+    struct hci_cp_inquiry {
+    	uint8     lap[3];
+    	uint8     length;
+    	uint8     num_rsp;
+    } __attribute__ ((packed));
+    
+    #define OCF_INQUIRY_CANCEL	0x0002
+  
+    #define OCF_CREATE_CONN		0x0005
+    struct hci_cp_create_conn {
+    	bdaddr_t bdaddr;
+    	uint16    pkt_type;
+    	uint8     pscan_rep_mode;
+    	uint8     pscan_mode;
+    	uint16    clock_offset;
+    	uint8     role_switch;
+    } __attribute__ ((packed));
+        
+    #define OCF_DISCONNECT	0x0006
+    struct hci_disconnect {
+    	uint16    handle;
+    	uint8     reason;
+    } __attribute__ ((packed));
+    
+    #define OCF_ADD_SCO	0x0007
+    struct hci_cp_add_sco {
+    	uint16    handle;
+    	uint16    pkt_type;
+    } __attribute__ ((packed));
+
+    #define OCF_ACCEPT_CONN_REQ	0x0009
+    struct hci_cp_accept_conn_req {
+    	bdaddr_t bdaddr;
+    	uint8     role;
+    } __attribute__ ((packed));
+    
+    #define OCF_REJECT_CONN_REQ	0x000a
+    struct hci_cp_reject_conn_req {
+    	bdaddr_t 	bdaddr;
+    	uint8     	reason;
+    } __attribute__ ((packed));
+        
+    #define OCF_LINK_KEY_REPLY	0x000B
+    struct hci_cp_link_key_reply {
+    	bdaddr_t bdaddr;
+    	uint8     link_key[16];
+    } __attribute__ ((packed));
+    
+    #define OCF_LINK_KEY_NEG_REPLY	0x000C
+    struct hci_cp_link_key_neg_reply {
+    	bdaddr_t bdaddr;
+    } __attribute__ ((packed));
+    
+    #define OCF_PIN_CODE_REPLY	0x000D
+    struct hci_cp_pin_code_reply {
+    	bdaddr_t bdaddr;
+    	uint8     pin_len;
+    	uint8     pin_code[HCI_PIN_SIZE];
+    } __attribute__ ((packed));
+    
+    #define OCF_PIN_CODE_NEG_REPLY	0x000E
+    struct hci_cp_pin_code_neg_reply {
+    	bdaddr_t bdaddr;
+    } __attribute__ ((packed));
+    
+    #define OCF_CHANGE_CONN_PTYPE	0x000F
+    struct hci_cp_change_conn_ptype {
+    	uint16    handle;
+    	uint16    pkt_type;
+    } __attribute__ ((packed));
+    
+    #define OCF_AUTH_REQUESTED	0x0011
+    struct hci_cp_auth_requested {
+    	uint16    handle;
+    } __attribute__ ((packed));
+    
+    #define OCF_SET_CONN_ENCRYPT	0x0013
+    struct hci_cp_set_conn_encrypt {
+    	uint16    handle;
+    	uint8     encrypt;
+    } __attribute__ ((packed));
+    
+    #define OCF_CHANGE_CONN_LINK_KEY 0x0015
+    struct hci_cp_change_conn_link_key {
+    	uint16    handle;
+    } __attribute__ ((packed));
+    
+    #define OCF_REMOTE_NAME_REQUEST 0x0019
+    struct hci_remote_name_request {
+    	bdaddr_t bdaddr;
+    	uint8    pscan_rep_mode;
+    	uint8	 reserved;
+    	uint16   clock_offset;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_REMOTE_FEATURES 0x001B
+    struct hci_cp_read_rmt_features {
+    	uint16    handle;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_REMOTE_VERSION 0x001D
+    struct hci_cp_read_rmt_version {
+    	uint16    handle;
+    } __attribute__ ((packed));
+    
+    
+/* Link Policy Command definition */
+#define OGF_LINK_POLICY	 0x02
+
+    #define OCF_ROLE_DISCOVERY	0x0009
+    struct hci_cp_role_discovery {
+    	uint16    handle;
+    } __attribute__ ((packed));
+    struct hci_rp_role_discovery {
+    	uint8     status;
+    	uint16    handle;
+    	uint8     role;
+    } __attribute__ ((packed));
+    
+    #define OCF_READ_LINK_POLICY	0x000C
+    struct hci_cp_read_link_policy {
+    	uint16    handle;
+    } __attribute__ ((packed));
+    struct hci_rp_read_link_policy {
+    	uint8     status;
+    	uint16    handle;
+    	uint16    policy;
+    } __attribute__ ((packed));
+    
+    #define OCF_SWITCH_ROLE	0x000B
+    struct hci_cp_switch_role {
+    	bdaddr_t bdaddr;
+    	uint8     role;
+    } __attribute__ ((packed));
+    
+    #define OCF_WRITE_LINK_POLICY	0x000D
+    struct hci_cp_write_link_policy {
+    	uint16    handle;
+    	uint16    policy;
+    } __attribute__ ((packed));
+    struct hci_rp_write_link_policy {
+    	uint8     status;
+    	uint16    handle;
+    } __attribute__ ((packed));
+    
+/* Status params */
+#define OGF_STATUS_PARAM	0x05
+    
+/* Testing commands */
+#define OGF_TESTING_CMD		0x3E
+
+/* Vendor specific commands */
+#define OGF_VENDOR_CMD		0x3F
+
+#endif


Property changes on: haiku/trunk/headers/os/bluetooth/HCI/btHCI_command.h
___________________________________________________________________
Name: svn:eol-style
   + native

Modified: haiku/trunk/headers/os/bluetooth/HCI/btHCI_event.h
===================================================================
--- haiku/trunk/headers/os/bluetooth/HCI/btHCI_event.h	2008-07-02 21:09:04 UTC (rev 26230)
+++ haiku/trunk/headers/os/bluetooth/HCI/btHCI_event.h	2008-07-02 21:10:24 UTC (rev 26231)
@@ -1,331 +1,331 @@
-/*
- * Copyright 2007 Oliver Ruiz Dorantes, oliver.ruiz.dorantes_at_gmail.com
- *
- * All rights reserved. Distributed under the terms of the MIT License.
- *
- */
-
-#ifndef _BTHCI_EVENT_H_
-#define _BTHCI_EVENT_H_
-
-#include &lt;bluetooth/bluetooth.h&gt;
-#include &lt;bluetooth/HCI/btHCI.h&gt;
-
-#define HCI_EVENT_HDR_SIZE   2
-
-struct hci_event_header {
-	uint8 	ecode;
-	uint8 	elen;
-} __attribute__ ((packed));
-
-
-/* ---- HCI Events ---- */
-#define HCI_EVENT_INQUIRY_COMPLETE	0x01
-
-#define HCI_EVENT_INQUIRY_RESULT	0x02
-struct inquiry_info {
-	bdaddr_t  bdaddr;
-	uint8     pscan_rep_mode;
-	uint8     pscan_period_mode;
-	uint8     pscan_mode;
-	uint8     dev_class[3];
-	uint16    clock_offset;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_CONN_COMPLETE 	0x03
-struct hci_ev_conn_complete {
-	uint8     status;
-	uint16    handle;
-	bdaddr_t  bdaddr;
-	uint8     link_type;
-	uint8     encrypt_mode;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_CONN_REQUEST	0x04
-struct hci_ev_conn_request {
-	bdaddr_t bdaddr;
-	uint8     dev_class[3];
-	uint8     link_type;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_DISCONNECTION_COMPLETE	0x05
-struct hci_disconnection_complete_reply {
-	uint8     status;
-	uint16    handle;
-	uint8     reason;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_AUTH_COMPLETE	0x06
-struct hci_ev_auth_complete {
-	uint8     status;
-	uint16    handle;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_REMOTE_NAME_REQUEST_COMPLETE	0x07
-struct hci_remote_name_request_complete_reply {
-	uint8     status;
-	bdaddr_t  bdaddr;
-	char	  remote_name[248];
-} __attribute__ ((packed));
-
-#define HCI_EVENT_ENCRYPT_CHANGE	0x08
-struct hci_ev_encrypt_change {
-	uint8     status;
-	uint16    handle;
-	uint8     encrypt;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_CHANGE_CONN_LINK_KEY_COMPLETE	0x09
-struct hci_ev_change_conn_link_key_complete {
-	uint8     status;
-	uint16    handle;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_MASTER_LINK_KEY_COMPL	0x0a
-struct hci_ev_master_link_key_complete {
-	uint8	 status;     /* 0x00 - success */
-	uint16	 handle;     /* Connection handle */
-	uint8	 key_flag;   /* Key flag */
-} __attribute__ ((packed));
-
-#define HCI_EVENT_RMT_FEATURES	0x0B
-struct hci_ev_rmt_features {
-	uint8     status;
-	uint16    handle;
-	uint8     features[8];
-} __attribute__ ((packed));
-
-#define HCI_EVENT_RMT_VERSION	0x0C
-struct hci_ev_rmt_version {
-	uint8     status;
-	uint16    handle;
-	uint8     lmp_ver;
-	uint16    manufacturer;
-	uint16    lmp_subver;
-} __attribute__ ((packed));
-
-#define HCI_EVENT_QOS_SETUP_COMPLETE	0x0D
-struct hci_qos {
-	uint8     service_type;
-	uint32    token_rate;
-	uint32    peak_bandwidth;
-	uint32    latency;
-	uint32    delay_variation;
-} __attribute__ ((packed));
-struct hci_ev_qos_setup_complete {
-	uint8     status;
-	uint16    handle;
-	struct   hci_qos qos;
-} __attribute__ ((packed));

[... truncated: 854 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009986.html">[Haiku-commits] r26230 - haiku/trunk/src/servers/bluetooth
</A></li>
	<LI>Next message: <A HREF="009988.html">[Haiku-commits] r26232 - haiku/trunk/headers/os/bluetooth/L2CAP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9987">[ date ]</a>
              <a href="thread.html#9987">[ thread ]</a>
              <a href="subject.html#9987">[ subject ]</a>
              <a href="author.html#9987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
