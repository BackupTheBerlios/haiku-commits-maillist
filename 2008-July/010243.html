<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r26406 - haiku/trunk/src/kits/interface
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26406%20-%20haiku/trunk/src/kits/interface&In-Reply-To=%3C894b9700807140308l5c0742cbq3b5c8ddd4dd277ca%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010242.html">
   <LINK REL="Next"  HREF="010244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r26406 - haiku/trunk/src/kits/interface</H1>
    <B>Stefano Ceccherini</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26406%20-%20haiku/trunk/src/kits/interface&In-Reply-To=%3C894b9700807140308l5c0742cbq3b5c8ddd4dd277ca%40mail.gmail.com%3E"
       TITLE="[Haiku-commits] r26406 - haiku/trunk/src/kits/interface">stefano.ceccherini at gmail.com
       </A><BR>
    <I>Mon Jul 14 12:08:03 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="010242.html">[Haiku-commits] r26406 - haiku/trunk/src/kits/interface
</A></li>
        <LI>Next message: <A HREF="010244.html">[Haiku-commits] r26406 - haiku/trunk/src/kits/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10243">[ date ]</a>
              <a href="thread.html#10243">[ thread ]</a>
              <a href="subject.html#10243">[ subject ]</a>
              <a href="author.html#10243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/7/14 Julun &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">HOST.HAIKU at gmx.de</A>&gt;:
&gt;<i> Hi Stefano,
</I>&gt;<i>
</I>&gt;<i> Stefano Ceccherini schrieb:
</I>&gt;&gt;<i> 2008/7/13 julun at BerliOS &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">julun at mail.berlios.de</A>&gt;:
</I>&gt;&gt;&gt;<i> Author: julun
</I>&gt;&gt;&gt;<i> Date: 2008-07-13 22:42:14 +0200 (Sun, 13 Jul 2008)
</I>&gt;&gt;&gt;<i> New Revision: 26406
</I>&gt;&gt;&gt;<i> ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=26406&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=26406&amp;view=rev</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Modified:
</I>&gt;&gt;&gt;<i>   haiku/trunk/src/kits/interface/PopUpMenu.cpp
</I>&gt;&gt;&gt;<i> Log:
</I>&gt;&gt;&gt;<i> * only delete the popupmenu if we running the async version of BPopUpMenu
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  This fixes part 3 of task #1987, TaskManager was using the syncronous version of
</I>&gt;&gt;&gt;<i>  of BPopUpMenu wrapped in it's own class to run asyncronous. It did set SetAsyncAutoDestruct
</I>&gt;&gt;&gt;<i>  to true and afterwards calling delete an the already deleted menu.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Who does this ? If it's TaskManager, it's a bug, and should be fixed there.
</I>&gt;&gt;<i> Please revert this, otherwise we'll leak the PopUpMenu if used synchronously.
</I>&gt;<i>
</I>&gt;<i> i did it as well on R5, to be sure the behavior i introduce is the right
</I>&gt;<i> one. I know the Be-Book does not state that calling SetAsyncAutoDestruct
</I>&gt;<i> on the synchronous version of BPopUpMenu doesn't do anything, but my
</I>&gt;<i> test app and BeTaskManager work properly doing this on R5 and fail on Haiku.
</I>
Yes, but that could be because in certain cases, deleting an already
deleted item does not fail on R5. It does on haiku, though.
If BeTaskManager sets that flag, why does it call delete on the menu
afterwards ?

&gt;<i>
</I>&gt;<i> I would even go that far and claim the name SetAsyncAutoDestruct(...)
</I>&gt;<i> implies that it sets auto destruction mode for the async version,
</I>&gt;<i> otherwise they would have called it SetAutoDestruct(...).
</I>
Indeed, but that could mean it autodestructs asynchronously, not it
does autodestruct only if asynchronously, no ? :)


&gt;<i> Anyway, if you
</I>&gt;<i> think we should go with the previous behavior, feel free to revert the
</I>&gt;<i> change.  :)
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010242.html">[Haiku-commits] r26406 - haiku/trunk/src/kits/interface
</A></li>
	<LI>Next message: <A HREF="010244.html">[Haiku-commits] r26406 - haiku/trunk/src/kits/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10243">[ date ]</a>
              <a href="thread.html#10243">[ thread ]</a>
              <a href="subject.html#10243">[ subject ]</a>
              <a href="author.html#10243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
