<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22857%20-%20haiku/trunk/src/system/kernel/cache&In-Reply-To=%3C17712138763-BeMail%40zon%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004661.html">
   <LINK REL="Next"  HREF="004667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache</H1>
    <B>Axel D&#246;rfler</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22857%20-%20haiku/trunk/src/system/kernel/cache&In-Reply-To=%3C17712138763-BeMail%40zon%3E"
       TITLE="[Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache">axeld at pinc-software.de
       </A><BR>
    <I>Thu Nov  8 14:50:11 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004661.html">[Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache
</A></li>
        <LI>Next message: <A HREF="004667.html">[Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4664">[ date ]</a>
              <a href="thread.html#4664">[ thread ]</a>
              <a href="subject.html#4664">[ subject ]</a>
              <a href="author.html#4664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ingo Weinhold &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">ingo_weinhold at gmx.de</A>&gt; wrote:
&gt;<i> On 2007-11-08 at 10:30:58 [+0100], axeld at BerliOS &lt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at mail.berlios.de</A>&gt; 
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Log:
</I>&gt;<i> &gt; The file cache now completely bypasses the cache for writes equal 
</I>&gt;<i> &gt; or larger
</I>&gt;<i> &gt; than 64KB. Reads should probably get a similar logic, at least if 
</I>&gt;<i> &gt; memory is
</I>&gt;<i> &gt; tight.
</I>&gt;<i> I can see why this makes sense in low memory situations, but it 
</I>&gt;<i> doesn't quite 
</I>&gt;<i> sound like a good general strategy. E.g. on Linux creating and 
</I>&gt;<i> filling the 
</I>&gt;<i> Haiku image seems to happen completely in the cache. On Haiku the 
</I>&gt;<i> initial 
</I>&gt;<i> &quot;dd&quot; would go directly to disk now, copying the files depending on 
</I>&gt;<i> the buffer 
</I>&gt;<i> size of the copy program.
</I>
Right, that's a good example. For most other cases I could came up 
with, you'll rarely need the bytes you've just written.
Anyway, I've followed your suggestion and made it depending on the 
amount of free memory. Also, bypassing reading from the cache now 
follows the same logic.

Bye,
   Axel.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004661.html">[Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache
</A></li>
	<LI>Next message: <A HREF="004667.html">[Haiku-commits] r22857 - haiku/trunk/src/system/kernel/cache
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4664">[ date ]</a>
              <a href="thread.html#4664">[ thread ]</a>
              <a href="subject.html#4664">[ subject ]</a>
              <a href="author.html#4664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
