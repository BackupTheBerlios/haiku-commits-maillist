<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r23015 -	haiku/trunk/src/add-ons/kernel/busses/scsi/ahci
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23015%20-%0A%09haiku/trunk/src/add-ons/kernel/busses/scsi/ahci&In-Reply-To=%3C200711281838.lASIcZCF026129%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004873.html">
   <LINK REL="Next"  HREF="004875.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r23015 -	haiku/trunk/src/add-ons/kernel/busses/scsi/ahci</H1>
    <B>stippi at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23015%20-%0A%09haiku/trunk/src/add-ons/kernel/busses/scsi/ahci&In-Reply-To=%3C200711281838.lASIcZCF026129%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r23015 -	haiku/trunk/src/add-ons/kernel/busses/scsi/ahci">stippi at mail.berlios.de
       </A><BR>
    <I>Wed Nov 28 19:38:35 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004873.html">[Haiku-commits] r23014 - haiku/trunk/src/libs/compat/freebsd_network
</A></li>
        <LI>Next message: <A HREF="004875.html">[Haiku-commits] r23015 - haiku/trunk/src/add-ons/kernel/busses/scsi/ahci
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4874">[ date ]</a>
              <a href="thread.html#4874">[ thread ]</a>
              <a href="subject.html#4874">[ subject ]</a>
              <a href="author.html#4874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: stippi
Date: 2007-11-28 19:38:34 +0100 (Wed, 28 Nov 2007)
New Revision: 23015
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=23015&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=23015&amp;view=rev</A>

Modified:
   haiku/trunk/src/add-ons/kernel/busses/scsi/ahci/ahci_controller.cpp
Log:
* I don't know what's going on, but with this change, I can boot Haiku again
  on my P35 with JMircon controller. I still have the &quot;pci fixup&quot; disabled
  though. Without this change, I could boot until the blue desktop background
  with cursor, but all the apps were in frozen state and would not display
  on screen (F12 worked and showed Tracker and so on as running teams, but
  I could not even move the mouse)


Modified: haiku/trunk/src/add-ons/kernel/busses/scsi/ahci/ahci_controller.cpp
===================================================================
--- haiku/trunk/src/add-ons/kernel/busses/scsi/ahci/ahci_controller.cpp	2007-11-28 17:00:33 UTC (rev 23014)
+++ haiku/trunk/src/add-ons/kernel/busses/scsi/ahci/ahci_controller.cpp	2007-11-28 18:38:34 UTC (rev 23015)
@@ -339,10 +339,11 @@
 
 
 void
-AHCIController::GetRestrictions(uchar targetID, bool *isATAPI, bool *noAutoSense, uint32 *maxBlocks)
+AHCIController::GetRestrictions(uchar targetID, bool *isATAPI,
+	bool *noAutoSense, uint32 *maxBlocks)
 {
 	if (!fPort[targetID])
 		return;
 
-	return fPort[targetID]-&gt;ScsiGetRestrictions(isATAPI, noAutoSense, maxBlocks);
+	fPort[targetID]-&gt;ScsiGetRestrictions(isATAPI, noAutoSense, maxBlocks);
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004873.html">[Haiku-commits] r23014 - haiku/trunk/src/libs/compat/freebsd_network
</A></li>
	<LI>Next message: <A HREF="004875.html">[Haiku-commits] r23015 - haiku/trunk/src/add-ons/kernel/busses/scsi/ahci
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4874">[ date ]</a>
              <a href="thread.html#4874">[ thread ]</a>
              <a href="subject.html#4874">[ subject ]</a>
              <a href="author.html#4874">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
