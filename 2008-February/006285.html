<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r24108 - in haiku/trunk: headers/libs/alm	headers/libs/linprog src/libs/alm src/libs/linprog	src/tests/libs/alm src/tests/libs/linprog src/tests/libs/lp_solve
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24108%20-%20in%20haiku/trunk%3A%20headers/libs/alm%0A%09headers/libs/linprog%20src/libs/alm%20src/libs/linprog%0A%09src/tests/libs/alm%20src/tests/libs/linprog%20src/tests/libs/lp_solve&In-Reply-To=%3C200802250154.m1P1s7ET010317%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006283.html">
   <LINK REL="Next"  HREF="006284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r24108 - in haiku/trunk: headers/libs/alm	headers/libs/linprog src/libs/alm src/libs/linprog	src/tests/libs/alm src/tests/libs/linprog src/tests/libs/lp_solve</H1>
    <B>bonefish at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r24108%20-%20in%20haiku/trunk%3A%20headers/libs/alm%0A%09headers/libs/linprog%20src/libs/alm%20src/libs/linprog%0A%09src/tests/libs/alm%20src/tests/libs/linprog%20src/tests/libs/lp_solve&In-Reply-To=%3C200802250154.m1P1s7ET010317%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r24108 - in haiku/trunk: headers/libs/alm	headers/libs/linprog src/libs/alm src/libs/linprog	src/tests/libs/alm src/tests/libs/linprog src/tests/libs/lp_solve">bonefish at mail.berlios.de
       </A><BR>
    <I>Mon Feb 25 02:54:07 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="006283.html">[Haiku-commits] r24107 - haiku/trunk/src/tools/fs_shell
</A></li>
        <LI>Next message: <A HREF="006284.html">[Haiku-commits] r24109 - in haiku/trunk/src: build/libbe/app	build/libbe/storage tools tools/fs_shell tools/gensyscalls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6285">[ date ]</a>
              <a href="thread.html#6285">[ thread ]</a>
              <a href="subject.html#6285">[ subject ]</a>
              <a href="author.html#6285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bonefish
Date: 2008-02-25 02:54:05 +0100 (Mon, 25 Feb 2008)
New Revision: 24108
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=24108&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=24108&amp;view=rev</A>

Added:
   haiku/trunk/headers/libs/linprog/Summand.h
   haiku/trunk/src/libs/linprog/Summand.cpp
   haiku/trunk/src/tests/libs/alm/SimpleTest.cpp
Removed:
   haiku/trunk/headers/libs/linprog/SoftConstraint.h
   haiku/trunk/src/libs/linprog/SoftConstraint.cpp
Modified:
   haiku/trunk/headers/libs/alm/Area.h
   haiku/trunk/headers/libs/alm/BALMLayout.h
   haiku/trunk/headers/libs/alm/Column.h
   haiku/trunk/headers/libs/alm/LayoutStyleType.h
   haiku/trunk/headers/libs/alm/Row.h
   haiku/trunk/headers/libs/alm/XTab.h
   haiku/trunk/headers/libs/alm/YTab.h
   haiku/trunk/headers/libs/linprog/Constraint.h
   haiku/trunk/headers/libs/linprog/LinearSpec.h
   haiku/trunk/headers/libs/linprog/ObjFunctionSummand.h
   haiku/trunk/headers/libs/linprog/OperatorType.h
   haiku/trunk/headers/libs/linprog/OptimizationType.h
   haiku/trunk/headers/libs/linprog/PenaltyFunction.h
   haiku/trunk/headers/libs/linprog/ResultType.h
   haiku/trunk/headers/libs/linprog/Variable.h
   haiku/trunk/src/libs/alm/Area.cpp
   haiku/trunk/src/libs/alm/BALMLayout.cpp
   haiku/trunk/src/libs/alm/Column.cpp
   haiku/trunk/src/libs/alm/Row.cpp
   haiku/trunk/src/libs/alm/XTab.cpp
   haiku/trunk/src/libs/alm/YTab.cpp
   haiku/trunk/src/libs/linprog/Constraint.cpp
   haiku/trunk/src/libs/linprog/Jamfile
   haiku/trunk/src/libs/linprog/LinearSpec.cpp
   haiku/trunk/src/libs/linprog/ObjFunctionSummand.cpp
   haiku/trunk/src/libs/linprog/PenaltyFunction.cpp
   haiku/trunk/src/libs/linprog/Variable.cpp
   haiku/trunk/src/tests/libs/alm/Jamfile
   haiku/trunk/src/tests/libs/alm/TableTest.cpp
   haiku/trunk/src/tests/libs/alm/Test1.cpp
   haiku/trunk/src/tests/libs/alm/Test2.cpp
   haiku/trunk/src/tests/libs/linprog/Jamfile
   haiku/trunk/src/tests/libs/linprog/Program.cpp
   haiku/trunk/src/tests/libs/lp_solve/Jamfile
Log:
Patch by Christof Lutteroth:
* copyright headers for the files of the libraries linprog and alm
* new class Summand for representing summands in a linear constraint
* merged class SoftConstraint into class Constraint; Constraint now
  supports both soft and hard constraint functionality
* new AddConstraint methods in class LinearSpec for directly setting
  constraints with 1 to 4 summands
* code cleanups by using aforementioned AddConstraint methods
* a new very simple test application for alm
* some style corrections


Modified: haiku/trunk/headers/libs/alm/Area.h
===================================================================
--- haiku/trunk/headers/libs/alm/Area.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/Area.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	AREA_H
 #define	AREA_H
 
@@ -2,3 +8,2 @@
 #include &quot;Constraint.h&quot;
-#include &quot;SoftConstraint.h&quot;
 
@@ -26,51 +31,51 @@
 	
 public:
 	bool				AutoPrefContentSize() const;
-	void					SetAutoPrefContentSize(bool value);
+	void				SetAutoPrefContentSize(bool value);
 	XTab*				Left() const;
-	void					SetLeft(XTab* left);
+	void				SetLeft(XTab* left);
 	XTab*				Right() const;
-	void					SetRight(XTab* right);
+	void				SetRight(XTab* right);
 	YTab*				Top() const;
-	void					SetTop(YTab* top);
+	void				SetTop(YTab* top);
 	YTab*				Bottom() const;
-	void					SetBottom(YTab* bottom);
+	void				SetBottom(YTab* bottom);
 	Row*				GetRow() const;
-	void					SetRow(Row* row);
+	void				SetRow(Row* row);
 	Column*				GetColumn() const;
-	void					SetColumn(Column* column);
+	void				SetColumn(Column* column);
 	BView*				Content() const;
-	void					SetContent(BView* content);
+	void				SetContent(BView* content);
 	XTab*				ContentLeft() const;
 	YTab*				ContentTop() const;
 	XTab*				ContentRight() const;
 	YTab*				ContentBottom() const;
 	BSize				MinContentSize() const;
-	void					SetMinContentSize(BSize min);
+	void				SetMinContentSize(BSize min);
 	BSize				MaxContentSize() const;
-	void					SetMaxContentSize(BSize max);
+	void				SetMaxContentSize(BSize max);
 	BSize				PrefContentSize() const;
-	void					SetPrefContentSize(BSize pref);
+	void				SetPrefContentSize(BSize pref);
 	BSize				ShrinkRigidity() const;
-	void					SetShrinkRigidity(BSize shrink);
+	void				SetShrinkRigidity(BSize shrink);
 	BSize				ExpandRigidity() const;
-	void					SetExpandRigidity(BSize expand);
+	void				SetExpandRigidity(BSize expand);
 	double				ContentAspectRatio() const;
-	void					SetContentAspectRatio(double ratio);
+	void				SetContentAspectRatio(double ratio);
 	BAlignment			Alignment() const;
-	void					SetAlignment(BAlignment alignment);
-	void					SetHAlignment(alignment horizontal);
-	void					SetVAlignment(vertical_alignment vertical);
+	void				SetAlignment(BAlignment alignment);
+	void				SetHAlignment(alignment horizontal);
+	void				SetVAlignment(vertical_alignment vertical);
 	int32				LeftInset() const;
-	void					SetLeftInset(int32 left);
+	void				SetLeftInset(int32 left);
 	int32				TopInset() const;
-	void					SetTopInset(int32 top);
+	void				SetTopInset(int32 top);
 	int32				RightInset() const;
-	void					SetRightInset(int32 right);
+	void				SetRightInset(int32 right);
 	int32				BottomInset() const;
-	void					SetBottomInset(int32 bottom);
-	void					SetDefaultPrefContentSize();
-	//~ string				ToString();
+	void				SetBottomInset(int32 bottom);
+	void				SetDefaultPrefContentSize();
+	//~ string			ToString();
 	Constraint*			HasSameWidthAs(Area* area);
 	Constraint*			HasSameHeightAs(Area* area);
 	BList*				HasSameSizetAs(Area* area);
@@ -84,7 +89,7 @@
 						Area(BALMLayout* ls, Row* row, Column* column, 
 								BView* content,
 								BSize minContentSize);
-	void					DoLayout();
+	void				DoLayout();
 	
 private:
 	void					InitChildArea();
@@ -124,8 +129,8 @@
 	double				fContentAspectRatio;
 	Constraint*			fContentAspectRatioC;
 	bool				fAutoPrefContentSize;
-	SoftConstraint*		fPrefContentWidth;
-	SoftConstraint*		fPrefContentHeight;
+	Constraint*			fPrefContentWidth;
+	Constraint*			fPrefContentHeight;
 	Area*				fChildArea;
 	BAlignment			fAlignment;
 	int32				fLeftInset;

Modified: haiku/trunk/headers/libs/alm/BALMLayout.h
===================================================================
--- haiku/trunk/headers/libs/alm/BALMLayout.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/BALMLayout.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	BALM_LAYOUT_H
 #define	BALM_LAYOUT_H
 

Modified: haiku/trunk/headers/libs/alm/Column.h
===================================================================
--- haiku/trunk/headers/libs/alm/Column.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/Column.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	COLUMN_H
 #define	COLUMN_H
 

Modified: haiku/trunk/headers/libs/alm/LayoutStyleType.h
===================================================================
--- haiku/trunk/headers/libs/alm/LayoutStyleType.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/LayoutStyleType.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	LAYOUT_STYLE_TYPE_H
 #define	LAYOUT_STYLE_TYPE_H
 

Modified: haiku/trunk/headers/libs/alm/Row.h
===================================================================
--- haiku/trunk/headers/libs/alm/Row.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/Row.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	ROW_H
 #define	ROW_H
 

Modified: haiku/trunk/headers/libs/alm/XTab.h
===================================================================
--- haiku/trunk/headers/libs/alm/XTab.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/XTab.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	X_TAB_H
 #define	X_TAB_H
 

Modified: haiku/trunk/headers/libs/alm/YTab.h
===================================================================
--- haiku/trunk/headers/libs/alm/YTab.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/alm/YTab.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	Y_TAB_H
 #define	Y_TAB_H
 

Modified: haiku/trunk/headers/libs/linprog/Constraint.h
===================================================================
--- haiku/trunk/headers/libs/linprog/Constraint.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/Constraint.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	CONSTRAINT_H
 #define	CONSTRAINT_H
 
@@ -2,6 +8,9 @@
 #include &quot;OperatorType.h&quot;
+#include &quot;Variable.h&quot;
+#include &quot;ObjFunctionSummand.h&quot;
 
 #include &lt;List.h&gt;
 #include &lt;String.h&gt;
 #include &lt;SupportDefs.h&gt;
+#include &lt;math.h&gt;
 
@@ -20,32 +29,51 @@
 	
 public:
 	int32				Index();
-	BList*				Coeffs();
-	BList*				Vars();
-	virtual void			ChangeLeftSide(BList* coeffs, BList* vars);
-	virtual OperatorType	Op();
-	virtual void			SetOp(OperatorType value);
+	BList*				Summands();
+	void				ChangeLeftSide(BList* summands);
+	void				ChangeLeftSide(double coeff1, Variable* var1);
+	void				ChangeLeftSide(double coeff1, Variable* var1, 
+							double coeff2, Variable* var2);
+	void				ChangeLeftSide(double coeff1, Variable* var1, 
+							double coeff2, Variable* var2,
+							double coeff3, Variable* var3);
+	void				ChangeLeftSide(double coeff1, Variable* var1, 
+							double coeff2, Variable* var2,
+							double coeff3, Variable* var3,
+							double coeff4, Variable* var4);
+	OperatorType		Op();
+	void				SetOp(OperatorType value);
 	double				RightSide();
-	void					SetRightSide(double value);
+	void				SetRightSide(double value);
+	double				PenaltyNeg();
+	void				SetPenaltyNeg(double value);
+	double				PenaltyPos();
+	void				SetPenaltyPos(double value);
+	Variable*			DNeg() const;
+	Variable*			DPos() const;
+	
 	BString				ToString();
-	virtual				~Constraint();
-	
+						~Constraint();
+
 protected:
-						Constraint();
+						Constraint(LinearSpec* ls, BList* summands, 
+								OperatorType op, double rightSide,
+								double penaltyNeg, double penaltyPos);
 
 private:
-						Constraint(LinearSpec* ls, BList* coeffs, BList* vars, 
-								OperatorType op, double rightSide);
-
-protected:
 	LinearSpec*			fLS;
-	BList*				fCoeffs;
-	BList*				fVars;
-	OperatorType			fOp;
+	BList*				fSummands;
+	OperatorType		fOp;
 	double				fRightSide;
+	Variable*			fDNeg;
+	Variable*			fDPos;
+	ObjFunctionSummand*	fDNegSummand;
+	ObjFunctionSummand*	fDPosSummand;
+	
+	void				_UpdateLeftSide();
 
 public:
-	friend class			LinearSpec;
+	friend class		LinearSpec;
 
 };
 

Modified: haiku/trunk/headers/libs/linprog/LinearSpec.h
===================================================================
--- haiku/trunk/headers/libs/linprog/LinearSpec.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/LinearSpec.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	LINEAR_SPEC_H
 #define	LINEAR_SPEC_H
 
@@ -10,6 +16,7 @@
 #include &lt;List.h&gt;
 #include &lt;OS.h&gt;
 #include &lt;SupportDefs.h&gt;
+#include &lt;math.h&gt;
 
 
 namespace LinearProgramming {
@@ -17,7 +24,6 @@
 class Constraint;
 class ObjFunctionSummand;
 class PenaltyFunction;
-class SoftConstraint;
 class Variable;
 
 /**
@@ -28,81 +34,81 @@
 public:
 						LinearSpec();
 						~LinearSpec();
-	void					UpdateObjFunction();
-	void					SetObjFunction(BList* coeffs, BList* vars);
+	void				UpdateObjFunction();
+	void				SetObjFunction(BList* summands);
 	ObjFunctionSummand*	AddObjFunctionSummand(double coeff, Variable* var);
-	Variable*				AddVariable();
+	Variable*			AddVariable();
 
-	Constraint*			AddConstraint(BList* coeffs, BList* vars, 
+	Constraint*			AddConstraint(BList* summands, 
 								OperatorType op, double rightSide);
 	Constraint*			AddConstraint(double coeff1, Variable* var1, 
 								OperatorType op, double rightSide);
 	Constraint*			AddConstraint(double coeff1, Variable* var1, 
 								double coeff2, Variable* var2, 
 								OperatorType op, double rightSide);
-	Constraint*			AddConstraint(double coeff1, Variable* var1, 
+	Constraint*			AddConstraint(double coeff1, Variable* var1,
 								double coeff2, Variable* var2, 
 								double coeff3, Variable* var3, 
 								OperatorType op, double rightSide);
-	Constraint*			AddConstraint(double coeff1, Variable* var1, 
+	Constraint*			AddConstraint(double coeff1, Variable* var1,
 								double coeff2, Variable* var2, 
 								double coeff3, Variable* var3, 
 								double coeff4, Variable* var4, 
 								OperatorType op, double rightSide);
 
-	SoftConstraint*		AddSoftConstraint(BList* coeffs, BList* vars, 
+	Constraint*			AddConstraint(BList* summands, 
 								OperatorType op, double rightSide, 
 								double penaltyNeg, double penaltyPos);
-	SoftConstraint*		AddSoftConstraint(double coeff1, Variable* var1, 
+	Constraint*			AddConstraint(double coeff1, Variable* var1,
 								OperatorType op, double rightSide, 
 								double penaltyNeg, double penaltyPos);
-	SoftConstraint*		AddSoftConstraint(double coeff1, Variable* var1, 
+	Constraint*			AddConstraint(double coeff1, Variable* var1,
 								double coeff2, Variable* var2, 
 								OperatorType op, double rightSide, 
 								double penaltyNeg, double penaltyPos);
-	SoftConstraint*		AddSoftConstraint(double coeff1, Variable* var1, 
+	Constraint*			AddConstraint(double coeff1, Variable* var1,
 								double coeff2, Variable* var2, 
 								double coeff3, Variable* var3, 
 								OperatorType op, double rightSide, 
 								double penaltyNeg, double penaltyPos);
-	SoftConstraint*		AddSoftConstraint(double coeff1, Variable* var1, 
+	Constraint*			AddConstraint(double coeff1, Variable* var1,
 								double coeff2, Variable* var2, 
 								double coeff3, Variable* var3, 
 								double coeff4, Variable* var4, 
 								OperatorType op, double rightSide, 
 								double penaltyNeg, double penaltyPos);
 	
-	PenaltyFunction*		AddPenaltyFunction(Variable* var, BList* xs, BList* gs);
-	void					RemovePresolved();
+	PenaltyFunction*	AddPenaltyFunction(Variable* var, BList* xs, BList* gs);
+	void				RemovePresolved();
 	ResultType			Presolve();
 	ResultType			Solve();
-	void					Save(char* fname);
+	void				Save(char* fname);
 
 	int32				Columns() const;
-	void					SetColumns(int32 value);
-	OptimizationType		Optimization() const;
-	void					SetOptimization(OptimizationType value);
+	void				SetColumns(int32 value);
+	OptimizationType	Optimization() const;
+	void				SetOptimization(OptimizationType value);
 	lprec*				LP() const;
-	void					SetLP(lprec* value);
+	void				SetLP(lprec* value);
 	BList*				ObjFunctionSummands() const;
-	void					SetObjFunctionSummands(BList* value);
+	void				SetObjFunctionSummands(BList* value);
 	BList*				Variables() const;
-	void					SetVariables(BList* value);
+	void				SetVariables(BList* value);
 	BList*				Constraints() const;
-	void					SetConstraints(BList* value);
+	void				SetConstraints(BList* value);
 	ResultType			Result() const;
-	void					SetResult(ResultType value);
+	void				SetResult(ResultType value);
 	double				ObjectiveValue() const;
-	void					SetObjectiveValue(double value);
+	void				SetObjectiveValue(double value);
 	double				SolvingTime() const;
-	void					SetSolvingTime(double value);
+	void				SetSolvingTime(double value);
 
 protected:
 	int32 				fColumns;
 
 private:
 	lprec*				fLpPresolved;
-	OptimizationType		fOptimization;
+	OptimizationType	fOptimization;
 	lprec*				fLP;
 	BList*				fObjFunctionSummands;
 	BList*				fVariables;
@@ -112,8 +118,8 @@
 	double 				fSolvingTime;		// = Double.Nan
 
 public:
-	friend class			ObjFunctionSummand;
-	friend class			SoftConstraint;
+	friend class		ObjFunctionSummand;
+	friend class		Constraint;
 
 };
 

Modified: haiku/trunk/headers/libs/linprog/ObjFunctionSummand.h
===================================================================
--- haiku/trunk/headers/libs/linprog/ObjFunctionSummand.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/ObjFunctionSummand.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,7 +1,15 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	OBJ_FUNCTION_SUMMAND_H
 #define	OBJ_FUNCTION_SUMMAND_H
 
+#include &quot;Summand.h&quot;
 
+
 namespace LinearProgramming {
 
 class LinearSpec;
@@ -10,25 +18,21 @@
 /**
  * A summand of the objective function.
  */
-class ObjFunctionSummand {
+class ObjFunctionSummand : public Summand {
 
 public:
-	double				Coeff();
-	void					SetCoeff(double coeff);
-	Variable*				Var();
-	void					SetVar(Variable* var);
-						~ObjFunctionSummand();
+	void		SetCoeff(double coeff);
+	void		SetVar(Variable* var);
+				~ObjFunctionSummand();
 
 protected:
 						ObjFunctionSummand(LinearSpec* ls, double coeff, Variable* var);
 
 private:
 	LinearSpec*			fLS;
-	double				fCoeff;
-	Variable*				fVar;
 
 public:
-	friend class			LinearSpec;
+	friend class		LinearSpec;
 
 };
 

Modified: haiku/trunk/headers/libs/linprog/OperatorType.h
===================================================================
--- haiku/trunk/headers/libs/linprog/OperatorType.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/OperatorType.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	OPERATOR_TYPE_H
 #define	OPERATOR_TYPE_H
 

Modified: haiku/trunk/headers/libs/linprog/OptimizationType.h
===================================================================
--- haiku/trunk/headers/libs/linprog/OptimizationType.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/OptimizationType.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	OPTIMIZATION_TYPE_H
 #define	OPTIMIZATION_TYPE_H
 

Modified: haiku/trunk/headers/libs/linprog/PenaltyFunction.h
===================================================================
--- haiku/trunk/headers/libs/linprog/PenaltyFunction.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/PenaltyFunction.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	PENALTY_FUNCTION_H
 #define	PENALTY_FUNCTION_H
 

Modified: haiku/trunk/headers/libs/linprog/ResultType.h
===================================================================
--- haiku/trunk/headers/libs/linprog/ResultType.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/ResultType.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	RESULT_TYPE_H
 #define	RESULT_TYPE_H
 

Deleted: haiku/trunk/headers/libs/linprog/SoftConstraint.h

Added: haiku/trunk/headers/libs/linprog/Summand.h
===================================================================
--- haiku/trunk/headers/libs/linprog/Summand.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/Summand.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -0,0 +1,39 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
+#ifndef	SUMMAND_H
+#define	SUMMAND_H
+
+
+namespace LinearProgramming {
+
+class LinearSpec;
+class Variable;
+
+/**
+ * A summand of a linear term.
+ */
+class Summand {
+
+public:
+	double			Coeff();
+	void			SetCoeff(double coeff);
+	Variable*		Var();
+	void			SetVar(Variable* var);
+					Summand(double coeff, Variable* var);
+					~Summand();
+
+private:
+	double			fCoeff;
+	Variable*		fVar;
+
+};
+
+}	// namespace LinearProgramming
+
+using LinearProgramming::Summand;
+
+#endif	// OBJ_FUNCTION_SUMMAND_H

Modified: haiku/trunk/headers/libs/linprog/Variable.h
===================================================================
--- haiku/trunk/headers/libs/linprog/Variable.h	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/headers/libs/linprog/Variable.h	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #ifndef	VARIABLE_H
 #define	VARIABLE_H
 
@@ -17,15 +23,15 @@
 public:
 	int32				Index();
 	LinearSpec*			LS() const;
-	void					SetLS(LinearSpec* value);
+	void				SetLS(LinearSpec* value);
 	double				Value() const;
-	void					SetValue(double value);
+	void				SetValue(double value);
 	double				Min() const;
-	void					SetMin(double min);
+	void				SetMin(double min);
 	double				Max() const;
-	void					SetMax(double max);
-	void					SetRange(double min, double max);
-	//~ string				ToString();
+	void				SetMax(double max);
+	void				SetRange(double min, double max);
+	//~ string			ToString();
 	Constraint*			IsEqual(Variable* var);
 	Constraint*			IsSmallerOrEqual(Variable* var);
 	Constraint*			IsGreaterorEqual(Variable* var);
@@ -42,7 +48,7 @@
 
 public:
 	friend class			LinearSpec;
-	friend class			SoftConstraint;
+	friend class			Constraint;
 
 };
 

Modified: haiku/trunk/src/libs/alm/Area.cpp
===================================================================
--- haiku/trunk/src/libs/alm/Area.cpp	2008-02-25 01:01:41 UTC (rev 24107)
+++ haiku/trunk/src/libs/alm/Area.cpp	2008-02-25 01:54:05 UTC (rev 24108)
@@ -1,3 +1,9 @@
+/*
+ * Copyright 2007-2008, Christof Lutteroth, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">lutteroth at cs.auckland.ac.nz</A>
+ * Copyright 2007-2008, James Kim, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">jkim202 at ec.auckland.ac.nz</A>
+ * Distributed under the terms of the MIT License.
+ */
+
 #include &quot;Area.h&quot;
 #include &quot;Column.h&quot;
 #include &quot;BALMLayout.h&quot;
@@ -71,23 +77,10 @@
 	fColumn = NULL;
 	
 	if (fChildArea == NULL) {
-		BList* coeffs = new BList(2);
-		coeffs-&gt;AddItem(new double(-1.0));
-		coeffs-&gt;AddItem(new double(1.0));
-		BList* vars = new BList(2);
-		vars-&gt;AddItem(fLeft);
-		vars-&gt;AddItem(fRight);
-		fMinContentWidth-&gt;ChangeLeftSide(coeffs, vars);
+		fMinContentWidth-&gt;ChangeLeftSide(-1.0, fLeft, 1.0, fRight);
 	
-		if (fMaxContentWidth != NULL) {
-			BList* coeffs2 = new BList(2);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			BList* vars2 = new BList(2);
-			vars2-&gt;AddItem(fLeft);
-			vars2-&gt;AddItem(fRight);
-			fMaxContentWidth-&gt;ChangeLeftSide(coeffs2, vars2);
-		}
+		if (fMaxContentWidth != NULL)
+			fMaxContentWidth-&gt;ChangeLeftSide(-1.0, fLeft, 1.0, fRight);
 	} else
 		UpdateHorizontal();
 	fLS-&gt;InvalidateLayout();
@@ -119,23 +112,10 @@
 	fColumn = NULL;
 	
 	if (fChildArea == NULL) {
-		BList* coeffs = new BList(2);
-		coeffs-&gt;AddItem(new double(-1.0));
-		coeffs-&gt;AddItem(new double(1.0));
-		BList* vars = new BList(2);
-		vars-&gt;AddItem(fLeft);
-		vars-&gt;AddItem(fRight);
-		fMinContentWidth-&gt;ChangeLeftSide(coeffs, vars);
+		fMinContentWidth-&gt;ChangeLeftSide(-1.0, fLeft, 1.0, fRight);
 	
-		if (fMaxContentWidth != NULL) {
-			BList* coeffs2 = new BList(2);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			BList* vars2 = new BList(2);
-			vars2-&gt;AddItem(fLeft);
-			vars2-&gt;AddItem(fRight);
-			fMaxContentWidth-&gt;ChangeLeftSide(coeffs2, vars2);
-		}
+		if (fMaxContentWidth != NULL)
+			fMaxContentWidth-&gt;ChangeLeftSide(-1.0, fLeft, 1.0, fRight);
 	} else
 		UpdateHorizontal();
 	fLS-&gt;InvalidateLayout();
@@ -163,23 +143,10 @@
 	fRow = NULL;
 	
 	if (fChildArea == NULL) {
-		BList* coeffs = new BList(2);
-		coeffs-&gt;AddItem(new double(-1.0));
-		coeffs-&gt;AddItem(new double(1.0));
-		BList* vars = new BList(2);
-		vars-&gt;AddItem(fTop);
-		vars-&gt;AddItem(fBottom);
-		fMinContentHeight-&gt;ChangeLeftSide(coeffs, vars);
+		fMinContentHeight-&gt;ChangeLeftSide(-1.0, fTop, 1.0, fBottom);
 		
-		if (fMaxContentHeight != NULL) {
-			BList* coeffs2 = new BList(2);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			BList* vars2 = new BList(2);
-			vars2-&gt;AddItem(fTop);
-			vars2-&gt;AddItem(fBottom);
-			fMaxContentHeight-&gt;ChangeLeftSide(coeffs2, vars2);
-		}
+		if (fMaxContentHeight != NULL)
+			fMaxContentHeight-&gt;ChangeLeftSide(-1.0, fTop, 1.0, fBottom);
 	} else
 		UpdateVertical();
 	fLS-&gt;InvalidateLayout();
@@ -207,23 +174,10 @@
 	fRow = NULL;
 	
 	if (fChildArea == NULL) {
-		BList* coeffs = new BList(2);
-		coeffs-&gt;AddItem(new double(-1.0));
-		coeffs-&gt;AddItem(new double(1.0));
-		BList* vars = new BList(2);
-		vars-&gt;AddItem(fTop);
-		vars-&gt;AddItem(fBottom);
-		fMinContentHeight-&gt;ChangeLeftSide(coeffs, vars);
+		fMinContentHeight-&gt;ChangeLeftSide(-1.0, fTop, 1.0, fBottom);
 		
-		if (fMaxContentHeight != NULL) {
-			BList* coeffs2 = new BList(2);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			BList* vars2 = new BList(2);
-			vars2-&gt;AddItem(fTop);
-			vars2-&gt;AddItem(fBottom);
-			fMaxContentHeight-&gt;ChangeLeftSide(coeffs2, vars2);
-		}
+		if (fMaxContentHeight != NULL)
+			fMaxContentHeight-&gt;ChangeLeftSide(-1.0, fTop, 1.0, fBottom);
 	} else
 		UpdateVertical();
 	fLS-&gt;InvalidateLayout();
@@ -385,23 +339,11 @@
 	if (fChildArea == NULL) {
 		fMaxContentSize = max;
 		if (fMaxContentWidth == NULL) {
-			BList* coeffs = new BList(2);
-			coeffs-&gt;AddItem(new double(-1.0));
-			coeffs-&gt;AddItem(new double(1.0));
-			BList* vars = new BList(2);
-			vars-&gt;AddItem(fLeft);
-			vars-&gt;AddItem(fRight);
-			fMaxContentWidth = fLS-&gt;AddConstraint(coeffs, vars, OperatorType(LE),
+			fMaxContentWidth = fLS-&gt;AddConstraint(-1.0, fLeft, 1.0, fRight, OperatorType(LE),
 					fMaxContentSize.Width());
 			fConstraints-&gt;AddItem(fMaxContentWidth);
 			
-			BList* coeffs2 = new BList(2);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			BList* vars2 = new BList(2);
-			vars2-&gt;AddItem(fTop);
-			vars2-&gt;AddItem(fBottom);
-			fMaxContentHeight = fLS-&gt;AddConstraint(coeffs2, vars2, OperatorType(LE),
+			fMaxContentHeight = fLS-&gt;AddConstraint(-1.0, fTop, 1.0, fBottom, OperatorType(LE),
 					fMaxContentSize.Height());
 			fConstraints-&gt;AddItem(fMaxContentHeight);
 		} else {
@@ -435,24 +377,12 @@
 	if (fChildArea == NULL) {
 		fPrefContentSize = pref;
 		if (fPrefContentWidth == NULL) {
-			BList* coeffs = new BList(2);
-			coeffs-&gt;AddItem(new double(-1.0));
-			coeffs-&gt;AddItem(new double(1.0));
-			BList* vars = new BList(2);
-			vars-&gt;AddItem(fLeft);
-			vars-&gt;AddItem(fRight);
-			fPrefContentWidth = fLS-&gt;AddSoftConstraint(coeffs, vars, OperatorType(EQ),
+			fPrefContentWidth = fLS-&gt;AddConstraint(-1.0, fLeft, 1.0, fRight, OperatorType(EQ),
 					fPrefContentSize.Width(), fShrinkRigidity.Width(),
 					fExpandRigidity.Width());
 			fConstraints-&gt;AddItem(fPrefContentWidth);
 			
-			BList* coeffs2 = new BList(2);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			BList* vars2 = new BList(2);
-			vars2-&gt;AddItem(fTop);
-			vars2-&gt;AddItem(fBottom);
-			fPrefContentHeight = fLS-&gt;AddSoftConstraint(coeffs2, vars2, OperatorType(EQ),
+			fPrefContentHeight = fLS-&gt;AddConstraint(-1.0, fTop, 1.0, fBottom, OperatorType(EQ),
 					fPrefContentSize.Height(), fShrinkRigidity.Height(),
 					fExpandRigidity.Height());
 			fConstraints-&gt;AddItem(fPrefContentHeight);
@@ -536,31 +466,13 @@
 	if (fChildArea == NULL) {
 		fContentAspectRatio = ratio;
 		if (fContentAspectRatioC == NULL) {
-			BList* coeffs = new BList(4);
-			coeffs-&gt;AddItem(new double(-1.0));
-			coeffs-&gt;AddItem(new double(1.0));
-			coeffs-&gt;AddItem(new double(ratio));
-			coeffs-&gt;AddItem(new double(-ratio));
-			BList* vars = new BList(4);
-			vars-&gt;AddItem(fLeft);
-			vars-&gt;AddItem(fRight);
-			vars-&gt;AddItem(fTop);
-			vars-&gt;AddItem(fBottom);
-			fContentAspectRatioC = fLS-&gt;AddConstraint(coeffs, vars,
-					OperatorType(EQ), 0.0);
+			fContentAspectRatioC = fLS-&gt;AddConstraint(
+				-1.0, fLeft, 1.0, fRight, ratio, fTop, -ratio, fBottom,
+				OperatorType(EQ), 0.0);
 			fConstraints-&gt;AddItem(fContentAspectRatioC);
 		} else {
-			BList* coeffs2 = new BList(4);
-			coeffs2-&gt;AddItem(new double(-1.0));
-			coeffs2-&gt;AddItem(new double(1.0));
-			coeffs2-&gt;AddItem(new double(ratio));
-			coeffs2-&gt;AddItem(new double(-ratio));
-			BList* vars2 = new BList(4);
-			vars2-&gt;AddItem(fLeft);
-			vars2-&gt;AddItem(fRight);
-			vars2-&gt;AddItem(fTop);
-			vars2-&gt;AddItem(fBottom);
-			fContentAspectRatioC-&gt;ChangeLeftSide(coeffs2, vars2);
+			fContentAspectRatioC-&gt;ChangeLeftSide(
+				-1.0, fLeft, 1.0, fRight, ratio, fTop, -ratio, fBottom);
 		}
 	} else
 		fChildArea-&gt;SetContentAspectRatio(ratio);
@@ -586,7 +498,6 @@
 {
 	fAlignment = alignment;
 	UpdateHorizontal();
-	fLS-&gt;InvalidateLayout();
 	UpdateVertical();
 	fLS-&gt;InvalidateLayout();
 }
@@ -751,17 +662,9 @@
 Constraint*
 Area::HasSameWidthAs(Area* area)
 {
-	BList* coeffs = new BList(4);
-	coeffs-&gt;AddItem(new double(-1.0));
-	coeffs-&gt;AddItem(new double(1.0));
-	coeffs-&gt;AddItem(new double(1.0));
-	coeffs-&gt;AddItem(new double(-1.0));
-	BList* vars = new BList(4);
-	vars-&gt;AddItem(fLeft);
-	vars-&gt;AddItem(fRight);
-	vars-&gt;AddItem(area-&gt;fLeft);
-	vars-&gt;AddItem(area-&gt;fRight);
-	return fLS-&gt;AddConstraint(coeffs, vars, OperatorType(EQ), 0.0);
+	return fLS-&gt;AddConstraint(
+		-1.0, fLeft, 1.0, fRight, 1.0, area-&gt;fLeft, -1.0, area-&gt;fRight, 
+		OperatorType(EQ), 0.0);
 }
 
 
@@ -774,17 +677,9 @@
 Constraint*
 Area::HasSameHeightAs(Area* area)
 {
-	BList* coeffs = new BList(4);
-	coeffs-&gt;AddItem(new double(-1.0));
-	coeffs-&gt;AddItem(new double(1.0));
-	coeffs-&gt;AddItem(new double(1.0));
-	coeffs-&gt;AddItem(new double(-1.0));
-	BList* vars = new BList(4);
-	vars-&gt;AddItem(fTop);
-	vars-&gt;AddItem(fBottom);
-	vars-&gt;AddItem(area-&gt;fTop);
-	vars-&gt;AddItem(area-&gt;fBottom);
-	return fLS-&gt;AddConstraint(coeffs, vars, OperatorType(EQ), 0.0);
+	return fLS-&gt;AddConstraint(
+		-1.0, fTop, 1.0, fBottom, 1.0, area-&gt;fTop, -1.0, area-&gt;fBottom, 
+		OperatorType(EQ), 0.0);
 }
 
 
@@ -891,23 +786,11 @@
 	
 	// adds the two essential constraints of the area that make sure that the left x-tab is 
 	// really to the left of the right x-tab, and the top y-tab really above the bottom y-tab
-	BList* coeffs = new BList(2);
-	coeffs-&gt;AddItem(new double(-1.0));
-	coeffs-&gt;AddItem(new double(1.0));
-	BList* vars = new BList(2);
-	vars-&gt;AddItem(left);
-	vars-&gt;AddItem(right);
-	fMinContentWidth = ls-&gt;AddConstraint(coeffs, vars, OperatorType(GE),
+	fMinContentWidth = ls-&gt;AddConstraint(-1.0, left, 1.0, right, OperatorType(GE),
 			minContentSize.Width());
 	fConstraints-&gt;AddItem(fMinContentWidth);
 	
-	BList* coeffs2 = new BList(2);
-	coeffs2-&gt;AddItem(new double(-1.0));
-	coeffs2-&gt;AddItem(new double(1.0));
-	BList* vars2 = new BList(2);
-	vars2-&gt;AddItem(top);
-	vars2-&gt;AddItem(bottom);
-	fMinContentHeight = ls-&gt;AddConstraint(coeffs2, vars2, OperatorType(GE),
+	fMinContentHeight = ls-&gt;AddConstraint(-1.0, top, 1.0, bottom, OperatorType(GE),
 			minContentSize.Height());
 	fConstraints-&gt;AddItem(fMinContentHeight);
 }
@@ -946,13 +829,13 @@
 	// coresponding tabs of this area (for a start)
 	fChildArea = new Area(fLS, new XTab(fLS), new YTab(fLS), new XTab(fLS),
 			new YTab(fLS), fContent, BSize(0, 0));
-	fLeftConstraint = Left()-&gt;IsEqual(fChildArea-&gt;Left());
+	fLeftConstraint = fLeft-&gt;IsEqual(fChildArea-&gt;Left());
 	fConstraints-&gt;AddItem(fLeftConstraint);
-	fTopConstraint = Top()-&gt;IsEqual(fChildArea-&gt;Top());
+	fTopConstraint = fTop-&gt;IsEqual(fChildArea-&gt;Top());
 	fConstraints-&gt;AddItem(fTopConstraint);
-	fRightConstraint = Right()-&gt;IsEqual(fChildArea-&gt;Right());
+	fRightConstraint = fRight-&gt;IsEqual(fChildArea-&gt;Right());
 	fConstraints-&gt;AddItem(fRightConstraint);
-	fBottomConstraint = Bottom()-&gt;IsEqual(fChildArea-&gt;Bottom());
+	fBottomConstraint = fBottom-&gt;IsEqual(fChildArea-&gt;Bottom());
 	fConstraints-&gt;AddItem(fBottomConstraint);
 	
 	// remove the minimum content size constraints from this area
@@ -972,22 +855,10 @@
 		fChildArea-&gt;fMaxContentSize = fMaxContentSize;
 		
 		fChildArea-&gt;fMaxContentWidth = fMaxContentWidth;
-		BList* coeffs = new BList(2);
-		coeffs-&gt;AddItem(new double(-1.0));
-		coeffs-&gt;AddItem(new double(1.0));
-		BList* vars = new BList(2);
-		vars-&gt;AddItem(fChildArea-&gt;Left());
-		vars-&gt;AddItem(fChildArea-&gt;Right());
-		fMaxContentWidth-&gt;ChangeLeftSide(coeffs, vars);
+		fMaxContentWidth-&gt;ChangeLeftSide(-1.0, fChildArea-&gt;Left(), 1.0, fChildArea-&gt;Right());
 		
 		fChildArea-&gt;fMaxContentHeight = fMaxContentHeight;
-		BList* coeffs2 = new BList(2);
-		coeffs2-&gt;AddItem(new double(-1.0));
-		coeffs2-&gt;AddItem(new double(1.0));
-		BList* vars2 = new BList(2);
-		vars2-&gt;AddItem(fChildArea-&gt;Top());
-		vars2-&gt;AddItem(fChildArea-&gt;Bottom());
-		fMaxContentHeight-&gt;ChangeLeftSide(coeffs2, vars2);
+		fMaxContentHeight-&gt;ChangeLeftSide(-1.0, fChildArea-&gt;Top(), 1.0, fChildArea-&gt;Bottom());
 	}
 	
 	// if there are preferred content size constraints on this area, 
@@ -999,22 +870,10 @@
 		fChildArea-&gt;fExpandRigidity = fExpandRigidity;
 		
 		fChildArea-&gt;fPrefContentWidth = fPrefContentWidth;
-		BList* coeffs3 = new BList(2);
-		coeffs3-&gt;AddItem(new double(-1.0));
-		coeffs3-&gt;AddItem(new double(1.0));
-		BList* vars3 = new BList(2);
-		vars3-&gt;AddItem(fChildArea-&gt;Left());
-		vars3-&gt;AddItem(fChildArea-&gt;Right());
-		fPrefContentWidth-&gt;ChangeLeftSide(coeffs3, vars3);
+		fPrefContentWidth-&gt;ChangeLeftSide(-1.0, fChildArea-&gt;Left(), 1.0, fChildArea-&gt;Right());
 		
 		fChildArea-&gt;fPrefContentHeight = fPrefContentHeight;
-		BList* coeffs4 = new BList(2);
-		coeffs4-&gt;AddItem(new double(-1.0));
-		coeffs4-&gt;AddItem(new double(1.0));

[... truncated: 1774 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006283.html">[Haiku-commits] r24107 - haiku/trunk/src/tools/fs_shell
</A></li>
	<LI>Next message: <A HREF="006284.html">[Haiku-commits] r24109 - in haiku/trunk/src: build/libbe/app	build/libbe/storage tools tools/fs_shell tools/gensyscalls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6285">[ date ]</a>
              <a href="thread.html#6285">[ thread ]</a>
              <a href="subject.html#6285">[ subject ]</a>
              <a href="author.html#6285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
