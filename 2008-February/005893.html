<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r23834 - in haiku/trunk/src/add-ons/translators: .	exr exr/openexr exr/openexr/config exr/openexr/half	exr/openexr/iex exr/openexr/ilmimf exr/openexr/ilmthread	exr/openexr/imath
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23834%20-%20in%20haiku/trunk/src/add-ons/translators%3A%20.%0A%09exr%20exr/openexr%20exr/openexr/config%20exr/openexr/half%0A%09exr/openexr/iex%20exr/openexr/ilmimf%20exr/openexr/ilmthread%0A%09exr/openexr/imath&In-Reply-To=%3C200802031301.m13D1gOu018803%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005892.html">
   <LINK REL="Next"  HREF="005894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r23834 - in haiku/trunk/src/add-ons/translators: .	exr exr/openexr exr/openexr/config exr/openexr/half	exr/openexr/iex exr/openexr/ilmimf exr/openexr/ilmthread	exr/openexr/imath</H1>
    <B>korli at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r23834%20-%20in%20haiku/trunk/src/add-ons/translators%3A%20.%0A%09exr%20exr/openexr%20exr/openexr/config%20exr/openexr/half%0A%09exr/openexr/iex%20exr/openexr/ilmimf%20exr/openexr/ilmthread%0A%09exr/openexr/imath&In-Reply-To=%3C200802031301.m13D1gOu018803%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r23834 - in haiku/trunk/src/add-ons/translators: .	exr exr/openexr exr/openexr/config exr/openexr/half	exr/openexr/iex exr/openexr/ilmimf exr/openexr/ilmthread	exr/openexr/imath">korli at mail.berlios.de
       </A><BR>
    <I>Sun Feb  3 14:01:42 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="005892.html">[Haiku-commits] r23833 - in haiku/trunk:	headers/private/kernel/arch/m68k src/system/kernel/arch/m68k
</A></li>
        <LI>Next message: <A HREF="005894.html">[Haiku-commits] r23835 - in haiku/trunk: headers/posix	src/system/libroot/posix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5893">[ date ]</a>
              <a href="thread.html#5893">[ thread ]</a>
              <a href="subject.html#5893">[ subject ]</a>
              <a href="author.html#5893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: korli
Date: 2008-02-03 14:01:23 +0100 (Sun, 03 Feb 2008)
New Revision: 23834
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=23834&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=23834&amp;view=rev</A>

Added:
   haiku/trunk/src/add-ons/translators/exr/
   haiku/trunk/src/add-ons/translators/exr/ConfigView.cpp
   haiku/trunk/src/add-ons/translators/exr/ConfigView.h
   haiku/trunk/src/add-ons/translators/exr/EXRGamma.cpp
   haiku/trunk/src/add-ons/translators/exr/EXRGamma.h
   haiku/trunk/src/add-ons/translators/exr/EXRTranslator.cpp
   haiku/trunk/src/add-ons/translators/exr/EXRTranslator.h
   haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.cpp
   haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.h
   haiku/trunk/src/add-ons/translators/exr/Jamfile
   haiku/trunk/src/add-ons/translators/exr/main.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/
   haiku/trunk/src/add-ons/translators/exr/openexr/Jamfile
   haiku/trunk/src/add-ons/translators/exr/openexr/config/
   haiku/trunk/src/add-ons/translators/exr/openexr/config/IlmBaseConfig.h
   haiku/trunk/src/add-ons/translators/exr/openexr/config/OpenEXRConfig.h
   haiku/trunk/src/add-ons/translators/exr/openexr/exrheader.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/half/
   haiku/trunk/src/add-ons/translators/exr/openexr/half/Jamfile
   haiku/trunk/src/add-ons/translators/exr/openexr/half/eLut.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/half/eLut.h
   haiku/trunk/src/add-ons/translators/exr/openexr/half/half.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/half/half.h
   haiku/trunk/src/add-ons/translators/exr/openexr/half/halfFunction.h
   haiku/trunk/src/add-ons/translators/exr/openexr/half/halfLimits.h
   haiku/trunk/src/add-ons/translators/exr/openexr/half/toFloat.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/half/toFloat.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/Iex.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexBaseExc.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexBaseExc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexErrnoExc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexMacros.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexMathExc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexThrowErrnoExc.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/IexThrowErrnoExc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/iex/Jamfile
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfArray.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfAutoArray.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfB44Compressor.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfB44Compressor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfBoxAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfBoxAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCRgbaFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCRgbaFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChannelList.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChannelList.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChannelListAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChannelListAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChromaticities.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChromaticities.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChromaticitiesAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfChromaticitiesAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCompression.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCompressionAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCompressionAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCompressor.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfCompressor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfConvert.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfConvert.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfDoubleAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfDoubleAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfEnvmap.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfEnvmap.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfEnvmapAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfEnvmapAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfFloatAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfFloatAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfFrameBuffer.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfFrameBuffer.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfFramesPerSecond.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfFramesPerSecond.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfHeader.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfHeader.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfHuf.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfHuf.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfIO.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfIO.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfInputFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfInputFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfInt64.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfIntAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfIntAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfKeyCode.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfKeyCode.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfKeyCodeAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfKeyCodeAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfLineOrder.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfLineOrderAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfLineOrderAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfLut.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfLut.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfMatrixAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfMatrixAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfMisc.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfMisc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfName.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfOpaqueAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfOpaqueAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfOutputFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfOutputFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPixelType.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPizCompressor.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPizCompressor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPreviewImage.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPreviewImage.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPreviewImageAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPreviewImageAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPxr24Compressor.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfPxr24Compressor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRational.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRational.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRationalAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRationalAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRgba.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRgbaFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRgbaFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRgbaYca.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRgbaYca.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRleCompressor.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfRleCompressor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfScanLineInputFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfScanLineInputFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfStandardAttributes.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfStandardAttributes.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfStdIO.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfStdIO.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfStringAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfStringAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTestFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTestFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfThreading.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfThreading.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTileDescription.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTileDescriptionAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTileDescriptionAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTileOffsets.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTileOffsets.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledInputFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledInputFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledMisc.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledMisc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledOutputFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledOutputFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledRgbaFile.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTiledRgbaFile.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTimeCode.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTimeCode.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTimeCodeAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfTimeCodeAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfVecAttribute.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfVecAttribute.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfVersion.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfVersion.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfWav.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfWav.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfXdr.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfZipCompressor.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/ImfZipCompressor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/Jamfile
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/b44ExpLogTable.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmimf/b44ExpLogTable.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThread.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThread.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadMutex.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadMutex.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadMutexPosix.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadMutexWin32.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadPool.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadPool.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadPosix.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadSemaphore.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadSemaphore.h
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadSemaphorePosix.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadSemaphorePosixCompat.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadSemaphoreWin32.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/IlmThreadWin32.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/ilmthread/Jamfile
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathBox.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathBox.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathBoxAlgo.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathColor.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathColorAlgo.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathColorAlgo.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathEuler.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathExc.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathFrame.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathFrustum.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathFun.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathFun.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathGL.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathGLU.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathHalfLimits.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathInt64.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathInterval.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathLimits.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathLine.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathLineAlgo.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathMath.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathMatrix.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathMatrixAlgo.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathMatrixAlgo.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathPlane.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathPlatform.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathQuat.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathRandom.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathRandom.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathRoots.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathShear.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathShear.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathSphere.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathVec.cpp
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathVec.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/ImathVecAlgo.h
   haiku/trunk/src/add-ons/translators/exr/openexr/imath/Jamfile
Modified:
   haiku/trunk/src/add-ons/translators/Jamfile
Log:
added a translator for EXR images, based on www.openexr.com
This builds only with GCC 4, mostly because it needs libstdc++ v3


Modified: haiku/trunk/src/add-ons/translators/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/translators/Jamfile	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/Jamfile	2008-02-03 13:01:23 UTC (rev 23834)
@@ -1,6 +1,7 @@
 SubDir HAIKU_TOP src add-ons translators ;
 
 SubInclude HAIKU_TOP src add-ons translators bmp ;
+SubInclude HAIKU_TOP src add-ons translators exr ;
 SubInclude HAIKU_TOP src add-ons translators gif ;
 SubInclude HAIKU_TOP src add-ons translators hpgs ;
 SubInclude HAIKU_TOP src add-ons translators ico ;

Added: haiku/trunk/src/add-ons/translators/exr/ConfigView.cpp
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/ConfigView.cpp	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/ConfigView.cpp	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,68 @@
+/*
+ * Copyright 2008, J&#233;r&#244;me Duval. All rights reserved.
+ * Copyright 2005-2007, Axel D&#246;rfler, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de.</A> All rights reserved.
+ * Distributed under the terms of the MIT License.
+ */
+
+
+#include &quot;ConfigView.h&quot;
+#include &quot;EXRTranslator.h&quot;
+
+#include &lt;StringView.h&gt;
+#include &lt;CheckBox.h&gt;
+
+#include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
+
+
+ConfigView::ConfigView(const BRect &amp;frame, uint32 resize, uint32 flags)
+	: BView(frame, &quot;EXRTranslator Settings&quot;, resize, flags)
+{
+	SetViewColor(ui_color(B_PANEL_BACKGROUND_COLOR));
+
+	font_height fontHeight;
+	be_bold_font-&gt;GetHeight(&amp;fontHeight);
+	float height = fontHeight.descent + fontHeight.ascent + fontHeight.leading;
+
+	BRect rect(10, 10, 200, 10 + height);
+	BStringView *stringView = new BStringView(rect, &quot;title&quot;, &quot;EXR Images&quot;);
+	stringView-&gt;SetFont(be_bold_font);
+	stringView-&gt;ResizeToPreferred();
+	AddChild(stringView);
+
+	rect.OffsetBy(0, height + 10);
+	char version[256];
+	sprintf(version, &quot;Version %d.%d.%d, %s&quot;,
+		int(B_TRANSLATION_MAJOR_VERSION(EXR_TRANSLATOR_VERSION)),
+		int(B_TRANSLATION_MINOR_VERSION(EXR_TRANSLATOR_VERSION)),
+		int(B_TRANSLATION_REVISION_VERSION(EXR_TRANSLATOR_VERSION)),
+		__DATE__);
+	stringView = new BStringView(rect, &quot;version&quot;, version);
+	stringView-&gt;ResizeToPreferred();
+	AddChild(stringView);
+
+	GetFontHeight(&amp;fontHeight);
+	height = fontHeight.descent + fontHeight.ascent + fontHeight.leading;
+
+	rect.OffsetBy(0, height + 5);
+	stringView = new BStringView(rect, &quot;copyright&quot;, B_UTF8_COPYRIGHT &quot;2008 Haiku Inc.&quot;);
+	stringView-&gt;ResizeToPreferred();
+	AddChild(stringView);
+
+	rect.OffsetBy(0, height + 10);
+	stringView = new BStringView(rect, &quot;copyright2&quot;, &quot;Based on OpenEXR (<A HREF="http://www.openexr.com">http://www.openexr.com</A>)&quot;);
+	stringView-&gt;ResizeToPreferred();
+	AddChild(stringView);
+
+	rect.OffsetBy(0, height + 5);
+	stringView = new BStringView(rect, &quot;copyright3&quot;, B_UTF8_COPYRIGHT &quot;2006, Industrial Light &amp; Magic, a division of Lucasfilm &quot;
+		&quot;Entertainment Company Ltd&quot;);
+	stringView-&gt;ResizeToPreferred();
+	AddChild(stringView);
+}
+
+
+ConfigView::~ConfigView()
+{
+}
+

Added: haiku/trunk/src/add-ons/translators/exr/ConfigView.h
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/ConfigView.h	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/ConfigView.h	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,19 @@
+/*
+ * Copyright 2004-2007, Axel D&#246;rfler, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de.</A> All rights reserved.
+ * Distributed under the terms of the MIT License.
+ */
+#ifndef CONFIG_VIEW_H
+#define CONFIG_VIEW_H
+
+
+#include &lt;View.h&gt;
+
+
+class ConfigView : public BView {
+	public:
+		ConfigView(const BRect &amp;frame, uint32 resize = B_FOLLOW_ALL,
+			uint32 flags = B_WILL_DRAW);	
+		virtual ~ConfigView();
+};
+
+#endif	/* CONFIG_VIEW_H */

Added: haiku/trunk/src/add-ons/translators/exr/EXRGamma.cpp
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/EXRGamma.cpp	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/EXRGamma.cpp	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,99 @@
+/*
+ * Copyright (c) 2004, Industrial Light &amp; Magic, a division of Lucas
+ *   Digital Ltd. LLC
+ * Distributed under the terms of the MIT License.
+ */
+
+#include &quot;EXRGamma.h&quot;
+#include &quot;ImathFun.h&quot;
+#include &quot;ImathMath.h&quot;
+
+using namespace std;
+using Imath::clamp;
+
+
+float
+knee(double x, double f)
+{
+	return float (Imath::Math&lt;double&gt;::log (x * f + 1) / f);
+}
+
+
+float
+findKneeF(float x, float y)
+{
+	float f0 = 0;
+	float f1 = 1;
+	
+	while (knee (x, f1) &gt; y)
+	{
+	f0 = f1;
+	f1 = f1 * 2;
+	}
+	
+	for (int i = 0; i &lt; 30; ++i)
+	{
+	float f2 = (f0 + f1) / 2;
+	float y2 = knee (x, f2);
+	
+	if (y2 &lt; y)
+		f1 = f2;
+	else
+		f0 = f2;
+	}
+	
+	return (f0 + f1) / 2;
+}
+
+
+Gamma::Gamma(float gamma,
+	float exposure,
+	float defog,
+	float kneeLow,
+	float kneeHigh)
+:
+	g (gamma),
+	m (Imath::Math&lt;float&gt;::pow(2, exposure + 2.47393)),
+	d (defog),
+	kl (Imath::Math&lt;float&gt;::pow(2, kneeLow)),
+	f (findKneeF (Imath::Math&lt;float&gt;::pow(2, kneeHigh) - kl, 
+		Imath::Math&lt;float&gt;::pow(2, 3.5) - kl)),
+	s (255.0 * Imath::Math&lt;float&gt;::pow(2, -3.5 * g))
+{
+}
+
+
+float
+Gamma::operator() (half h)
+{
+	//
+	// Defog
+	//
+	
+	float x = max (0.f, (h - d));
+	
+	//
+	// Exposure
+	//
+	
+	x *= m;
+	
+	//
+	// Knee
+	//
+	
+	if (x &gt; kl)
+	x = kl + knee (x - kl, f);
+	
+	//
+	// Gamma
+	//
+	
+	x = Imath::Math&lt;float&gt;::pow (x, g);
+	
+	//
+	// Scale and clamp
+	//
+	
+	return clamp (x * s, 0.f, 255.f);
+}

Added: haiku/trunk/src/add-ons/translators/exr/EXRGamma.h
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/EXRGamma.h	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/EXRGamma.h	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,24 @@
+/*
+ * Copyright (c) 2004, Industrial Light &amp; Magic, a division of Lucas
+ *   Digital Ltd. LLC
+ * Distributed under the terms of the MIT License.
+ */
+#ifndef EXR_GAMMA_H
+#define EXR_GAMMA_H
+
+#include &quot;halfFunction.h&quot;
+
+struct Gamma
+{
+	float g, m, d, kl, f, s;
+	
+	Gamma(float gamma,
+		float exposure,
+		float defog,
+		float kneeLow,
+		float kneeHigh);
+	
+	float operator() (half h);
+};
+
+#endif

Added: haiku/trunk/src/add-ons/translators/exr/EXRTranslator.cpp
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/EXRTranslator.cpp	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/EXRTranslator.cpp	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,246 @@
+/*
+ * Copyright 2008, J&#233;r&#244;me Duval. All rights reserved.
+ * Copyright (c) 2004, Industrial Light &amp; Magic, a division of Lucas
+ *   Digital Ltd. LLC
+ * Distributed under the terms of the MIT License.
+ */
+
+#include &quot;ConfigView.h&quot;
+#include &quot;EXRGamma.h&quot;
+#include &quot;EXRTranslator.h&quot;
+#include &quot;ImfArray.h&quot;
+#undef min
+#undef max
+#include &quot;ImfRgbaFile.h&quot;
+#include &quot;IStreamWrapper.h&quot;
+
+
+// The input formats that this translator supports.
+translation_format sInputFormats[] = {
+	{
+		EXR_IMAGE_FORMAT,
+		B_TRANSLATOR_BITMAP,
+		EXR_IN_QUALITY,
+		EXR_IN_CAPABILITY,
+		&quot;image/exr&quot;,
+		&quot;EXR&quot;
+	},
+};
+
+// The output formats that this translator supports.
+translation_format sOutputFormats[] = {
+	{
+		B_TRANSLATOR_BITMAP,
+		B_TRANSLATOR_BITMAP,
+		BITS_OUT_QUALITY,
+		BITS_OUT_CAPABILITY,
+		&quot;x-be-bitmap&quot;,
+		&quot;Be Bitmap image&quot;
+	},
+};
+
+// Default settings for the Translator
+static TranSetting sDefaultSettings[] = {
+	{B_TRANSLATOR_EXT_HEADER_ONLY, TRAN_SETTING_BOOL, false},
+	{B_TRANSLATOR_EXT_DATA_ONLY, TRAN_SETTING_BOOL, false}
+};
+
+const uint32 kNumInputFormats = sizeof(sInputFormats) / sizeof(translation_format);
+const uint32 kNumOutputFormats = sizeof(sOutputFormats) / sizeof(translation_format);
+const uint32 kNumDefaultSettings = sizeof(sDefaultSettings) / sizeof(TranSetting);
+
+
+
+
+//	#pragma mark -
+
+
+EXRTranslator::EXRTranslator()
+	: BaseTranslator(&quot;EXR Images&quot;, &quot;EXR Image Translator&quot;,
+		EXR_TRANSLATOR_VERSION,
+		sInputFormats, kNumInputFormats,
+		sOutputFormats, kNumOutputFormats,
+		&quot;EXRTranslator_Settings&quot;,
+		sDefaultSettings, kNumDefaultSettings,
+		B_TRANSLATOR_BITMAP, EXR_IMAGE_FORMAT)
+{
+}
+
+
+EXRTranslator::~EXRTranslator()
+{
+}
+
+
+status_t
+EXRTranslator::DerivedIdentify(BPositionIO *stream,
+	const translation_format *format, BMessage *settings,
+	translator_info *outInfo, uint32 outType)
+{
+	if (!outType)
+		outType = B_TRANSLATOR_BITMAP;
+	if (outType != B_TRANSLATOR_BITMAP)
+		return B_NO_TRANSLATOR;
+
+	try {
+		IStreamWrapper istream(&quot;filename&quot;, stream);
+		RgbaInputFile inputFile(istream);
+	
+		if (outInfo) {
+			outInfo-&gt;type = EXR_IMAGE_FORMAT;
+			outInfo-&gt;group = B_TRANSLATOR_BITMAP;
+			outInfo-&gt;quality = EXR_IN_QUALITY;
+			outInfo-&gt;capability = EXR_IN_CAPABILITY;
+			strcpy(outInfo-&gt;MIME, &quot;image/exr&quot;);
+			strcpy(outInfo-&gt;name, &quot;EXR image&quot;);
+		}
+	} catch (const std::exception &amp;e) {
+		return B_NO_TRANSLATOR;
+	}
+
+	return B_OK;
+}
+
+
+status_t
+EXRTranslator::DerivedTranslate(BPositionIO* source,
+	const translator_info* info, BMessage* settings,
+	uint32 outType, BPositionIO* target, int32 baseType)
+{
+	if (!outType)
+		outType = B_TRANSLATOR_BITMAP;
+	if (outType != B_TRANSLATOR_BITMAP || baseType != 0)
+		return B_NO_TRANSLATOR;
+
+	status_t err = B_NO_TRANSLATOR;
+	try {
+		IStreamWrapper istream(&quot;filename&quot;, source);
+		RgbaInputFile in(istream);
+
+		//Imath::Box2i dw = in.dataWindow();
+		const Imath::Box2i &amp;displayWindow = in.displayWindow();
+		const Imath::Box2i &amp;dataWindow = in.dataWindow();
+		float a = in.pixelAspectRatio(); // TODO take into account the aspect ratio
+		int dataWidth = dataWindow.max.x - dataWindow.min.x + 1;
+		int dataHeight = dataWindow.max.y - dataWindow.min.y + 1;
+		int displayWidth = displayWindow.max.x - displayWindow.min.x + 1;
+		int displayHeight = displayWindow.max.y - displayWindow.min.y + 1;
+		
+		// Write out the data to outDestination
+		// Construct and write Be bitmap header
+		TranslatorBitmap bitsHeader;
+		bitsHeader.magic = B_TRANSLATOR_BITMAP;
+		bitsHeader.bounds.left = 0;
+		bitsHeader.bounds.top = 0;
+		bitsHeader.bounds.right = displayWidth - 1;
+		bitsHeader.bounds.bottom = displayHeight - 1;
+		bitsHeader.rowBytes = 4 * displayWidth;
+		bitsHeader.colors = B_RGBA32;
+		bitsHeader.dataSize = bitsHeader.rowBytes * displayHeight;
+		if (swap_data(B_UINT32_TYPE, &amp;bitsHeader,
+			sizeof(TranslatorBitmap), B_SWAP_HOST_TO_BENDIAN) != B_OK) {
+			return B_ERROR;
+		}
+		target-&gt;Write(&amp;bitsHeader, sizeof(TranslatorBitmap));
+	
+		Array2D &lt;Rgba&gt; pixels(dataHeight, dataWidth);
+		in.setFrameBuffer (&amp;pixels[0][0] - dataWindow.min.y * dataWidth - dataWindow.min.x, 1, dataWidth);
+		in.readPixels (dataWindow.min.y, dataWindow.max.y);
+	
+		float	_gamma = 0.4545f;
+		float	_exposure = 0.0f;
+		float	_defog = 0.0f;
+		float	_kneeLow = 0.0f;
+		float	_kneeHigh = 5.0f;
+
+		float	_fogR = 0.0f;
+		float	_fogG = 0.0f;
+		float	_fogB = 0.0f;
+		
+		halfFunction&lt;float&gt;
+		rGamma (Gamma (_gamma,
+					_exposure,
+					_defog * _fogR,
+					_kneeLow,
+					_kneeHigh),
+			-HALF_MAX, HALF_MAX,
+			0.f, 255.f, 0.f, 0.f);
+		
+		halfFunction&lt;float&gt;
+		gGamma (Gamma (_gamma,
+					_exposure,
+					_defog * _fogG,
+					_kneeLow,
+					_kneeHigh),
+			-HALF_MAX, HALF_MAX,
+			0.f, 255.f, 0.f, 0.f);
+		
+		halfFunction&lt;float&gt;
+		bGamma (Gamma (_gamma,
+					_exposure,
+					_defog * _fogB,
+					_kneeLow,
+					_kneeHigh),
+			-HALF_MAX, HALF_MAX,
+			0.f, 255.f, 0.f, 0.f);
+		
+		for (int y = displayWindow.min.y; y &lt;= displayWindow.max.y; ++y) {
+			if (y &lt; dataWindow.min.y
+				|| y &gt; dataWindow.max.y) {
+				unsigned char sp[4];
+				sp[0] = 128;
+				sp[1] = 128;
+				sp[2] = 128;
+				sp[3] = 255;
+				for (int x = displayWindow.min.x; x &lt;= displayWindow.max.x; ++x) {
+					target-&gt;Write(sp, 4);
+				}
+				continue;
+			}
+			
+			for (int x = displayWindow.min.x; x &lt;= displayWindow.max.x; ++x) {
+				unsigned char sp[4];
+				if (x &lt; dataWindow.min.x
+					|| x &gt; dataWindow.max.x) {
+					sp[0] = 128;
+					sp[1] = 128;
+					sp[2] = 128;
+					sp[3] = 255;
+				} else {
+					const Imf::Rgba &amp;rp = pixels[y][x];
+						
+					sp[0] = (unsigned char)bGamma(rp.b);
+					sp[1] = (unsigned char)gGamma(rp.g);
+					sp[2] = (unsigned char)rGamma(rp.r);
+					sp[3] = 255;
+				}
+				target-&gt;Write(sp, 4);
+			}
+		}
+
+		err = B_OK;
+	} catch (const std::exception &amp;e) {
+		std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;
+	}
+	return err;
+}
+
+
+BView *
+EXRTranslator::NewConfigView(TranslatorSettings *settings)
+{
+	return new ConfigView(BRect(0, 0, 225, 175));
+}
+
+
+//	#pragma mark -
+
+
+BTranslator *
+make_nth_translator(int32 n, image_id you, uint32 flags, ...)
+{
+	if (n != 0)
+		return NULL;
+
+	return new EXRTranslator();
+}

Added: haiku/trunk/src/add-ons/translators/exr/EXRTranslator.h
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/EXRTranslator.h	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/EXRTranslator.h	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,45 @@
+/*
+ * Copyright 2008, J&#233;r&#244;me Duval. All rights reserved.
+ * Distributed under the terms of the MIT License.
+ */
+#ifndef EXR_TRANSLATOR_H
+#define EXR_TRANSLATOR_H
+
+
+#include &quot;BaseTranslator.h&quot;
+
+
+#define EXR_TRANSLATOR_VERSION B_TRANSLATION_MAKE_VERSION(0, 1, 0)
+#define EXR_IMAGE_FORMAT	'EXRI'
+
+#define EXR_IN_QUALITY		0.90
+#define EXR_IN_CAPABILITY	0.90
+#define BITS_IN_QUALITY		1
+#define BITS_IN_CAPABILITY	1
+
+#define EXR_OUT_QUALITY		0.8
+#define EXR_OUT_CAPABILITY	0.8
+#define BITS_OUT_QUALITY	1
+#define BITS_OUT_CAPABILITY	0.9
+
+
+class EXRTranslator : public BaseTranslator {
+	public:
+		EXRTranslator();
+		virtual ~EXRTranslator();
+
+		virtual status_t DerivedIdentify(BPositionIO *inSource,
+			const translation_format *inFormat, BMessage *ioExtension,
+			translator_info *outInfo, uint32 outType);
+
+		virtual status_t DerivedTranslate(BPositionIO *inSource,
+			const translator_info *inInfo, BMessage *ioExtension,
+			uint32 outType, BPositionIO *outDestination, int32 baseType);
+
+		virtual BView *NewConfigView(TranslatorSettings *settings);
+
+	private:
+};
+
+#endif	// EXR_TRANSLATOR_H
+

Added: haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.cpp
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.cpp	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.cpp	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,43 @@
+/*
+ * Copyright 2008, J&#233;r&#244;me Duval. All rights reserved.
+ * Distributed under the terms of the MIT License.
+ */
+
+
+#include &quot;IStreamWrapper.h&quot;
+
+IStreamWrapper::IStreamWrapper(const char *filename, BPositionIO *stream)
+	: IStream(filename),
+	fStream(stream)
+{
+}
+
+
+IStreamWrapper::~IStreamWrapper()
+{
+}
+
+
+bool
+IStreamWrapper::read(char c[/*n*/], int n)
+{
+	int actual = fStream-&gt;Read(c, n);
+	if (actual &lt; B_OK) {
+		
+	}
+	return (actual == n);
+}
+
+
+Int64
+IStreamWrapper::tellg()
+{
+	return fStream-&gt;Position();
+}
+
+
+void
+IStreamWrapper::seekg(Int64 pos)
+{
+	fStream-&gt;Seek(pos, SEEK_SET);
+}

Added: haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.h
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.h	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/IStreamWrapper.h	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,27 @@
+/*
+ * Copyright 2008, J&#233;r&#244;me Duval. All rights reserved.
+ * Distributed under the terms of the MIT License.
+ */
+#ifndef ISTREAM_WRAPPER_H
+#define ISTREAM_WRAPPER_H
+
+#include &lt;DataIO.h&gt;
+#include &lt;ImfIO.h&gt;
+
+using namespace Imf;
+
+class IStreamWrapper : public IStream {
+	public:
+		IStreamWrapper(const char *filename, BPositionIO *stream);
+		virtual ~IStreamWrapper();
+
+		virtual bool        read(char c[/*n*/], int n);
+		virtual Int64       tellg();
+		virtual void        seekg(Int64 pos);
+		
+	private:
+		BPositionIO *fStream;
+};
+
+#endif	/* ISTREAM_WRAPPER_H */
+

Added: haiku/trunk/src/add-ons/translators/exr/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/Jamfile	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/Jamfile	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,32 @@
+SubDir HAIKU_TOP src add-ons translators exr ;
+
+SubDirSysHdrs [ FDirName $(SUBDIR) openexr half ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) openexr iex ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) openexr ilmimf ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) openexr imath ] ;
+
+# Include code from shared translator directory
+SEARCH_SOURCE += [ FDirName $(HAIKU_TOP) src add-ons translators shared ] ;
+
+Translator EXRTranslator :
+	main.cpp
+	ConfigView.cpp
+	EXRGamma.cpp
+	EXRTranslator.cpp
+	IStreamWrapper.cpp
+
+	# shared classes
+	BaseTranslator.cpp
+	TranslatorSettings.cpp
+	TranslatorWindow.cpp
+
+	: be translation libilmimf.so
+	: true
+;
+
+Package haiku-translationkit-cvs :
+	EXRTranslator :
+	boot home config add-ons Translators ;
+
+SubInclude HAIKU_TOP src add-ons translators exr openexr ;
+

Added: haiku/trunk/src/add-ons/translators/exr/main.cpp
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/main.cpp	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/main.cpp	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,26 @@
+/*
+ * Copyright 2005-2006, Axel D&#246;rfler, <A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de.</A> All rights reserved.
+ * Distributed under the terms of the MIT License.
+ */
+
+
+#include &quot;EXRTranslator.h&quot;
+
+#include &quot;TranslatorWindow.h&quot;
+#include &lt;Application.h&gt;
+
+
+int
+main(int /*argc*/, char **/*argv*/)
+{
+	BApplication app(&quot;application/x-vnd.haiku-exr-translator&quot;);
+
+	status_t result;
+	result = LaunchTranslatorWindow(new EXRTranslator, &quot;EXR Settings&quot;, BRect(0, 0, 225, 175));
+	if (result != B_OK)
+		return 1;
+
+	app.Run();
+	return 0;
+}
+

Added: haiku/trunk/src/add-ons/translators/exr/openexr/Jamfile
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/openexr/Jamfile	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/openexr/Jamfile	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,20 @@
+SubDir HAIKU_TOP src add-ons translators exr openexr ;
+
+SubDirSysHdrs [ FDirName $(SUBDIR) half ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) iex ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) ilmimf ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) ilmthread ] ;
+SubDirSysHdrs [ FDirName $(SUBDIR) imath ] ;
+SubDirHdrs [ FDirName $(SUBDIR) config ] ;
+
+BinCommand exrheader :
+       exrheader.cpp
+	: libilmimf.so $(TARGET_LIBSTDC++)
+;
+
+SubInclude HAIKU_TOP src add-ons translators exr openexr half ;
+SubInclude HAIKU_TOP src add-ons translators exr openexr iex ;
+SubInclude HAIKU_TOP src add-ons translators exr openexr ilmimf ;
+SubInclude HAIKU_TOP src add-ons translators exr openexr ilmthread ;
+SubInclude HAIKU_TOP src add-ons translators exr openexr imath ;
+

Added: haiku/trunk/src/add-ons/translators/exr/openexr/config/IlmBaseConfig.h
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/openexr/config/IlmBaseConfig.h	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/openexr/config/IlmBaseConfig.h	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,16 @@
+/* config/IlmBaseConfig.h.  Generated by configure.  */
+//
+// Define and set to 1 if the target system has POSIX thread support
+// and you want IlmBase to use it for multithreaded file I/O.
+//
+
+/* #undef HAVE_PTHREAD */
+
+//
+// Define and set to 1 if the target system supports POSIX semaphores
+// and you want OpenEXR to use them; otherwise, OpenEXR will use its
+// own semaphore implementation.
+//
+
+/* #undef HAVE_POSIX_SEMAPHORES */
+

Added: haiku/trunk/src/add-ons/translators/exr/openexr/config/OpenEXRConfig.h
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/openexr/config/OpenEXRConfig.h	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/openexr/config/OpenEXRConfig.h	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,32 @@
+/* config/OpenEXRConfig.h.  Generated by configure.  */
+//
+// Define and set to 1 if the target system supports a proc filesystem
+// compatible with the Linux kernel's proc filesystem.  Note that this
+// is only used by a program in the IlmImfTest test suite, it's not
+// used by any OpenEXR library or application code.
+//
+
+#define HAVE_LINUX_PROCFS 1
+
+//
+// Define and set to 1 if the target system is a Darwin-based system
+// (e.g., OS X).
+//
+
+/* #undef HAVE_DARWIN */
+
+//
+// Define and set to 1 if the target system has a complete &lt;iomanip&gt;
+// implementation, specifically if it supports the std::right
+// formatter.
+//
+
+#define HAVE_COMPLETE_IOMANIP 1
+
+//
+// Define and set to 1 if the target system has support for large
+// stack sizes.
+//
+
+#define HAVE_LARGE_STACK 1
+

Added: haiku/trunk/src/add-ons/translators/exr/openexr/exrheader.cpp
===================================================================
--- haiku/trunk/src/add-ons/translators/exr/openexr/exrheader.cpp	2008-02-03 11:39:28 UTC (rev 23833)
+++ haiku/trunk/src/add-ons/translators/exr/openexr/exrheader.cpp	2008-02-03 13:01:23 UTC (rev 23834)
@@ -0,0 +1,501 @@
+///////////////////////////////////////////////////////////////////////////
+//
+// Copyright (c) 2004, Industrial Light &amp; Magic, a division of Lucas
+// Digital Ltd. LLC
+// 
+// All rights reserved.
+// 
+// Redistribution and use in source and binary forms, with or without
+// modification, are permitted provided that the following conditions are
+// met:
+// *       Redistributions of source code must retain the above copyright
+// notice, this list of conditions and the following disclaimer.
+// *       Redistributions in binary form must reproduce the above
+// copyright notice, this list of conditions and the following disclaimer
+// in the documentation and/or other materials provided with the
+// distribution.
+// *       Neither the name of Industrial Light &amp; Magic nor the names of
+// its contributors may be used to endorse or promote products derived
+// from this software without specific prior written permission. 
+// 
+// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
+// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
+// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
+// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
+// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
+// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
+// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
+// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+//
+///////////////////////////////////////////////////////////////////////////
+
+
+//-----------------------------------------------------------------------------
+//
+//	Utility program to print an image file's header
+//
+//-----------------------------------------------------------------------------
+
+#include &quot;OpenEXRConfig.h&quot;
+#include &lt;ImfInputFile.h&gt;
+#include &lt;ImfBoxAttribute.h&gt;
+#include &lt;ImfChannelListAttribute.h&gt;
+#include &lt;ImfChromaticitiesAttribute.h&gt;
+#include &lt;ImfCompressionAttribute.h&gt;
+#include &lt;ImfDoubleAttribute.h&gt;
+#include &lt;ImfEnvmapAttribute.h&gt;
+#include &lt;ImfFloatAttribute.h&gt;
+#include &lt;ImfIntAttribute.h&gt;
+#include &lt;ImfKeyCodeAttribute.h&gt;
+#include &lt;ImfLineOrderAttribute.h&gt;
+#include &lt;ImfMatrixAttribute.h&gt;
+#include &lt;ImfPreviewImageAttribute.h&gt;
+#include &lt;ImfRationalAttribute.h&gt;
+#include &lt;ImfStringAttribute.h&gt;
+#include &lt;ImfTileDescriptionAttribute.h&gt;
+#include &lt;ImfTimeCodeAttribute.h&gt;
+#include &lt;ImfVecAttribute.h&gt;
+#include &lt;ImfVersion.h&gt;
+#include &lt;iostream&gt;
+#include &lt;iomanip&gt;
+
+using namespace Imf;
+using namespace std;
+
+
+void
+printCompression (Compression c)
+{
+    switch (c)
+    {
+      case NO_COMPRESSION:
+	cout &lt;&lt; &quot;none&quot;;
+	break;
+
+      case RLE_COMPRESSION:
+	cout &lt;&lt; &quot;run-length encoding&quot;;
+	break;
+
+      case ZIPS_COMPRESSION:
+	cout &lt;&lt; &quot;zip, individual scanlines&quot;;
+	break;
+
+      case ZIP_COMPRESSION:
+	cout &lt;&lt; &quot;zip, multi-scanline blocks&quot;;
+	break;
+
+      case PIZ_COMPRESSION:
+	cout &lt;&lt; &quot;piz&quot;;
+	break;
+
+      case PXR24_COMPRESSION:
+	  cout &lt;&lt; &quot;pxr24&quot;;
+	  break;
+
+      case B44_COMPRESSION:
+	  cout &lt;&lt; &quot;b44&quot;;
+	  break;
+
+      case B44A_COMPRESSION:
+	  cout &lt;&lt; &quot;b44a&quot;;
+	  break;
+
+      default:
+	cout &lt;&lt; int (c);
+	break;
+    }
+}
+
+
+void
+printLineOrder (LineOrder lo)
+{
+    switch (lo)
+   {
+      case INCREASING_Y:
+	cout &lt;&lt; &quot;increasing y&quot;;
+	break;
+
+      case DECREASING_Y:
+	cout &lt;&lt; &quot;decreasing y&quot;;
+	break;
+
+      case RANDOM_Y:
+	cout &lt;&lt; &quot;random y&quot;;
+	break;
+
+      default:
+	cout &lt;&lt; int (lo);
+	break;
+    };
+}
+
+
+void
+printPixelType (PixelType pt)
+{
+    switch (pt)
+    {
+      case UINT:
+	cout &lt;&lt; &quot;32-bit unsigned integer&quot;;
+	break;
+
+      case HALF:
+	cout &lt;&lt; &quot;16-bit floating-point&quot;;
+	break;
+
+      case FLOAT:
+	cout &lt;&lt; &quot;32-bit floating-point&quot;;
+	break;
+
+      default:
+	cout &lt;&lt; &quot;type &quot; &lt;&lt; int (pt);
+	break;
+    }
+}
+
+
+void
+printLevelMode (LevelMode lm)
+{
+    switch (lm)
+    {
+      case ONE_LEVEL:
+	cout &lt;&lt; &quot;single level&quot;;
+	break;
+
+      case MIPMAP_LEVELS:
+	cout &lt;&lt; &quot;mip-map&quot;;
+	break;
+
+      case RIPMAP_LEVELS:
+	cout &lt;&lt; &quot;rip-map&quot;;
+	break;
+
+      default:
+	cout &lt;&lt; &quot;level mode &quot; &lt;&lt; int (lm);
+	break;
+    }
+}
+
+
+void
+printLevelRoundingMode (LevelRoundingMode lm)
+{
+    switch (lm)
+    {
+      case ROUND_DOWN:
+	cout &lt;&lt; &quot;down&quot;;
+	break;
+
+      case ROUND_UP:
+	cout &lt;&lt; &quot;up&quot;;
+	break;
+
+      default:
+	cout &lt;&lt; &quot;mode &quot; &lt;&lt; int (lm);
+	break;
+    }
+}
+
+
+void
+printTimeCode (TimeCode tc)
+{

[... truncated: 88856 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005892.html">[Haiku-commits] r23833 - in haiku/trunk:	headers/private/kernel/arch/m68k src/system/kernel/arch/m68k
</A></li>
	<LI>Next message: <A HREF="005894.html">[Haiku-commits] r23835 - in haiku/trunk: headers/posix	src/system/libroot/posix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5893">[ date ]</a>
              <a href="thread.html#5893">[ thread ]</a>
              <a href="subject.html#5893">[ subject ]</a>
              <a href="author.html#5893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
