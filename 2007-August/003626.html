<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r22013 - haiku/trunk/src/apps/glteapot
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22013%20-%20haiku/trunk/src/apps/glteapot&In-Reply-To=%3C200708192014.l7JKEq8r024772%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003625.html">
   <LINK REL="Next"  HREF="003627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r22013 - haiku/trunk/src/apps/glteapot</H1>
    <B>jackburton at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r22013%20-%20haiku/trunk/src/apps/glteapot&In-Reply-To=%3C200708192014.l7JKEq8r024772%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r22013 - haiku/trunk/src/apps/glteapot">jackburton at mail.berlios.de
       </A><BR>
    <I>Sun Aug 19 22:14:52 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003625.html">[Haiku-commits] r22012 - in haiku/trunk: headers/private/shared	src/kits/support
</A></li>
        <LI>Next message: <A HREF="003627.html">[Haiku-commits] r22013 - haiku/trunk/src/apps/glteapot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3626">[ date ]</a>
              <a href="thread.html#3626">[ thread ]</a>
              <a href="subject.html#3626">[ subject ]</a>
              <a href="author.html#3626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jackburton
Date: 2007-08-19 22:14:48 +0200 (Sun, 19 Aug 2007)
New Revision: 22013
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=22013&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=22013&amp;view=rev</A>

Modified:
   haiku/trunk/src/apps/glteapot/FPS.cpp
   haiku/trunk/src/apps/glteapot/FPS.h
   haiku/trunk/src/apps/glteapot/GLObject.cpp
   haiku/trunk/src/apps/glteapot/GLObject.h
   haiku/trunk/src/apps/glteapot/ObjectView.cpp
   haiku/trunk/src/apps/glteapot/ObjectView.h
   haiku/trunk/src/apps/glteapot/ResScroll.h
   haiku/trunk/src/apps/glteapot/error.cpp
   haiku/trunk/src/apps/glteapot/error.h
   haiku/trunk/src/apps/glteapot/teapot.h
   haiku/trunk/src/apps/glteapot/teapot_main.cpp
   haiku/trunk/src/apps/glteapot/util.h
Log:
Some style cleanups by Fredrik Ekdahl. Thanks!


Modified: haiku/trunk/src/apps/glteapot/FPS.cpp
===================================================================
--- haiku/trunk/src/apps/glteapot/FPS.cpp	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/FPS.cpp	2007-08-19 20:14:48 UTC (rev 22013)
@@ -18,20 +18,20 @@
 FPS::drawChar(GLfloat x, GLfloat y, GLint number)
 {
 	static bool numbers[13][7] = {
-		{ true, true, true, true, true, true, false }, 		/* 0 */
-		{ false, true, true, false, false, false, false },	/* 1 */
-		{ true, true, false, true, true, false, true },		/* 2 */
-		{ true, true, true, true, false, false, true },		/* 3 */
-		{ false, true, true, false, false, true, true },	/* 4 */
-		{ true, false, true, true, false, true, true },		/* 5 */
-		{ true, false, true, true, true, true, true },		/* 6 */
-		{ true, true, true, false, false, false, false },	/* 7 */
-		{ true, true, true, true, true, true, true },		/* 8 */
-		{ true, true, true, false, false, true, true },		/* 9 */
+		{true, true, true, true, true, true, false},	/* 0 */
+		{false, true, true, false, false, false, false},/* 1 */
+		{true, true, false, true, true, false, true},	/* 2 */
+		{true, true, true, true, false, false, true},	/* 3 */
+		{false, true, true, false, false, true, true},	/* 4 */
+		{true, false, true, true, false, true, true},	/* 5 */
+		{true, false, true, true, true, true, true},	/* 6 */
+		{true, true, true, false, false, false, false},	/* 7 */
+		{true, true, true, true, true, true, true},		/* 8 */
+		{true, true, true, false, false, true, true},	/* 9 */
 
-		{ true, false, false, false, true, true, true },	/* F */
-		{ true, true, false, false, true, true, true },		/* P */
-		{ true, false, true, true, false, true, true },		/* S */
+		{true, false, false, false, true, true, true},	/* F */
+		{true, true, false, false, true, true, true},	/* P */
+		{true, false, true, true, false, true, true},	/* S */
 	};
 
 	static GLfloat gap = 0.03;

Modified: haiku/trunk/src/apps/glteapot/FPS.h
===================================================================
--- haiku/trunk/src/apps/glteapot/FPS.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/FPS.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -5,16 +5,14 @@
 
 #include &lt;GL/gl.h&gt;
 
-class FPS
-{
-public:
-	FPS();
-	~FPS();
+class FPS {
+	public:
+		FPS();
+		~FPS();
+		
+		static void drawCounter(GLfloat frameRate);
 	
-	static void drawCounter( GLfloat frameRate );
-
-private:
-	static void drawChar( GLfloat x, GLfloat y, GLint number );
-
+	private:
+		static void drawChar(GLfloat x, GLfloat y, GLint number);
 };
 

Modified: haiku/trunk/src/apps/glteapot/GLObject.cpp
===================================================================
--- haiku/trunk/src/apps/glteapot/GLObject.cpp	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/GLObject.cpp	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,22 +3,17 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
+#include &quot;GLObject.h&quot;
+#include &lt;GL/gl.h&gt;
 #include &lt;stdlib.h&gt;
-#include &lt;GL/gl.h&gt;
-
 #include &lt;InterfaceKit.h&gt;
-
-#include &quot;GLObject.h&quot;
 #include &quot;glob.h&quot;
 
 struct material {
-	float ambient[3],diffuse[3],specular[3];
+	float ambient[3], diffuse[3], specular[3];
 };
 
-float *colors[] =
-{
-	NULL,white,yellow,blue,red,green
-};
+float *colors[] = {NULL, white, yellow, blue, red, green};
 
 material materials[] = {
 	// Null
@@ -61,25 +56,34 @@
 
 #define USE_QUAD_STRIPS 1
 
-extern long 	setEvent(sem_id event);
+extern long setEvent(sem_id event);
 
+
 GLObject::GLObject(ObjectView *ov)
+	: rotX(0),
+	rotY(0),
+	lastRotX(0),
+	lastRotY(0),
+	spinX(2),
+	spinY(2),
+	x(0),
+	y(0),
+	z(-2.0),
+	color(4),
+	solidity(0),
+	changed(false),
+	objView(ov)
 {
-	rotX = rotY = lastRotX = lastRotY = 0;
-	spinX = spinY = 2;
-	x = y = 0;
-	z = -2.0;
-	color = 4;
-	solidity = 0;
-	changed = false;
-	objView = ov;
 };
 
+
 GLObject::~GLObject()
 {
 };
 
-void GLObject::MenuInvoked(BPoint point)
+
+void
+GLObject::MenuInvoked(BPoint point)
 {
 	BPopUpMenu *m = new BPopUpMenu(&quot;Object&quot;,false,false);
 	BMenuItem *i;
@@ -126,7 +130,9 @@
 	setEvent(objView-&gt;drawEvent);
 };
 
-bool GLObject::SpinIt()
+
+bool
+GLObject::SpinIt()
 {
 	rotX += spinX;
 	rotY += spinY;
@@ -138,7 +144,9 @@
 	return c;
 };
 
-void GLObject::Draw(bool forID, float IDcolor[])
+
+void
+GLObject::Draw(bool forID, float IDcolor[])
 {
 	glPushMatrix();
 		glTranslatef(x, y, z);
@@ -156,6 +164,7 @@
 	changed = false;
 };
 
+
 TriangleObject::TriangleObject(ObjectView *ov, char *filename)
 	: 	GLObject(ov), 
 		points(100,100),
@@ -247,6 +256,7 @@
 	fclose(f);
 };
 
+
 TriangleObject::~TriangleObject()
 {
 	for (int i=0;i&lt;qs.num_items;i++) {
@@ -254,7 +264,9 @@
 	};
 };
 
-void TriangleObject::DoDrawing(bool forID)
+
+void
+TriangleObject::DoDrawing(bool forID)
 {
 	if (!forID) {
 		float c[3][4];

Modified: haiku/trunk/src/apps/glteapot/GLObject.h
===================================================================
--- haiku/trunk/src/apps/glteapot/GLObject.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/GLObject.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -2,8 +2,11 @@
 	Copyright 1999, Be Incorporated.   All Rights Reserved.
 	This file may be used under the terms of the Be Sample Code License.
 */
+#ifndef GL_OBJECT_H
+#define GL_OBJECT_H
 
 #include &quot;ObjectView.h&quot;
+#include &quot;util.h&quot;
 
 struct point {
 	float x,y,z;
@@ -20,35 +23,35 @@
 	int *pts;
 };
 
-#include &quot;util.h&quot;
 
 class GLObject {
-public:
-float 				rotX,rotY,spinX,spinY,lastRotX,lastRotY;
-float				x,y,z;
-int					color;
-int					solidity;
-bool				changed;
-ObjectView *		objView;
+	public:
+						GLObject(ObjectView *ov);
+		virtual			~GLObject();
 
-					GLObject(ObjectView *ov);
-virtual				~GLObject();
+		virtual void	Draw(bool forID, float IDcolor[]);
+		virtual bool	SpinIt();
+		virtual void	MenuInvoked(BPoint point);
+		virtual void	DoDrawing(bool forID) {};
 
-virtual void		Draw(bool forID, float IDcolor[]);
-virtual bool		SpinIt();
-virtual void		MenuInvoked(BPoint point);
-
-virtual void		DoDrawing(bool forID) {};
+		float 			rotX,rotY,spinX,spinY,lastRotX,lastRotY;
+		float			x,y,z;
+		int				color;
+		int				solidity;
+		bool			changed;
+		ObjectView *	objView;
 };
 
 class TriangleObject : public GLObject {
-public:
-BufferArray&lt;point&gt;		points;
-BufferArray&lt;tri&gt;		triangles;
-BufferArray&lt;quadStrip&gt;	qs;
+	public:
+							TriangleObject(ObjectView *ov, char *filename);
+		virtual				~TriangleObject();
+		
+		virtual void		DoDrawing(bool forID);
 
-					TriangleObject(ObjectView *ov, char *filename);
-virtual				~TriangleObject();
+		BufferArray&lt;point&gt;		points;
+		BufferArray&lt;tri&gt;		triangles;
+		BufferArray&lt;quadStrip&gt;	qs;
+};
 
-virtual void		DoDrawing(bool forID);
-};
+#endif // GL_OBJECT_H

Modified: haiku/trunk/src/apps/glteapot/ObjectView.cpp
===================================================================
--- haiku/trunk/src/apps/glteapot/ObjectView.cpp	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/ObjectView.cpp	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,16 +3,17 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
+#include &quot;ObjectView.h&quot;
+
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 
 #include &lt;InterfaceKit.h&gt;
 #include &lt;FindDirectory.h&gt;
 
-#include &quot;ObjectView.h&quot;
+#include &quot;FPS.h&quot;
+#include &quot;GLObject.h&quot;
 #include &quot;ResScroll.h&quot;
-#include &quot;GLObject.h&quot;
-#include &quot;FPS.h&quot;
 
 #define teapotData &quot;teapot.data&quot;
 char teapotPath[PATH_MAX];
@@ -35,22 +36,26 @@
 
 float *bgColor = black;
 
+
 struct light {
 	float *ambient;
 	float *diffuse;
 	float *specular;
 };
 
+
 light lights[] = {
-	{NULL,NULL,NULL},
-	{dimWhite,white,white},
-	{dimWhite,yellow,yellow},
-	{dimWhite,red,red},
-	{dimWhite,blue,blue},
-	{dimWhite,green,green}
+	{NULL, NULL, NULL},
+	{dimWhite, white, white},
+	{dimWhite, yellow, yellow},
+	{dimWhite, red, red},
+	{dimWhite, blue, blue},
+	{dimWhite, green, green}
 };
 
-long signalEvent(sem_id event)
+
+long
+signalEvent(sem_id event)
 {
 	long c;
 	get_sem_count(event,&amp;c);
@@ -60,7 +65,9 @@
 	return 0;
 };
 
-long setEvent(sem_id event)
+
+long
+setEvent(sem_id event)
 {
 	long c;
 	get_sem_count(event,&amp;c);
@@ -71,7 +78,8 @@
 };
 
 
-long waitEvent(sem_id event)
+long
+waitEvent(sem_id event)
 {
 	acquire_sem(event);
 
@@ -83,7 +91,9 @@
 	return 0;
 };
 
-long simonThread(ObjectView *ov)
+
+long
+simonThread(ObjectView *ov)
 {
     int noPause=0;
     while (acquire_sem_etc(ov-&gt;quittingSem,1,B_TIMEOUT,0) == B_NO_ERROR) {
@@ -101,6 +111,7 @@
 	return 0;
 };
 
+
 ObjectView::ObjectView(BRect r, char *name, ulong resizingMode, ulong options)
 	: BGLView(r,name,resizingMode,0,options)
 {
@@ -130,13 +141,16 @@
 	objListLock.Unlock();
 };
 
+
 ObjectView::~ObjectView()
 {
 	delete_sem(quittingSem);
 	delete_sem(drawEvent);
 };
 
-void ObjectView::AttachedToWindow()
+
+void
+ObjectView::AttachedToWindow()
 {
 	float position[] = {0.0, 3.0, 3.0, 0.0};
 	float position1[] = {-3.0, -3.0, 3.0, 0.0};
@@ -204,7 +218,9 @@
 	setEvent(drawEvent);
 };
 
-void ObjectView::DetachedFromWindow()
+
+void
+ObjectView::DetachedFromWindow()
 {
 	BGLView::DetachedFromWindow();
 
@@ -224,7 +240,9 @@
 	while (locks--) Window()-&gt;Lock();
 };
 
-void ObjectView::Pulse()
+
+void
+ObjectView::Pulse()
 {
   Window()-&gt;Lock();
   BRect p = Parent()-&gt;Bounds();
@@ -237,7 +255,9 @@
   Window()-&gt;Unlock();
 };
 
-void ObjectView::MessageReceived(BMessage *msg)
+
+void
+ObjectView::MessageReceived(BMessage *msg)
 {
 	BMenuItem *i;
 	bool *b;
@@ -320,7 +340,9 @@
 	};		
 };
 
-int ObjectView::ObjectAtPoint(BPoint p)
+
+int
+ObjectView::ObjectAtPoint(BPoint p)
 {
 	LockGL();
 	glShadeModel(GL_FLAT);
@@ -347,7 +369,9 @@
 	return objNum;
 };
 
-void ObjectView::MouseDown(BPoint p)
+
+void
+ObjectView::MouseDown(BPoint p)
 {
 	BPoint op=p,np=p;
 	BRect bounds = Bounds();
@@ -441,7 +465,9 @@
 	setEvent(drawEvent);
 };
 
-void ObjectView::FrameResized(float w, float h)
+
+void
+ObjectView::FrameResized(float w, float h)
 {
 	LockGL();
 
@@ -481,7 +507,9 @@
 	setEvent(drawEvent);
 }
 
-bool ObjectView::RepositionView()
+
+bool
+ObjectView::RepositionView()
 {
 	if (!(persp != lastPersp) &amp;&amp;
 		!(lastObjectDistance != objectDistance) &amp;&amp;
@@ -516,7 +544,9 @@
 	return true;
 };
 
-void ObjectView::EnforceState()
+
+void
+ObjectView::EnforceState()
 {
 	glShadeModel(gouraud?GL_SMOOTH:GL_FLAT);
 	if (zbuf) glEnable(GL_DEPTH_TEST); else glDisable(GL_DEPTH_TEST);
@@ -542,7 +572,9 @@
 	};
 };
 
-bool ObjectView::SpinIt()
+
+bool
+ObjectView::SpinIt()
 {
 	bool changed = false;
 
@@ -615,7 +647,9 @@
 	return changed;
 };
 
-void ObjectView::DrawFrame(bool noPause)
+
+void
+ObjectView::DrawFrame(bool noPause)
 {
 	LockGL();
 	glClear(GL_COLOR_BUFFER_BIT|(zbuf?GL_DEPTH_BUFFER_BIT:0));

Modified: haiku/trunk/src/apps/glteapot/ObjectView.h
===================================================================
--- haiku/trunk/src/apps/glteapot/ObjectView.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/ObjectView.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,8 +3,8 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
-#ifndef ObjectView_h
-#define ObjectView_h
+#ifndef OBJECT_VIEW_H
+#define OBJECT_VIEW_H
 
 #include &lt;GL/glu.h&gt;
 #include &lt;GLView.h&gt;
@@ -33,47 +33,49 @@
 #define HISTSIZE 10
 
 class ResScroll;
+
 class ObjectView : public BGLView {
-public:
-sem_id			drawEvent;
-sem_id			quittingSem;
-thread_id		drawThread;
-ResScroll *		resScroll;
+	public:
+						ObjectView(BRect r, char *name, 
+							ulong resizingMode, ulong options);
+						~ObjectView();
 
-BList			objects;
-BLocker         objListLock;
+		virtual	void	MouseDown(BPoint p);
+		virtual	void	MessageReceived(BMessage *msg);
+		virtual	void	AttachedToWindow();
+		virtual	void	DetachedFromWindow();
+		virtual	void	FrameResized(float width, float height);
+				bool	SpinIt();
+				int		ObjectAtPoint(BPoint p);
+		virtual	void	DrawFrame(bool noPause);
+		virtual	void	Pulse();
+				void	EnforceState();
+				bool	RepositionView();
 
-float           yxRatio,lastYXRatio;
-uint64          lastFrame;
-float           fpsHistory[HISTSIZE];
-int32           histEntries,oldestEntry;
-bool            fps;
-bool			gouraud, lastGouraud;
-bool			zbuf,lastZbuf;
-bool			culling,lastCulling;
-bool			lighting,lastLighting;
-bool			filled,lastFilled;
-bool			persp,lastPersp;
-bool			lastTextured,textured;
-bool			lastFog,fog;
-bool			forceRedraw;
-float			objectDistance,lastObjectDistance;
+		sem_id			drawEvent;
+		sem_id			quittingSem;
+		thread_id		drawThread;
+		ResScroll *		resScroll;
+		
+		BList			objects;
+		BLocker         objListLock;
+		
+		float           yxRatio,lastYXRatio;
+		uint64          lastFrame;
+		float           fpsHistory[HISTSIZE];
+		int32           histEntries,oldestEntry;
+		bool            fps;
+		bool			gouraud, lastGouraud;
+		bool			zbuf,lastZbuf;
+		bool			culling,lastCulling;
+		bool			lighting,lastLighting;
+		bool			filled,lastFilled;
+		bool			persp,lastPersp;
+		bool			lastTextured,textured;
+		bool			lastFog,fog;
+		bool			forceRedraw;
+		float			objectDistance,lastObjectDistance;
 
-				ObjectView(BRect r, char *name, 
-					ulong resizingMode, ulong options);
-				~ObjectView();
-
-virtual	void	MouseDown(BPoint p);
-virtual	void	MessageReceived(BMessage *msg);
-virtual	void	AttachedToWindow();
-virtual	void	DetachedFromWindow();
-virtual	void	FrameResized(float width, float height);
-		bool	SpinIt();
-		int		ObjectAtPoint(BPoint p);
-virtual	void	DrawFrame(bool noPause);
-virtual	void	Pulse();
-		void	EnforceState();
-		bool	RepositionView();
 };
 
-#endif
+#endif // OBJECT_VIEW_H

Modified: haiku/trunk/src/apps/glteapot/ResScroll.h
===================================================================
--- haiku/trunk/src/apps/glteapot/ResScroll.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/ResScroll.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,21 +3,20 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
-#ifndef ResScroll_h
-#define ResScroll_h
+#ifndef RESSCROLL_H
+#define RESSCROLL_H
 
 #include &lt;interface/ScrollBar.h&gt;
 
 class ObjectView;
 
 class ResScroll : public BScrollBar {
-public:
-		ObjectView *	objectView;
-		
-						ResScroll(BRect r, const char *name,
-							ObjectView *target, orientation posture);
-virtual	void			ValueChanged(float value);
-
+	public:
+			ObjectView *	objectView;
+			
+							ResScroll(BRect r, const char *name,
+								ObjectView *target, orientation posture);
+			virtual	void	ValueChanged(float value);
 };
 
 #endif

Modified: haiku/trunk/src/apps/glteapot/error.cpp
===================================================================
--- haiku/trunk/src/apps/glteapot/error.cpp	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/error.cpp	2007-08-19 20:14:48 UTC (rev 22013)
@@ -5,7 +5,8 @@
 
 #include &quot;error.h&quot;
 
-void fatalerror(char *s)
+void
+fatalerror(char *s)
 {
   printf(&quot;FATAL ERROR: %s\n&quot;,s);
 };

Modified: haiku/trunk/src/apps/glteapot/error.h
===================================================================
--- haiku/trunk/src/apps/glteapot/error.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/error.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,8 +3,8 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
-#ifndef error_h
-#define error_h
+#ifndef ERROR_H
+#define ERROR_H
 
 #include &lt;stdio.h&gt;
 
@@ -28,4 +28,4 @@
 
 #endif //DEBUGGING
 
-#endif
+#endif // ERROR_H

Modified: haiku/trunk/src/apps/glteapot/teapot.h
===================================================================
--- haiku/trunk/src/apps/glteapot/teapot.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/teapot.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,7 +3,7 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
-#include &quot;GL/gl.h&quot;
+#include &lt;GL/gl.h&gt;
 
 void auxSolidTeapot(GLdouble scale);
 void auxWireTeapot(GLdouble scale);

Modified: haiku/trunk/src/apps/glteapot/teapot_main.cpp
===================================================================
--- haiku/trunk/src/apps/glteapot/teapot_main.cpp	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/teapot_main.cpp	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,42 +3,48 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
+#include &lt;stdio.h&gt;
 #include &lt;InterfaceKit.h&gt;
-#include &lt;stdio.h&gt;
 #include &quot;ObjectView.h&quot;
 
-class QuitWindow : public BDirectWindow
-{
-public:
-	QuitWindow(BRect r, char *name, window_type wt, ulong something);
-	
-	virtual bool QuitRequested();
-	virtual void DirectConnected( direct_buffer_info *info );
-	ObjectView *bgl;
+class QuitWindow : public BDirectWindow {
+	public:
+		QuitWindow(BRect r, char *name, window_type wt, ulong something);
+		
+		virtual bool QuitRequested();
+		virtual void DirectConnected( direct_buffer_info *info );
 
+		ObjectView *bgl;
 };
 
+
 QuitWindow::QuitWindow(BRect r, char *name, window_type wt, ulong something)
 	: BDirectWindow(r,name,wt,something)
 { 
 }
 
-bool QuitWindow::QuitRequested()
+
+bool
+QuitWindow::QuitRequested()
 {
-printf( &quot;closing \n&quot; );
+	printf(&quot;closing \n&quot;);
 	bgl-&gt;EnableDirectMode( false );
 	be_app-&gt;PostMessage(B_QUIT_REQUESTED);
 	return true;
 };
 
-void QuitWindow::DirectConnected( direct_buffer_info *info )
+
+void
+QuitWindow::DirectConnected(direct_buffer_info *info)
 {
-	if( bgl )
+	if (bgl)
 		bgl-&gt;DirectConnected( info );	
 	bgl-&gt;EnableDirectMode( true );
 }
 
-int main(int argc, char **argv)
+
+int
+main(int argc, char **argv)
 {
 	GLenum type = BGL_RGB | BGL_DEPTH | BGL_DOUBLE;
     //GLenum type = BGL_RGB | BGL_DEPTH | BGL_SINGLE;

Modified: haiku/trunk/src/apps/glteapot/util.h
===================================================================
--- haiku/trunk/src/apps/glteapot/util.h	2007-08-19 19:59:09 UTC (rev 22012)
+++ haiku/trunk/src/apps/glteapot/util.h	2007-08-19 20:14:48 UTC (rev 22013)
@@ -3,15 +3,14 @@
 	This file may be used under the terms of the Be Sample Code License.
 */
 
-#ifndef list_h
-#define list_h
+#ifndef UTIL_H
+#define UTIL_H
 
 #include &lt;memory.h&gt;
 #include &quot;error.h&quot;
 
 template &lt;class contents&gt;
-struct LispNode
-{
+struct LispNode {
   contents *car;
   LispNode *cdr;
 
@@ -31,89 +30,100 @@
 
 
 template &lt;class contents&gt;
-struct LispList
-{
-  LispNode&lt;contents&gt; *first;
+struct LispList {
+	LispNode&lt;contents&gt; *first;
 
 
-  /* -------- List creation --------------- */
-	  /* Create an empty list */
-	  inline LispList()
-	    { first = 0; }
+	/* -------- List creation --------------- */
+	/* Create an empty list */
+	inline LispList()
+	{
+		first = 0;
+	}
 
-	  /* Create a list pointing to the specified node */
-	  inline LispList(LispNode&lt;contents&gt; *_first)
-	    { first = _first; }
+	/* Create a list pointing to the specified node */
+	inline LispList(LispNode&lt;contents&gt; *_first)
+	{
+		first = _first;
+	}
 
-	  /* ?? */
-	  inline LispList(LispList &amp;init)
-	    { first = init.first; }
+	/* ?? */
+	inline LispList(LispList &amp;init)
+	{
+		first = init.first;
+	}
 
-  /* ---------- List queries ------------- */
-	  inline int is_empty()
-	    { return first == 0; }
+	/* ---------- List queries ------------- */
+	inline int is_empty()
+	{
+		return first == 0;
+	}
 
 	/* Determines if a thing is on the list */
-	  inline int is_present(contents *element)
-	    {
-	      for (LispNode&lt;contents&gt; *node = first; node; node = node-&gt;cdr)
-		if (node-&gt;car == element)
-		  return 1;
-	      return 0;
-	    }
+	inline int is_present(contents *element)
+	{
+		for (LispNode&lt;contents&gt; *node = first; node; node = node-&gt;cdr)
+			if (node-&gt;car == element)
+			return 1;
+		return 0;
+	}
 
 	/* Returns the length of the list */
-	  inline int count()
-	    {
-	      int n = 0;
-	      for (LispNode&lt;contents&gt; *node = first; node; node = node-&gt;cdr)
-		n++;
-	      return n;
-	    }
+	inline int count()
+	{
+		int n = 0;
+		for (LispNode&lt;contents&gt; *node = first; node; node = node-&gt;cdr)
+			n++;
+	    return n;
+	}
 
-  /* ----------- Adding &quot;nodes&quot; to the list ------------ */
-	  /* Add a specified node to the head of the list.  */
-	  inline void add_head(LispNode&lt;contents&gt; *new_element)
-	    {
-	      new_element-&gt;cdr = first;
-	      first = new_element;
-	    }
+	/* ----------- Adding &quot;nodes&quot; to the list ------------ */
+	/* Add a specified node to the head of the list.  */
+	inline void add_head(LispNode&lt;contents&gt; *new_element)
+	{
+		new_element-&gt;cdr = first;
+		first = new_element;
+	}
 
-	  /* Add a specified node anywhere on the list */
-	  inline void add(LispNode&lt;contents&gt; *new_element)
-	    {
-	      add_head (new_element);
-	    }
+	/* Add a specified node anywhere on the list */
+	inline void add(LispNode&lt;contents&gt; *new_element)
+	{
+		add_head (new_element);
+	}
 
 	inline void add_tail(LispNode&lt;contents&gt; *new_element)
 	{
 		LispNode&lt;contents&gt;** pred = &first;
-		while( *pred )
+		while(*pred)
 			pred = &amp;(*pred)-&gt;cdr;
 		*pred = new_element;
 		new_element-&gt;cdr = 0;
 	}
 
-  /* ----------- Adding &quot;contents&quot; to the list ------------ */
-  /* -----  (Which in my opinion is far more useful) ------ */
-	  /* Create new node pointing to thing, &amp; add to head of list. */
-	  inline void add_head_new(contents *new_element)
-	    {
-	      first = new LispNode&lt;contents&gt;(new_element, first);
-	    }
-	  inline void add_head(contents *new_element)
-	    { add_head_new(new_element); }
+	/* ----------- Adding &quot;contents&quot; to the list ------------ */
+	/* -----  (Which in my opinion is far more useful) ------ */
+	/* Create new node pointing to thing, &amp; add to head of list. */
+	inline void add_head_new(contents *new_element)
+	{
+		first = new LispNode&lt;contents&gt;(new_element, first);
+	}
+	inline void add_head(contents *new_element)
+	{
+		add_head_new(new_element);
+	}
 
-	  /* Create new node pointing to thing, &amp; add to end of list. */
-	  inline void add_tail_new(contents *new_element)
-	    {
-	      LispNode&lt; contents &gt; **pred = &first;
-	      while (*pred)
-		pred = &amp;(*pred)-&gt;cdr;
-	      *pred = new LispNode&lt; contents &gt;(new_element);
-	    }
-	  inline void add_tail(contents *new_element)
-	    { add_tail_new(new_element); }
+	/* Create new node pointing to thing, &amp; add to end of list. */
+	inline void add_tail_new(contents *new_element)
+	{
+		LispNode&lt; contents &gt; **pred = &first;
+		while (*pred)
+			pred = &amp;(*pred)-&gt;cdr;
+		*pred = new LispNode&lt; contents &gt;(new_element);
+	}
+	inline void add_tail(contents *new_element)
+	{
+		add_tail_new(new_element);
+	}
 
 	  /* Create new node pointing to thing, &amp; add anywhere on list */
 	  inline void add_new(contents *new_element)
@@ -226,156 +236,162 @@
 	    }
 #endif
 
-	  /* Take the first thing off the list */
-	  inline contents *get_head()
-	    {
-	      contents *c = 0;
-	      if(first)
-	      {
-		c = first-&gt;car;
-		delete rem_head();
-	      }
-	      return c;
-	    }
-	    
-	  /* Take something off the list */
-	  inline contents *get()
-	    { return(get_head()); }
+	/* Take the first thing off the list */
+	inline contents *get_head()
+	{
+		contents *c = 0;
+		if(first) {
+			c = first-&gt;car;
+			delete rem_head();
+		}
+		return c;
+	}
+	
+	/* Take something off the list */
+	inline contents *get()
+	{
+		return(get_head());
+	}
 
-	  /* XXX inline contents *get_tail() { } */
+	/* XXX inline contents *get_tail() { } */
 
-  /* -------- Stack simulation (by j.h.) ------------ */
-	  /* Put a thing onto the head of the list */
-	  inline void push( contents *c )
-	    { put_head( c ); }
+	/* -------- Stack simulation (by j.h.) ------------ */
+	/* Put a thing onto the head of the list */
+	inline void push(contents *c)
+	{
+		put_head(c);
+	}
 
-	  /* Remove a thing from the head of the list */
-	  inline contents *pop()
-	    { return(get_head()); }
+	/* Remove a thing from the head of the list */
+	inline contents *pop()
+	{
+		return(get_head());

[... truncated: 235 lines follow ...]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003625.html">[Haiku-commits] r22012 - in haiku/trunk: headers/private/shared	src/kits/support
</A></li>
	<LI>Next message: <A HREF="003627.html">[Haiku-commits] r22013 - haiku/trunk/src/apps/glteapot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3626">[ date ]</a>
              <a href="thread.html#3626">[ thread ]</a>
              <a href="subject.html#3626">[ subject ]</a>
              <a href="author.html#3626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
