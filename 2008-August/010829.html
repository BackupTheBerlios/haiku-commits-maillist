<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r26809 - haiku/trunk/src/apps/text_search
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26809%20-%20haiku/trunk/src/apps/text_search&In-Reply-To=%3C20080805002824.467.1%40knochen-vm.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010828.html">
   <LINK REL="Next"  HREF="010827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r26809 - haiku/trunk/src/apps/text_search</H1>
    <B>Ingo Weinhold</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r26809%20-%20haiku/trunk/src/apps/text_search&In-Reply-To=%3C20080805002824.467.1%40knochen-vm.localdomain%3E"
       TITLE="[Haiku-commits] r26809 - haiku/trunk/src/apps/text_search">ingo_weinhold at gmx.de
       </A><BR>
    <I>Tue Aug  5 00:28:24 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="010828.html">[Haiku-commits] r26809 - haiku/trunk/src/apps/text_search
</A></li>
        <LI>Next message: <A HREF="010827.html">[Haiku-commits] r26810 - haiku/trunk/src/system/kernel/arch/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10829">[ date ]</a>
              <a href="thread.html#10829">[ thread ]</a>
              <a href="subject.html#10829">[ subject ]</a>
              <a href="author.html#10829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2008-08-04 at 23:51:35 [+0200], stippi at BerliOS &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">stippi at mail.berlios.de</A>&gt; 
wrote:
&gt;<i> Author: stippi
</I>&gt;<i> Date: 2008-08-04 23:51:33 +0200 (Mon, 04 Aug 2008)
</I>&gt;<i> New Revision: 26809
</I>&gt;<i> ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=26809&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=26809&amp;view=rev</A>
</I>&gt;<i> 
</I>&gt;<i> Added:
</I>&gt;<i>    haiku/trunk/src/apps/text_search/ChangesIterator.cpp
</I>&gt;<i>    haiku/trunk/src/apps/text_search/ChangesIterator.h
</I>&gt;<i>    haiku/trunk/src/apps/text_search/InitialIterator.cpp
</I>&gt;<i>    haiku/trunk/src/apps/text_search/InitialIterator.h
</I>&gt;<i> Removed:
</I>&gt;<i>    haiku/trunk/src/apps/text_search/FolderIterator.cpp
</I>&gt;<i>    haiku/trunk/src/apps/text_search/FolderIterator.h
</I>&gt;<i> Modified:
</I>&gt;<i>    haiku/trunk/src/apps/text_search/GrepListView.cpp
</I>&gt;<i>    haiku/trunk/src/apps/text_search/GrepListView.h
</I>&gt;<i>    haiku/trunk/src/apps/text_search/GrepWindow.cpp
</I>&gt;<i>    haiku/trunk/src/apps/text_search/GrepWindow.h
</I>&gt;<i>    haiku/trunk/src/apps/text_search/Grepper.cpp
</I>&gt;<i>    haiku/trunk/src/apps/text_search/Jamfile
</I>&gt;<i>    haiku/trunk/src/apps/text_search/Model.h
</I>&gt;<i> Log:
</I>&gt;<i> Finished implementing and enabled node monitoring on the folders and files
</I>&gt;<i> of the current search. If new files match the pattern, the appear in the
</I>&gt;<i> results, or are removed if they don't match anymore. The results also
</I>&gt;<i> adapt to changes in the files.
</I>&gt;<i> Basically, I added another iterator that is also used to track changes when
</I>&gt;<i> node monitor events arrive. Only those changed files are grepped again after
</I>&gt;<i> a timeout of .5 seconds when no new node monitor events pour in.
</I>
BTW, Haiku has interesting new node monitoring constants: 
B_WATCH_INTERIM_UPDATE and B_STAT_* (cf. &lt;NodeMonitor.h&gt;). The former is a 
flag to specify when starting to watch a node. If not specified the app won't 
get stat changed notifications until the changed file is closed. The B_STAT_* 
constants are flags in the notification message indicating what aspect has 
changed exactly. I'm not sure how well this works in case of unarchiving 
tools, but at least in theory it should be enough to react on non-interim 
modification time changes only.

CU, Ingo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010828.html">[Haiku-commits] r26809 - haiku/trunk/src/apps/text_search
</A></li>
	<LI>Next message: <A HREF="010827.html">[Haiku-commits] r26810 - haiku/trunk/src/system/kernel/arch/x86
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10829">[ date ]</a>
              <a href="thread.html#10829">[ thread ]</a>
              <a href="subject.html#10829">[ subject ]</a>
              <a href="author.html#10829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
