<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r20203 - haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra mfs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20203%20-%0A%20haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra%0A%20mfs&In-Reply-To=%3C20070224225956.2966.14%40cs.tu-berlin.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000889.html">
   <LINK REL="Next"  HREF="000848.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r20203 - haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra mfs</H1>
    <B>Ingo Weinhold</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20203%20-%0A%20haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra%0A%20mfs&In-Reply-To=%3C20070224225956.2966.14%40cs.tu-berlin.de%3E"
       TITLE="[Haiku-commits] r20203 - haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra mfs">bonefish at cs.tu-berlin.de
       </A><BR>
    <I>Sat Feb 24 22:59:56 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000889.html">[Haiku-commits] r20203 - haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra mfs
</A></li>
        <LI>Next message: <A HREF="000848.html">[Haiku-commits] r20204 -	haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ramfs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#892">[ date ]</a>
              <a href="thread.html#892">[ thread ]</a>
              <a href="subject.html#892">[ subject ]</a>
              <a href="author.html#892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 2007-02-24 at 20:52:42 [+0100], Axel D&#246;rfler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">axeld at pinc-software.de</A>&gt; 
wrote:
&gt;<i> Ingo Weinhold &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/haiku-commits">bonefish at cs.tu-berlin.de</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;     (Want a bug report for this, Axel? :-P)
</I>&gt;<i> &gt; &gt; If you don't want to fix it yourself, sure! :-)
</I>&gt;<i> &gt; No, be assured I don't want to do that. I just wondered whether you
</I>&gt;<i> &gt; intend
</I>&gt;<i> &gt; to ignore those issues till the Big Tracker Rewrite (tm). ;-)
</I>&gt;<i> &gt; I haven't looked at the code how bad it really is, but I believe,
</I>&gt;<i> &gt; based on
</I>&gt;<i> &gt; the fact that BFS doesn't support hard links the Tracker uses the
</I>&gt;<i> &gt; incorrect
</I>&gt;<i> &gt; assumption that an entry corresponds to exactly one node in several
</I>&gt;<i> &gt; places.
</I>&gt;<i> &gt; It also doesn't help that some of the node monitoring and query
</I>&gt;<i> &gt; notification messages (e.g. B_ENTRY_REMOVED) simply lack information
</I>&gt;<i> &gt; under
</I>&gt;<i> &gt; pre-Haiku platforms.
</I>&gt;<i> 
</I>&gt;<i> Ah, that one again. I think I'll ignore it, indeed - but a bug report
</I>&gt;<i> with the details wouldn't hurt, at least :-)
</I>
Submitted one, although there aren't that many details to it. :-)

&gt;<i> Especially what change in ramfs did work around it.
</I>
I could work around only one symptom. Before my change RamFS renamed an 
entry by creating a new entry for the concerned node and then removed the 
old one. This resulted in two query notifications, if the node was in a 
live query result set: First a B_ENTRY_CREATED notifcation for the new 
entry and then a B_ENTRY_DELETED for the old entry. With the 
one-node-one-entry strategy Tracker apparently uses, the second 
notification removed the node completely from the query window. RamFS's 
renaming method now works the other around now, i.e. first deletes the old 
entry, then creates the new one. This solves this particular issue. Others 
remain though.

CU, Ingo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000889.html">[Haiku-commits] r20203 - haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ra mfs
</A></li>
	<LI>Next message: <A HREF="000848.html">[Haiku-commits] r20204 -	haiku/trunk/src/tests/add-ons/kernel/file_systems/userlandfs/r5/src/test/ramfs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#892">[ date ]</a>
              <a href="thread.html#892">[ thread ]</a>
              <a href="subject.html#892">[ subject ]</a>
              <a href="author.html#892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
