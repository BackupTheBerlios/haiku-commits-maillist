<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r20193 - in buildtools/trunk/legacy/binutils/gas: .	config
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20193%20-%20in%20buildtools/trunk/legacy/binutils/gas%3A%20.%0A%09config&In-Reply-To=%3C200702212311.l1LNBQQv024713%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000830.html">
   <LINK REL="Next"  HREF="000837.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r20193 - in buildtools/trunk/legacy/binutils/gas: .	config</H1>
    <B>zooey at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r20193%20-%20in%20buildtools/trunk/legacy/binutils/gas%3A%20.%0A%09config&In-Reply-To=%3C200702212311.l1LNBQQv024713%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r20193 - in buildtools/trunk/legacy/binutils/gas: .	config">zooey at mail.berlios.de
       </A><BR>
    <I>Thu Feb 22 00:11:26 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000830.html">[Haiku-commits] r20192 - in buildtools/trunk/legacy/binutils: . bfd bfd/doc bfd/hosts bfd/po binutils binutils/doc binutils/po binutils/testsuite binutils/testsuite/binutils-all binutils/testsuite/binutils-all/hppa binutils/testsuite/binutils-all/windres binutils/testsuite/config binutils/testsuite/lib config cpu etc gas gas/config gas/doc gas/po gas/testsuite gas/testsuite/config gas/testsuite/gas gas/testsuite/gas/all gas/testsuite/gas/alpha gas/testsuite/gas/arc gas/testsuite/gas/arm gas/testsuite/gas/cfi gas/testsuite/gas/cris gas/testsuite/gas/d10v gas/testsuite/gas/d30v gas/testsuite/gas/dlx gas/testsuite/gas/elf gas/testsuite/gas/fr30 gas/testsuite/gas/frv gas/testsuite/gas/h8300 gas/testsuite/gas/hppa gas/testsuite/gas/hppa/basic gas/testsuite/gas/hppa/parse gas/testsuite/gas/hppa/reloc gas/testsuite/gas/hppa/unsorted gas/testsuite/gas/i386 gas/testsuite/gas/i860 gas/testsuite/gas/ia64 gas/testsuite/gas/ieee-fp gas/testsuite/gas/iq2000 gas/testsuite/gas/m32r gas/testsuite/g! as/m68hc11 gas/testsuite/gas/m68k gas/testsuite/gas/m68k-coff gas/testsuite/gas/macros gas/testsuite/gas/mcore gas/testsuite/gas/mips gas/testsuite/gas/mmix gas/testsuite/gas/mn10200 gas/testsuite/gas/mn10300 gas/testsuite/gas/mri gas/testsuite/gas/msp430 gas/testsuite/gas/openrisc gas/testsuite/gas/pdp11 gas/testsuite/gas/pj gas/testsuite/gas/ppc gas/testsuite/gas/s390 gas/testsuite/gas/sh gas/testsuite/gas/sh/sh64 gas/testsuite/gas/sparc gas/testsuite/gas/sparc-solaris gas/testsuite/gas/sun4 gas/testsuite/gas/symver gas/testsuite/gas/tic4x gas/testsuite/gas/tic54x gas/testsuite/gas/v850 gas/testsuite/gas/vax gas/testsuite/gas/xstormy16 gas/testsuite/gas/xtensa gas/testsuite/gas/z8k gas/testsuite/lib gprof gprof/po include include/aout include/coff include/elf include/gdb include/nlm include/opcode intl ld ld/emulparams ld/emultempl ld/scripttempl ld/testsuite ld/testsuite/config ld/testsuite/ld-alpha ld/testsuite/ld-arm ld/testsuite/ld-auto-import ld/testsuite/ld-bootstra! p ld/testsuite/ld-cdtest ld/testsuite/ld-checks ld/testsuite/l! d-cris l
</A></li>
        <LI>Next message: <A HREF="000837.html">[Haiku-commits] r20194 - haiku/trunk/build/jam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#832">[ date ]</a>
              <a href="thread.html#832">[ thread ]</a>
              <a href="subject.html#832">[ subject ]</a>
              <a href="author.html#832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zooey
Date: 2007-02-22 00:11:25 +0100 (Thu, 22 Feb 2007)
New Revision: 20193
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=20193&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=20193&amp;view=rev</A>

Added:
   buildtools/trunk/legacy/binutils/gas/config/te-beos.h
Modified:
   buildtools/trunk/legacy/binutils/gas/config/tc-i386.c
   buildtools/trunk/legacy/binutils/gas/configure.tgt
Log:
* fixed silly problem with as not accepting a divide (it interpreted it as
  a start of comment instead, tsk!)


Modified: buildtools/trunk/legacy/binutils/gas/config/tc-i386.c
===================================================================
--- buildtools/trunk/legacy/binutils/gas/config/tc-i386.c	2007-02-21 21:17:52 UTC (rev 20192)
+++ buildtools/trunk/legacy/binutils/gas/config/tc-i386.c	2007-02-21 23:11:25 UTC (rev 20193)
@@ -202,7 +202,8 @@
 	 &amp;&amp; !defined (TE_LINUX)				\
  	 &amp;&amp; !defined (TE_NETWARE)			\
 	 &amp;&amp; !defined (TE_FreeBSD)			\
-	 &amp;&amp; !defined (TE_NetBSD)))
+	 &amp;&amp; !defined (TE_NetBSD)			\
+	 &amp;&amp; !defined (TE_BeOS)))
 /* This array holds the chars that always start a comment.  If the
    pre-processor is disabled, these aren't very useful.  The option
    --divide will remove '/' from this list.  */

Added: buildtools/trunk/legacy/binutils/gas/config/te-beos.h
===================================================================
--- buildtools/trunk/legacy/binutils/gas/config/te-beos.h	2007-02-21 21:17:52 UTC (rev 20192)
+++ buildtools/trunk/legacy/binutils/gas/config/te-beos.h	2007-02-21 23:11:25 UTC (rev 20193)
@@ -0,0 +1,10 @@
+/* Target environment for BeOS/haiku.  It is the same as the generic
+   target, except that it arranges via the TE_BeOS define to
+   suppress the use of &quot;/&quot; as a comment character.  Some code in the
+   haiku kernel uses &quot;/&quot; to mean division.  (What a concept!)  */
+#define TE_BeOS 1
+
+#define LOCAL_LABELS_DOLLAR 1
+#define LOCAL_LABELS_FB 1
+
+#include &quot;obj-format.h&quot;

Modified: buildtools/trunk/legacy/binutils/gas/configure.tgt
===================================================================
--- buildtools/trunk/legacy/binutils/gas/configure.tgt	2007-02-21 21:17:52 UTC (rev 20192)
+++ buildtools/trunk/legacy/binutils/gas/configure.tgt	2007-02-21 23:11:25 UTC (rev 20193)
@@ -163,7 +163,7 @@
   i386-ibm-aix*)			fmt=coff em=i386aix ;;
   i386-sequent-bsd*)			fmt=aout em=dynix ;;
   i386-*-beospe*)			fmt=coff em=pe ;;
-  i386-*-beos*)				fmt=elf ;;
+  i386-*-beos*)				fmt=elf em=beos ;;
   i386-*-coff)				fmt=coff ;;
   i386-*-elf)				fmt=elf ;;
   i386-*-kaos*)				fmt=elf ;;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000830.html">[Haiku-commits] r20192 - in buildtools/trunk/legacy/binutils: . bfd bfd/doc bfd/hosts bfd/po binutils binutils/doc binutils/po binutils/testsuite binutils/testsuite/binutils-all binutils/testsuite/binutils-all/hppa binutils/testsuite/binutils-all/windres binutils/testsuite/config binutils/testsuite/lib config cpu etc gas gas/config gas/doc gas/po gas/testsuite gas/testsuite/config gas/testsuite/gas gas/testsuite/gas/all gas/testsuite/gas/alpha gas/testsuite/gas/arc gas/testsuite/gas/arm gas/testsuite/gas/cfi gas/testsuite/gas/cris gas/testsuite/gas/d10v gas/testsuite/gas/d30v gas/testsuite/gas/dlx gas/testsuite/gas/elf gas/testsuite/gas/fr30 gas/testsuite/gas/frv gas/testsuite/gas/h8300 gas/testsuite/gas/hppa gas/testsuite/gas/hppa/basic gas/testsuite/gas/hppa/parse gas/testsuite/gas/hppa/reloc gas/testsuite/gas/hppa/unsorted gas/testsuite/gas/i386 gas/testsuite/gas/i860 gas/testsuite/gas/ia64 gas/testsuite/gas/ieee-fp gas/testsuite/gas/iq2000 gas/testsuite/gas/m32r gas/testsuite/g! as/m68hc11 gas/testsuite/gas/m68k gas/testsuite/gas/m68k-coff gas/testsuite/gas/macros gas/testsuite/gas/mcore gas/testsuite/gas/mips gas/testsuite/gas/mmix gas/testsuite/gas/mn10200 gas/testsuite/gas/mn10300 gas/testsuite/gas/mri gas/testsuite/gas/msp430 gas/testsuite/gas/openrisc gas/testsuite/gas/pdp11 gas/testsuite/gas/pj gas/testsuite/gas/ppc gas/testsuite/gas/s390 gas/testsuite/gas/sh gas/testsuite/gas/sh/sh64 gas/testsuite/gas/sparc gas/testsuite/gas/sparc-solaris gas/testsuite/gas/sun4 gas/testsuite/gas/symver gas/testsuite/gas/tic4x gas/testsuite/gas/tic54x gas/testsuite/gas/v850 gas/testsuite/gas/vax gas/testsuite/gas/xstormy16 gas/testsuite/gas/xtensa gas/testsuite/gas/z8k gas/testsuite/lib gprof gprof/po include include/aout include/coff include/elf include/gdb include/nlm include/opcode intl ld ld/emulparams ld/emultempl ld/scripttempl ld/testsuite ld/testsuite/config ld/testsuite/ld-alpha ld/testsuite/ld-arm ld/testsuite/ld-auto-import ld/testsuite/ld-bootstra! p ld/testsuite/ld-cdtest ld/testsuite/ld-checks ld/testsuite/l! d-cris l
</A></li>
	<LI>Next message: <A HREF="000837.html">[Haiku-commits] r20194 - haiku/trunk/build/jam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#832">[ date ]</a>
              <a href="thread.html#832">[ thread ]</a>
              <a href="subject.html#832">[ subject ]</a>
              <a href="author.html#832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
