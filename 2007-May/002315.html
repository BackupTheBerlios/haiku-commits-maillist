<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Haiku-commits] r21156 - in haiku/trunk/src:	add-ons/print/drivers/shared/libprint apps/cortex/RouteApp	apps/deskbar apps/deskcalc apps/expander apps/mail	apps/mediaplayer apps/networkstatus apps/people apps/poorman	apps/processcontroller apps/pulse apps/stylededit	apps/terminal apps/terminal/andrew apps/tv kits/interface	preferences/datatranslations preferences/devices	preferences/dun preferences/menu preferences/network
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/haiku-commits/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r21156%20-%20in%20haiku/trunk/src%3A%0A%09add-ons/print/drivers/shared/libprint%20apps/cortex/RouteApp%0A%09apps/deskbar%20apps/deskcalc%20apps/expander%20apps/mail%0A%09apps/mediaplayer%20apps/networkstatus%20apps/people%20apps/poorman%0A%09apps/processcontroller%20apps/pulse%20apps/stylededit%0A%09apps/terminal%20apps/terminal/andrew%20apps/tv%20kits/interface%0A%09preferences/datatranslations%20preferences/devices%0A%09preferences/dun%20preferences/menu%20preferences/network&In-Reply-To=%3C200705161634.l4GGYGcG001885%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002314.html">
   <LINK REL="Next"  HREF="002317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Haiku-commits] r21156 - in haiku/trunk/src:	add-ons/print/drivers/shared/libprint apps/cortex/RouteApp	apps/deskbar apps/deskcalc apps/expander apps/mail	apps/mediaplayer apps/networkstatus apps/people apps/poorman	apps/processcontroller apps/pulse apps/stylededit	apps/terminal apps/terminal/andrew apps/tv kits/interface	preferences/datatranslations preferences/devices	preferences/dun preferences/menu preferences/network</H1>
    <B>axeld at BerliOS</B> 
    <A HREF="mailto:haiku-commits%40lists.berlios.de?Subject=Re%3A%20%5BHaiku-commits%5D%20r21156%20-%20in%20haiku/trunk/src%3A%0A%09add-ons/print/drivers/shared/libprint%20apps/cortex/RouteApp%0A%09apps/deskbar%20apps/deskcalc%20apps/expander%20apps/mail%0A%09apps/mediaplayer%20apps/networkstatus%20apps/people%20apps/poorman%0A%09apps/processcontroller%20apps/pulse%20apps/stylededit%0A%09apps/terminal%20apps/terminal/andrew%20apps/tv%20kits/interface%0A%09preferences/datatranslations%20preferences/devices%0A%09preferences/dun%20preferences/menu%20preferences/network&In-Reply-To=%3C200705161634.l4GGYGcG001885%40sheep.berlios.de%3E"
       TITLE="[Haiku-commits] r21156 - in haiku/trunk/src:	add-ons/print/drivers/shared/libprint apps/cortex/RouteApp	apps/deskbar apps/deskcalc apps/expander apps/mail	apps/mediaplayer apps/networkstatus apps/people apps/poorman	apps/processcontroller apps/pulse apps/stylededit	apps/terminal apps/terminal/andrew apps/tv kits/interface	preferences/datatranslations preferences/devices	preferences/dun preferences/menu preferences/network">axeld at mail.berlios.de
       </A><BR>
    <I>Wed May 16 18:34:16 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002314.html">[Haiku-commits] r21155 - haiku/trunk/src/kits/interface
</A></li>
        <LI>Next message: <A HREF="002317.html">[Haiku-commits] r21156 - in haiku/trunk/src:	add-ons/print/drivers/shared/libprint apps/cortex/RouteApp	apps/deskbar apps/deskcalc apps/expander apps/mail	apps/mediaplayer apps/networkstatus apps/people apps/poorman	apps/processcontroller apps/pulse apps/stylededit	apps/terminal apps/terminal/andrew apps/tv kits/interface preferences/datatranslations preferences/devices	preferences/dun preferences/menu preferences/network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2315">[ date ]</a>
              <a href="thread.html#2315">[ thread ]</a>
              <a href="subject.html#2315">[ subject ]</a>
              <a href="author.html#2315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: axeld
Date: 2007-05-16 18:34:09 +0200 (Wed, 16 May 2007)
New Revision: 21156
ViewCVS: <A HREF="http://svn.berlios.de/viewcvs/haiku?rev=21156&amp;view=rev">http://svn.berlios.de/viewcvs/haiku?rev=21156&amp;view=rev</A>

Modified:
   haiku/trunk/src/add-ons/print/drivers/shared/libprint/JobSetupDlg.cpp
   haiku/trunk/src/apps/cortex/RouteApp/RouteWindow.cpp
   haiku/trunk/src/apps/deskbar/BeMenu.cpp
   haiku/trunk/src/apps/deskbar/StatusView.cpp
   haiku/trunk/src/apps/deskcalc/CalcView.cpp
   haiku/trunk/src/apps/expander/ExpanderWindow.cpp
   haiku/trunk/src/apps/mail/Mail.cpp
   haiku/trunk/src/apps/mediaplayer/MainWin.cpp
   haiku/trunk/src/apps/networkstatus/NetworkStatusView.cpp
   haiku/trunk/src/apps/people/PeopleWindow.cpp
   haiku/trunk/src/apps/poorman/constants.cpp
   haiku/trunk/src/apps/processcontroller/ProcessController.cpp
   haiku/trunk/src/apps/pulse/PulseView.cpp
   haiku/trunk/src/apps/stylededit/StyledEditWindow.cpp
   haiku/trunk/src/apps/terminal/PrefWindow.cpp
   haiku/trunk/src/apps/terminal/TermWindow.cpp
   haiku/trunk/src/apps/terminal/andrew/TerminalWindow.cpp
   haiku/trunk/src/apps/tv/MainWin.cpp
   haiku/trunk/src/kits/interface/Dragger.cpp
   haiku/trunk/src/preferences/datatranslations/DataTranslationsWindow.cpp
   haiku/trunk/src/preferences/devices/DevicesWindow.cpp
   haiku/trunk/src/preferences/dun/DUNWindow.cpp
   haiku/trunk/src/preferences/dun/DetailsView.cpp
   haiku/trunk/src/preferences/dun/ModemWindow.cpp
   haiku/trunk/src/preferences/dun/SettingsWindow.cpp
   haiku/trunk/src/preferences/menu/MenuBar.cpp
   haiku/trunk/src/preferences/network/NetworkWindow.cpp
Log:
* Applied patch by Jonas Sundstrom: fixed the usage of B_UTF8_ELLIPSIS hopefully
  everywhere in the tree.
* Added the ellipsis to &quot;About Haiku&quot; in Deskbar as well.
* Minor cleanup of Deskbar's StatusView.cpp


Modified: haiku/trunk/src/add-ons/print/drivers/shared/libprint/JobSetupDlg.cpp
===================================================================
--- haiku/trunk/src/add-ons/print/drivers/shared/libprint/JobSetupDlg.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/add-ons/print/drivers/shared/libprint/JobSetupDlg.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -718,7 +718,7 @@
 
 	/* preview */
 	
-	button = new BButton(preview_rect, &quot;preview&quot;, &quot;Preview ...&quot;, new BMessage(kMsgPreview));
+	button = new BButton(preview_rect, &quot;preview&quot;, &quot;Preview&quot; B_UTF8_ELLIPSIS, new BMessage(kMsgPreview));
 	AddChild(button);
 
 	

Modified: haiku/trunk/src/apps/cortex/RouteApp/RouteWindow.cpp
===================================================================
--- haiku/trunk/src/apps/cortex/RouteApp/RouteWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/cortex/RouteApp/RouteWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -74,20 +74,20 @@
 	BMenuBar* pMenuBar = new BMenuBar(b, &quot;menuBar&quot;);
 	BMenu* pFileMenu = new BMenu(&quot;File&quot;);
 	BMenuItem* item = new BMenuItem(
-		&quot;Open...&quot;,
+		&quot;Open&quot; B_UTF8_ELLIPSIS,
 		new BMessage(RouteApp::M_SHOW_OPEN_PANEL),
 		'O');
 	item-&gt;SetTarget(be_app);
 	pFileMenu-&gt;AddItem(item);
 	pFileMenu-&gt;AddItem(new BSeparatorItem());
 	item = new BMenuItem(
-		&quot;Save Nodes...&quot;,
+		&quot;Save Nodes&quot; B_UTF8_ELLIPSIS,
 		new BMessage(RouteApp::M_SHOW_SAVE_PANEL),
 		'S');
 	item-&gt;SetTarget(be_app);
 	pFileMenu-&gt;AddItem(item);
 	pFileMenu-&gt;AddItem(new BSeparatorItem());
-	pFileMenu-&gt;AddItem(new BMenuItem(&quot;About Cortex/Route...&quot;,
+	pFileMenu-&gt;AddItem(new BMenuItem(&quot;About Cortex/Route&quot; B_UTF8_ELLIPSIS,
 		new BMessage(B_ABOUT_REQUESTED)));
 	pFileMenu-&gt;AddItem(new BSeparatorItem());
 	pFileMenu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(B_QUIT_REQUESTED)));

Modified: haiku/trunk/src/apps/deskbar/BeMenu.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/BeMenu.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/deskbar/BeMenu.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -232,11 +232,13 @@
 	if (fBarView)
 		dragging = fBarView-&gt;Dragging();
 
+	BMenuItem* item = new BMenuItem(
 #ifdef __HAIKU__
-	BMenuItem* item = new BMenuItem(&quot;About Haiku&quot;, new BMessage(kShowSplash));
+		&quot;About Haiku&quot;
 #else
-	BMenuItem* item = new BMenuItem(&quot;About BeOS&quot;, new BMessage(kShowSplash));
+		&quot;About BeOS&quot;
 #endif
+		B_UTF8_ELLIPSIS, new BMessage(kShowSplash));
 	item-&gt;SetEnabled(!dragging);
 	AddItem(item);
 

Modified: haiku/trunk/src/apps/deskbar/StatusView.cpp
===================================================================
--- haiku/trunk/src/apps/deskbar/StatusView.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/deskbar/StatusView.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -88,7 +88,8 @@
 DumpItem(DeskbarItemInfo *item)
 {
 	printf(&quot;is addon: %i, id: %li\n&quot;, item-&gt;isAddOn, item-&gt;id);
-	printf(&quot;entry_ref:  %ld, %Ld, %s\n&quot;, item-&gt;entryRef.device, item-&gt;entryRef.directory, item-&gt;entryRef.name);
+	printf(&quot;entry_ref:  %ld, %Ld, %s\n&quot;, item-&gt;entryRef.device,
+		item-&gt;entryRef.directory, item-&gt;entryRef.name);
 	printf(&quot;node_ref:  %ld, %Ld\n&quot;, item-&gt;nodeRef.device, item-&gt;nodeRef.node);
 }
 
@@ -115,7 +116,7 @@
 // don't change the name of this view to anything other than &quot;Status&quot;!
 
 TReplicantTray::TReplicantTray(TBarView *parent, bool vertical)
-	:	BView(BRect(0, 0, 1, 1), &quot;Status&quot;, B_FOLLOW_LEFT | B_FOLLOW_TOP,
+	: BView(BRect(0, 0, 1, 1), &quot;Status&quot;, B_FOLLOW_LEFT | B_FOLLOW_TOP,
 			B_WILL_DRAW | B_FRAME_EVENTS),
 	fClock(NULL),
 	fBarView(parent),
@@ -137,8 +138,10 @@
 {
 	BView::AttachedToWindow();
 
-	SetViewColor(tint_color(ui_color(B_MENU_BACKGROUND_COLOR), B_DARKEN_1_TINT));
+	SetViewColor(tint_color(ui_color(B_MENU_BACKGROUND_COLOR),
+		B_DARKEN_1_TINT));
 	SetDrawingMode(B_OP_COPY);
+
 	Window()-&gt;SetPulseRate(1000000);
 	DealWithClock(fBarView-&gt;ShowingClock());
 
@@ -233,8 +236,9 @@
 		if (!fClock) {
 			desk_settings *settings = ((TBarApp *)be_app)-&gt;Settings();
 
-			fClock = new TTimeView(settings-&gt;timeShowSeconds, settings-&gt;timeShowMil,
-				settings-&gt;timeFullDate, settings-&gt;timeShowEuro, false);
+			fClock = new TTimeView(settings-&gt;timeShowSeconds,
+				settings-&gt;timeShowMil, settings-&gt;timeFullDate,
+				settings-&gt;timeShowEuro, false);
 			AddChild(fClock);
 
 			fClock-&gt;MoveTo(Bounds().right - fClock-&gt;Bounds().Width() - 1, 2);
@@ -252,12 +256,12 @@
 }
 
 
-/**	width is set to a minimum of kMinimumReplicantCount by kMaxReplicantWidth
- *	if not in multirowmode and greater than kMinimumReplicantCount
- *	the width should be calculated based on the actual
- *	replicant widths
- */
-
+/*!
+	Width is set to a minimum of kMinimumReplicantCount by kMaxReplicantWidth
+	if not in multirowmode and greater than kMinimumReplicantCount
+	the width should be calculated based on the actual
+	replicant widths
+*/
 void
 TReplicantTray::GetPreferredSize(float *preferredWidth, float *preferredHeight)
 {
@@ -281,7 +285,8 @@
 		if (fShelf-&gt;CountReplicants() &gt; 0) {
 			if (fBarView-&gt;ShowingClock()
 				&amp;&amp; fRightBottomReplicant.right + 6 &gt;= fClock-&gt;Frame().left) {
-				width = fRightBottomReplicant.right + 6 + fClock-&gt;Frame().Width();
+				width = fRightBottomReplicant.right + 6
+					+ fClock-&gt;Frame().Width();
 			} else 
 				width = fRightBottomReplicant.right + 3;
 		}
@@ -384,7 +389,7 @@
 
 	// If the clock is visible, show the extended menu
 	// otheriwse, show &quot;Show Time&quot;.
-	
+
 	if (fBarView-&gt;ShowingClock())
 		fClock-&gt;ShowClockOptions(ConvertToScreen(point));
 	else {
@@ -462,7 +467,8 @@
 		// two computers would have to have exactly matching clocks, and launch
 		// Deskbar at the exact same time into the bootsequence in order for their
 		// security-ID to be identical
-		fDeskbarSecurityCode = ((real&amp;0xffffffffULL)&lt;&lt;32)|(boot&amp;0xffffffffULL);
+		fDeskbarSecurityCode = ((real &amp; 0xffffffffULL) &lt;&lt; 32)
+			| (boot &amp; 0xffffffffULL);
 
     	if (find_directory (B_USER_SETTINGS_DIRECTORY, &amp;path, true) == B_OK) {
 			path.Append(kDeskbarSecurityCodeFile);
@@ -513,7 +519,8 @@
 	// newly mounted devices only - the Deskbar will automatically
 	// create an index for every device mounted at startup).
 	index_info info;
-	if (!volume-&gt;KnowsQuery() || fs_stat_index(volume-&gt;Device(),kStatusPredicate,&amp;info) != 0)
+	if (!volume-&gt;KnowsQuery()
+		|| fs_stat_index(volume-&gt;Device(), kStatusPredicate, &amp;info) != 0)
 		return;
 
 	// run a new query on a specific volume
@@ -540,7 +547,8 @@
 	BFile file(&amp;ref, B_READ_ONLY);
 
 	char status[64];
-	ssize_t size = file.ReadAttr(kStatusPredicate, B_STRING_TYPE, 0, &amp;status, 64);
+	ssize_t size = file.ReadAttr(kStatusPredicate, B_STRING_TYPE, 0, &amp;status,
+		sizeof(status));
 	return size &gt; 0;
 }
 
@@ -549,7 +557,7 @@
 TReplicantTray::DeskbarItemFor(node_ref &amp;nodeRef)
 {
 	for (int32 i = fItemList-&gt;CountItems(); i-- &gt; 0 ;) {
-		DeskbarItemInfo *item = static_cast&lt;DeskbarItemInfo *&gt;(fItemList-&gt;ItemAt(i));
+		DeskbarItemInfo *item = (DeskbarItemInfo *)fItemList-&gt;ItemAt(i);
 		if (item == NULL)
 			continue;
 
@@ -565,7 +573,7 @@
 TReplicantTray::DeskbarItemFor(int32 id)
 {
 	for (int32 i = fItemList-&gt;CountItems(); i-- &gt; 0 ;) {
-		DeskbarItemInfo *item = static_cast&lt;DeskbarItemInfo *&gt;(fItemList-&gt;ItemAt(i));
+		DeskbarItemInfo *item = (DeskbarItemInfo *)fItemList-&gt;ItemAt(i);
 		if (item == NULL)
 			continue;
 
@@ -584,10 +592,9 @@
 }
 
 
-/**	This handles B_NODE_MONITOR &amp; B_QUERY_UPDATE messages received
- *	for the registered add-ons.
- */
-
+/*!	This handles B_NODE_MONITOR &amp; B_QUERY_UPDATE messages received
+	for the registered add-ons.
+*/
 void
 TReplicantTray::HandleEntryUpdate(BMessage *message)
 {
@@ -598,82 +605,82 @@
 	BPath path;
 	switch (opcode) {
 		case B_ENTRY_CREATED:
+		{
 			// entry was just listed, matches live query
-			{
-				const char *name;
-				ino_t directory;
-				dev_t device;
-				// received when an app adds a ref to the
-				// Deskbar add-ons folder
-				if (message-&gt;FindString(&quot;name&quot;, &amp;name) == B_OK
-					&amp;&amp; message-&gt;FindInt64(&quot;directory&quot;, &amp;directory) == B_OK
-					&amp;&amp; message-&gt;FindInt32(&quot;device&quot;, &amp;device) == B_OK) {
-					entry_ref ref(device, directory, name);
-					// see if this item has the attribute
-					// that we expect
-					if (IsAddOn(ref)) {
-						int32 id;
-						BEntry entry(&amp;ref);					
-						LoadAddOn(&amp;entry, &amp;id);
-					}
+			const char *name;
+			ino_t directory;
+			dev_t device;
+			// received when an app adds a ref to the
+			// Deskbar add-ons folder
+			if (message-&gt;FindString(&quot;name&quot;, &amp;name) == B_OK
+				&amp;&amp; message-&gt;FindInt64(&quot;directory&quot;, &amp;directory) == B_OK
+				&amp;&amp; message-&gt;FindInt32(&quot;device&quot;, &amp;device) == B_OK) {
+				entry_ref ref(device, directory, name);
+				// see if this item has the attribute
+				// that we expect
+				if (IsAddOn(ref)) {
+					int32 id;
+					BEntry entry(&amp;ref);					
+					LoadAddOn(&amp;entry, &amp;id);
 				}
 			}
 			break;
+		}
 
 		case B_ATTR_CHANGED:
+		{
 			// from node watch on individual items
 			// (node_watch added in LoadAddOn)
-			{
-				node_ref nodeRef;
-				if (message-&gt;FindInt32(&quot;device&quot;, &amp;(nodeRef.device)) == B_OK
-					&amp;&amp; message-&gt;FindInt64(&quot;node&quot;, &amp;(nodeRef.node)) == B_OK) {
-					// get the add-on this is for
-					DeskbarItemInfo *item = DeskbarItemFor(nodeRef);
-					if (item == NULL)
-						break;
+			node_ref nodeRef;
+			if (message-&gt;FindInt32(&quot;device&quot;, &amp;(nodeRef.device)) == B_OK
+				&amp;&amp; message-&gt;FindInt64(&quot;node&quot;, &amp;(nodeRef.node)) == B_OK) {
+				// get the add-on this is for
+				DeskbarItemInfo *item = DeskbarItemFor(nodeRef);
+				if (item == NULL)
+					break;
 
-					BFile file(&amp;item-&gt;entryRef, B_READ_ONLY);
+				BFile file(&amp;item-&gt;entryRef, B_READ_ONLY);
 
-					char status[255];
-					ssize_t size = file.ReadAttr(kStatusPredicate,
-						B_STRING_TYPE, 0, status, sizeof(status) - 1);
-					status[sizeof(status) - 1] = '\0';
+				char status[255];
+				ssize_t size = file.ReadAttr(kStatusPredicate,
+					B_STRING_TYPE, 0, status, sizeof(status) - 1);
+				status[sizeof(status) - 1] = '\0';
 
-					// attribute was removed
-					if (size == B_ENTRY_NOT_FOUND) {
-						// cleans up and removes node_watch
-						UnloadAddOn(&amp;nodeRef, NULL, true, false);
-					} else if (!strcmp(status, &quot;enable&quot;)) {
-						int32 id;
-						BEntry entry(&amp;item-&gt;entryRef, true);
-						LoadAddOn(&amp;entry, &amp;id);
-					}
+				// attribute was removed
+				if (size == B_ENTRY_NOT_FOUND) {
+					// cleans up and removes node_watch
+					UnloadAddOn(&amp;nodeRef, NULL, true, false);
+				} else if (!strcmp(status, &quot;enable&quot;)) {
+					int32 id;
+					BEntry entry(&amp;item-&gt;entryRef, true);
+					LoadAddOn(&amp;entry, &amp;id);
 				}
 			}
 			break;
+		}
 
 		case B_ENTRY_MOVED:
-			{
-				entry_ref ref;
-				ino_t todirectory;
-				ino_t node;
-				const char *name;
-				if (message-&gt;FindString(&quot;name&quot;, &amp;name) == B_OK
-					&amp;&amp; message-&gt;FindInt64(&quot;from directory&quot;, &amp;(ref.directory)) == B_OK
-					&amp;&amp; message-&gt;FindInt64(&quot;to directory&quot;, &amp;todirectory) == B_OK
-					&amp;&amp; message-&gt;FindInt32(&quot;device&quot;, &amp;(ref.device)) == B_OK
-					&amp;&amp; message-&gt;FindInt64(&quot;node&quot;, &amp;node) == B_OK ) {
+		{
+			entry_ref ref;
+			ino_t todirectory;
+			ino_t node;
+			const char *name;
+			if (message-&gt;FindString(&quot;name&quot;, &amp;name) == B_OK
+				&amp;&amp; message-&gt;FindInt64(&quot;from directory&quot;, &amp;(ref.directory)) == B_OK
+				&amp;&amp; message-&gt;FindInt64(&quot;to directory&quot;, &amp;todirectory) == B_OK
+				&amp;&amp; message-&gt;FindInt32(&quot;device&quot;, &amp;(ref.device)) == B_OK
+				&amp;&amp; message-&gt;FindInt64(&quot;node&quot;, &amp;node) == B_OK ) {
 
-					if (!name)
-						break;
+				if (!name)
+					break;
 
-					ref.set_name(name);
-					// change the directory reference to
-					// the new directory
-					MoveItem(&amp;ref, todirectory);
-				}
+				ref.set_name(name);
+				// change the directory reference to
+				// the new directory
+				MoveItem(&amp;ref, todirectory);
 			}
 			break;
+		}
 
 		case B_ENTRY_REMOVED:
 		{
@@ -692,41 +699,42 @@
 
 				UnloadAddOn(&amp;nodeRef, NULL, true, false);
 			}
+			break;
 		}
-		break;
 
 		case B_DEVICE_MOUNTED:
-			{
-				// run a new query on the new device
-				dev_t device;
-				if (message-&gt;FindInt32(&quot;new device&quot;, &amp;device) != B_OK)
-					break;
+		{
+			// run a new query on the new device
+			dev_t device;
+			if (message-&gt;FindInt32(&quot;new device&quot;, &amp;device) != B_OK)
+				break;
 
-				RunAddOnQuery(new BVolume(device), kEnabledPredicate);
-			}
+			RunAddOnQuery(new BVolume(device), kEnabledPredicate);
 			break;
+		}
+
 		case B_DEVICE_UNMOUNTED:
-			{
-				// remove all items associated with the device
-				// unmounted
-				// contrary to what the BeBook says, the item is called &quot;device&quot;,
-				// not &quot;new device&quot; like it is for B_DEVICE_MOUNTED
-				dev_t device;
-				if (message-&gt;FindInt32(&quot;device&quot;, &amp;device) != B_OK)
-					break;
+		{
+			// remove all items associated with the device
+			// unmounted
+			// contrary to what the BeBook says, the item is called &quot;device&quot;,
+			// not &quot;new device&quot; like it is for B_DEVICE_MOUNTED
+			dev_t device;
+			if (message-&gt;FindInt32(&quot;device&quot;, &amp;device) != B_OK)
+				break;
 
-				UnloadAddOn(NULL, &amp;device, false, true);	
-			}
+			UnloadAddOn(NULL, &amp;device, false, true);	
 			break;
+		}
 	}	
 }
 
 
-/** The add-ons must support the exported C function API
- *	if they do, they will be loaded and added to deskbar
- *	primary function is the Instantiate function
- */
-
+/*!
+	The add-ons must support the exported C function API
+	if they do, they will be loaded and added to deskbar
+	primary function is the Instantiate function
+*/
 status_t
 TReplicantTray::LoadAddOn(BEntry *entry, int32 *id, bool force)
 {
@@ -746,21 +754,24 @@
 			return error;
 
 		uint64 deskbarID;
-		ssize_t size = node.ReadAttr(kDeskbarSecurityCodeAttr, B_UINT64_TYPE, 0,
-			&amp;deskbarID, sizeof(fDeskbarSecurityCode));
-		if (size != sizeof(fDeskbarSecurityCode) || deskbarID != fDeskbarSecurityCode) {
+		ssize_t size = node.ReadAttr(kDeskbarSecurityCodeAttr, B_UINT64_TYPE,
+			0, &amp;deskbarID, sizeof(fDeskbarSecurityCode));
+		if (size != sizeof(fDeskbarSecurityCode)
+			|| deskbarID != fDeskbarSecurityCode) {
 			// no code or code doesn't match
 			return B_ERROR;
 		}
 	}
 
 	BPath path;
-	entry-&gt;GetPath(&amp;path);
+	status_t status = entry-&gt;GetPath(&amp;path);
+	if (status &lt; B_OK)
+		return status;
 
 	// load the add-on
 	image_id image = load_add_on(path.Path());
-	if (image &lt; 0)
-		return (status_t)image;
+	if (image &lt; B_OK)
+		return image;
 
 	// get the view loading function symbol		
 	//    we first look for a symbol that takes an image_id
@@ -774,19 +785,17 @@
 	entry-&gt;GetRef(&amp;ref);
 
 	if (get_image_symbol(image, kInstantiateEntryCFunctionName,
-		B_SYMBOL_TYPE_TEXT, (void **)&amp;entryFunction) &gt;= 0) {
-
+			B_SYMBOL_TYPE_TEXT, (void **)&amp;entryFunction) &gt;= B_OK) {
 		view = (*entryFunction)(image, &amp;ref);
 	} else if (get_image_symbol(image, kInstantiateItemCFunctionName,
-		B_SYMBOL_TYPE_TEXT, (void **)&amp;itemFunction) &gt;= 0) {
-
+			B_SYMBOL_TYPE_TEXT, (void **)&amp;itemFunction) &gt;= B_OK) {
 		view = (*itemFunction)();
 	} else {
 		unload_add_on(image);
 		return B_ERROR;
 	}
 
-	if (!view || IconExists(view-&gt;Name())) {
+	if (view == NULL || IconExists(view-&gt;Name())) {
 		delete view;
 		unload_add_on(image);
 		return B_ERROR;

Modified: haiku/trunk/src/apps/deskcalc/CalcView.cpp
===================================================================
--- haiku/trunk/src/apps/deskcalc/CalcView.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/deskcalc/CalcView.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -995,9 +995,9 @@
 CalcView::_CreatePopUpMenu()
 {
 	// construct items
-	fAboutItem = new BMenuItem(&quot;About Calculator...&quot;,
+	fAboutItem = new BMenuItem(&quot;About Calculator&quot; B_UTF8_ELLIPSIS,
 		new BMessage(B_ABOUT_REQUESTED));
-	fOptionsItem = new BMenuItem(&quot;Options...&quot;,
+	fOptionsItem = new BMenuItem(&quot;Options&quot; B_UTF8_ELLIPSIS,
 		new BMessage(K_OPTIONS_REQUESTED));
 
 	// construct menu

Modified: haiku/trunk/src/apps/expander/ExpanderWindow.cpp
===================================================================
--- haiku/trunk/src/apps/expander/ExpanderWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/expander/ExpanderWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -52,11 +52,11 @@
 	fBar = new BMenuBar(BRect(0, 0, Bounds().right, 20), &quot;menu_bar&quot;);
 	BMenu *menu = new BMenu(&quot;File&quot;);
 	BMenuItem *item;
-	menu-&gt;AddItem(item = new BMenuItem(&quot;About Expander...&quot;, new BMessage(B_ABOUT_REQUESTED)));
+	menu-&gt;AddItem(item = new BMenuItem(&quot;About Expander&quot; B_UTF8_ELLIPSIS, new BMessage(B_ABOUT_REQUESTED)));
 	item-&gt;SetTarget(be_app_messenger);
 	menu-&gt;AddSeparatorItem();
-	menu-&gt;AddItem(fSourceItem = new BMenuItem(&quot;Set Source...&quot;, new BMessage(MSG_SOURCE), 'O'));
-	menu-&gt;AddItem(fDestItem = new BMenuItem(&quot;Set Destination...&quot;, new BMessage(MSG_DEST), 'D'));
+	menu-&gt;AddItem(fSourceItem = new BMenuItem(&quot;Set Source&quot; B_UTF8_ELLIPSIS, new BMessage(MSG_SOURCE), 'O'));
+	menu-&gt;AddItem(fDestItem = new BMenuItem(&quot;Set Destination&quot; B_UTF8_ELLIPSIS, new BMessage(MSG_DEST), 'D'));
 	menu-&gt;AddSeparatorItem();
 	menu-&gt;AddItem(fExpandItem = new BMenuItem(&quot;Expand&quot;, new BMessage(MSG_EXPAND), 'E'));
 	fExpandItem-&gt;SetEnabled(false);
@@ -70,7 +70,7 @@
 	fBar-&gt;AddItem(menu);
 
 	menu = new BMenu(&quot;Edit&quot;);
-	menu-&gt;AddItem(fPreferencesItem = new BMenuItem(&quot;Preferences...&quot;,
+	menu-&gt;AddItem(fPreferencesItem = new BMenuItem(&quot;Preferences&quot; B_UTF8_ELLIPSIS,
 		new BMessage(MSG_PREFERENCES), 'P'));
 	fBar-&gt;AddItem(menu);
 	AddChild(fBar);

Modified: haiku/trunk/src/apps/mail/Mail.cpp
===================================================================
--- haiku/trunk/src/apps/mail/Mail.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/mail/Mail.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -1378,7 +1378,7 @@
 	
 	menu-&gt;AddSeparatorItem();
 	menu-&gt;AddItem(item = new BMenuItem(
-		MDR_DIALECT_CHOICE (&quot;About&quot;, &quot;A) Mail&#12395;&#12388;&#12356;&#12390;&quot;) B_UTF8_ELLIPSIS,
+		MDR_DIALECT_CHOICE (&quot;About Mail&quot;, &quot;A) Mail&#12395;&#12388;&#12356;&#12390;&quot;) B_UTF8_ELLIPSIS,
 		new BMessage(B_ABOUT_REQUESTED)));
 	item-&gt;SetTarget(be_app);
 	

Modified: haiku/trunk/src/apps/mediaplayer/MainWin.cpp
===================================================================
--- haiku/trunk/src/apps/mediaplayer/MainWin.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/mediaplayer/MainWin.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -274,7 +274,7 @@
 	fFileMenu-&gt;AddItem(new BMenuItem(&quot;Open File&quot;B_UTF8_ELLIPSIS, new BMessage(M_FILE_OPEN), 'O', B_COMMAND_KEY));
 	fFileMenu-&gt;AddItem(new BMenuItem(&quot;File Info&quot;B_UTF8_ELLIPSIS, new BMessage(M_FILE_INFO), 'I', B_COMMAND_KEY));
 	fFileMenu-&gt;AddSeparatorItem();
-	fFileMenu-&gt;AddItem(new BMenuItem(&quot;About&quot;, new BMessage(M_FILE_ABOUT), 'A', B_COMMAND_KEY));
+	fFileMenu-&gt;AddItem(new BMenuItem(&quot;About&quot; NAME B_UTF8_ELLIPSIS, new BMessage(M_FILE_ABOUT)));
 	fFileMenu-&gt;AddSeparatorItem();
 	fFileMenu-&gt;AddItem(new BMenuItem(&quot;Close&quot;, new BMessage(M_FILE_CLOSE), 'W', B_COMMAND_KEY));
 	fFileMenu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(M_FILE_QUIT), 'Q', B_COMMAND_KEY));
@@ -480,7 +480,7 @@
 	menu-&gt;AddItem(item = new BMenuItem(&quot;Keep Aspect Ratio&quot;, new BMessage(M_TOGGLE_KEEP_ASPECT_RATIO), 'K', B_COMMAND_KEY));
 	item-&gt;SetMarked(fKeepAspectRatio);
 	menu-&gt;AddSeparatorItem();
-	menu-&gt;AddItem(new BMenuItem(&quot;About&quot;, new BMessage(M_FILE_ABOUT), 'A', B_COMMAND_KEY));
+	menu-&gt;AddItem(new BMenuItem(&quot;About&quot; NAME B_UTF8_ELLIPSIS, new BMessage(M_FILE_ABOUT)));
 	menu-&gt;AddSeparatorItem();
 	menu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(M_FILE_QUIT), 'Q', B_COMMAND_KEY));
 

Modified: haiku/trunk/src/apps/networkstatus/NetworkStatusView.cpp
===================================================================
--- haiku/trunk/src/apps/networkstatus/NetworkStatusView.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/networkstatus/NetworkStatusView.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -352,7 +352,7 @@
 	}
 
 	menu-&gt;AddSeparatorItem();
-	menu-&gt;AddItem(new BMenuItem(&quot;About&quot; B_UTF8_ELLIPSIS,
+	menu-&gt;AddItem(new BMenuItem(&quot;About NetworkStatus&quot; B_UTF8_ELLIPSIS,
 		new BMessage(B_ABOUT_REQUESTED)));
 	if (fInDeskbar)
 		menu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(B_QUIT_REQUESTED)));
@@ -472,6 +472,7 @@
 extern &quot;C&quot; _EXPORT BView *
 instantiate_deskbar_item(void)
 {
-	return new NetworkStatusView(BRect(0, 0, 15, 15), B_FOLLOW_NONE, true);
+	return new NetworkStatusView(BRect(0, 0, 15, 15),
+		B_FOLLOW_LEFT | B_FOLLOW_TOP, true);
 }
 

Modified: haiku/trunk/src/apps/people/PeopleWindow.cpp
===================================================================
--- haiku/trunk/src/apps/people/PeopleWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/people/PeopleWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -38,7 +38,7 @@
 	BRect rect(0, 0, 32767, 15);
 	BMenuBar* menuBar = new BMenuBar(rect, &quot;&quot;);
 	menu = new BMenu(&quot;File&quot;);
-	menu-&gt;AddItem(item = new BMenuItem(&quot;New Person&quot;, new BMessage(M_NEW), 'N'));
+	menu-&gt;AddItem(item = new BMenuItem(&quot;New Person&quot; B_UTF8_ELLIPSIS, new BMessage(M_NEW), 'N'));
 	item-&gt;SetTarget(NULL, be_app);
 	menu-&gt;AddItem(new BMenuItem(&quot;Close&quot;, new BMessage(B_CLOSE_REQUESTED), 'W'));
 	menu-&gt;AddSeparatorItem();

Modified: haiku/trunk/src/apps/poorman/constants.cpp
===================================================================
--- haiku/trunk/src/apps/poorman/constants.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/poorman/constants.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -18,11 +18,11 @@
 extern const char* STR_MNU_FILE
 	= &quot;File&quot;;
 extern const char* STR_MNU_FILE_SAVE_AS
-	= &quot;Save Console As...&quot;;
+	= &quot;Save Console As&quot; B_UTF8_ELLIPSIS;
 extern const char* STR_MNU_FILE_SAVE_SELECTION
-	= &quot;Save Console Selections As...&quot;;
+	= &quot;Save Console Selections As&quot; B_UTF8_ELLIPSIS;
 extern const char* STR_MNU_FILE_ABOUT
-	= &quot;About PoorMan&quot;;
+	= &quot;About PoorMan&quot; B_UTF8_ELLIPSIS;
 extern const char* STR_MNU_FILE_QUIT
 	= &quot;Quit&quot;;
 extern const char* STR_MNU_EDIT
@@ -32,7 +32,7 @@
 extern const char* STR_MNU_EDIT_SELECT_ALL
 	= &quot;Select All&quot;;
 extern const char* STR_MNU_EDIT_PREF
-	= &quot;Preferences...&quot;;
+	= &quot;Preferences&quot; B_UTF8_ELLIPSIS;
 extern const char* STR_MNU_CTRL
 	= &quot;Controls&quot;;
 extern const char* STR_MNU_CTRL_RUN_SERVER

Modified: haiku/trunk/src/apps/processcontroller/ProcessController.cpp
===================================================================
--- haiku/trunk/src/apps/processcontroller/ProcessController.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/processcontroller/ProcessController.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -773,7 +773,7 @@
 
 	addtopbottom(new BSeparatorItem ());
 
-	item = new IconMenuItem(gPCView-&gt;fProcessControllerIcon, &quot;About ProcessController&quot;,
+	item = new IconMenuItem(gPCView-&gt;fProcessControllerIcon, &quot;About ProcessController&quot; B_UTF8_ELLIPSIS,
 		new BMessage(B_ABOUT_REQUESTED));
 	item-&gt;SetTarget(gPCView);
 	addtopbottom(item);

Modified: haiku/trunk/src/apps/pulse/PulseView.cpp
===================================================================
--- haiku/trunk/src/apps/pulse/PulseView.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/pulse/PulseView.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -44,8 +44,8 @@
 	popupmenu-&gt;SetFont(be_plain_font);
 	mode1 = new BMenuItem(&quot;&quot;, NULL, 0, 0);
 	mode2 = new BMenuItem(&quot;&quot;, NULL, 0, 0);
-	preferences = new BMenuItem(&quot;Preferences...&quot;, new BMessage(PV_PREFERENCES), 0, 0);
-	about = new BMenuItem(&quot;About...&quot;, new BMessage(PV_ABOUT), 0, 0);
+	preferences = new BMenuItem(&quot;Preferences&quot; B_UTF8_ELLIPSIS, new BMessage(PV_PREFERENCES), 0, 0);
+	about = new BMenuItem(&quot;About Pulse&quot; B_UTF8_ELLIPSIS, new BMessage(PV_ABOUT), 0, 0);
 	
 	popupmenu-&gt;AddItem(mode1);
 	popupmenu-&gt;AddItem(mode2);

Modified: haiku/trunk/src/apps/stylededit/StyledEditWindow.cpp
===================================================================
--- haiku/trunk/src/apps/stylededit/StyledEditWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/stylededit/StyledEditWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -129,7 +129,7 @@
 	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;New&quot;, new BMessage(MENU_NEW), 'N'));
 	menuItem-&gt;SetTarget(be_app);
 	
-	menu-&gt;AddItem(menuItem = new BMenuItem(fRecentMenu = new BMenu(&quot;Open...&quot;),
+	menu-&gt;AddItem(menuItem = new BMenuItem(fRecentMenu = new BMenu(&quot;Open&quot; B_UTF8_ELLIPSIS),
 		new BMessage(MENU_OPEN)));
 	menuItem-&gt;SetShortcut('O', 0);
 	menuItem-&gt;SetTarget(be_app);
@@ -137,18 +137,18 @@
 
 	menu-&gt;AddItem(fSaveItem = new BMenuItem(&quot;Save&quot;, new BMessage(MENU_SAVE), 'S')); 
 	fSaveItem-&gt;SetEnabled(false); 
-	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Save As...&quot;, new BMessage(MENU_SAVEAS)));
+	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Save As&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_SAVEAS)));
 	menuItem-&gt;SetShortcut('S',B_SHIFT_KEY);
 	menuItem-&gt;SetEnabled(true);
 
-	menu-&gt;AddItem(fRevertItem = new BMenuItem(&quot;Revert to Saved...&quot;,
+	menu-&gt;AddItem(fRevertItem = new BMenuItem(&quot;Revert to Saved&quot; B_UTF8_ELLIPSIS,
 		new BMessage(MENU_REVERT))); 
 	fRevertItem-&gt;SetEnabled(false);
 	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Close&quot;, new BMessage(MENU_CLOSE), 'W'));
 
 	menu-&gt;AddSeparatorItem();
-	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Page Setup...&quot;, new BMessage(MENU_PAGESETUP)));
-	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Print...&quot;, new BMessage(MENU_PRINT), 'P'));
+	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Page Setup&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_PAGESETUP)));
+	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Print&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_PRINT), 'P'));
 
 	menu-&gt;AddSeparatorItem();
 	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Quit&quot;, new BMessage(MENU_QUIT), 'Q'));
@@ -180,12 +180,12 @@
 	menuItem-&gt;SetTarget(fTextView);
 
 	menu-&gt;AddSeparatorItem();
-	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Find...&quot;, new BMessage(MENU_FIND),'F'));
+	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Find&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_FIND),'F'));
 	menu-&gt;AddItem(fFindAgainItem= new BMenuItem(&quot;Find Again&quot;,new BMessage(MENU_FIND_AGAIN),'G'));
 	fFindAgainItem-&gt;SetEnabled(false);
 
 	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Find Selection&quot;, new BMessage(MENU_FIND_SELECTION),'H'));
-	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Replace...&quot;, new BMessage(MENU_REPLACE),'R'));
+	menu-&gt;AddItem(menuItem = new BMenuItem(&quot;Replace&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_REPLACE),'R'));
 	menu-&gt;AddItem(fReplaceSameItem = new BMenuItem(&quot;Replace Same&quot;, new BMessage(MENU_REPLACE_SAME),'T'));
 	fReplaceSameItem-&gt;SetEnabled(false);
 

Modified: haiku/trunk/src/apps/terminal/PrefWindow.cpp
===================================================================
--- haiku/trunk/src/apps/terminal/PrefWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/terminal/PrefWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -48,7 +48,7 @@
 		fPrefDlgMessenger);
 	top-&gt;AddChild(prefView);
 	
-	fSaveAsFileButton = new BButton(BRect(0, 0, 1, 1), &quot;savebutton&quot;, &quot;Save to File&quot;, 
+	fSaveAsFileButton = new BButton(BRect(0, 0, 1, 1), &quot;savebutton&quot;, &quot;Save to File&quot; B_UTF8_ELLIPSIS, 
 		new BMessage(MSG_SAVEAS_PRESSED), B_FOLLOW_TOP, B_WILL_DRAW);
 	fSaveAsFileButton-&gt;ResizeToPreferred();
 	fSaveAsFileButton-&gt;MoveTo(5, top-&gt;Bounds().Height() - 5 - 

Modified: haiku/trunk/src/apps/terminal/TermWindow.cpp
===================================================================
--- haiku/trunk/src/apps/terminal/TermWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/terminal/TermWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -221,12 +221,12 @@
 	// Make File Menu.
 	fFilemenu = new BMenu(&quot;Terminal&quot;);
 	fFilemenu-&gt;AddItem(new BMenuItem(&quot;Switch Terminals&quot;, new BMessage(MENU_SWITCH_TERM),'G'));
-	fFilemenu-&gt;AddItem(new BMenuItem(&quot;Start New Terminal&quot;, new BMessage(MENU_NEW_TERM), 'N'));
+	fFilemenu-&gt;AddItem(new BMenuItem(&quot;New Terminal&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_NEW_TERM), 'N'));
 	fFilemenu-&gt;AddSeparatorItem();
 	fFilemenu-&gt;AddItem(new BMenuItem(&quot;Page Setup...&quot;, new BMessage(MENU_PAGE_SETUP)));
 	fFilemenu-&gt;AddItem(new BMenuItem(&quot;Print&quot;, new BMessage(MENU_PRINT),'P'));
 	fFilemenu-&gt;AddSeparatorItem();
-	fFilemenu-&gt;AddItem(new BMenuItem(&quot;About Terminal...&quot;, new BMessage(B_ABOUT_REQUESTED)));
+	fFilemenu-&gt;AddItem(new BMenuItem(&quot;About Terminal&quot; B_UTF8_ELLIPSIS, new BMessage(B_ABOUT_REQUESTED)));
 	fFilemenu-&gt;AddSeparatorItem();
 	fFilemenu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(B_QUIT_REQUESTED), 'Q'));
 	fMenubar-&gt;AddItem(fFilemenu);
@@ -239,7 +239,7 @@
 	fEditmenu-&gt;AddItem (new BMenuItem (&quot;Select All&quot;, new BMessage (B_SELECT_ALL), 'A'));
 	fEditmenu-&gt;AddItem (new BMenuItem (&quot;Clear All&quot;, new BMessage (MENU_CLEAR_ALL), 'L'));
 	fEditmenu-&gt;AddSeparatorItem ();
-	fEditmenu-&gt;AddItem (new BMenuItem (&quot;Find&quot;, new BMessage (MENU_FIND_STRING),'F'));
+	fEditmenu-&gt;AddItem (new BMenuItem (&quot;Find&quot; B_UTF8_ELLIPSIS, new BMessage (MENU_FIND_STRING),'F'));
 	fFindBackwardMenuItem = new BMenuItem (&quot;Find Backward&quot;, new BMessage (MENU_FIND_BACKWARD), '[');
 	fEditmenu-&gt;AddItem (fFindBackwardMenuItem);
 	fFindBackwardMenuItem-&gt;SetEnabled(false);
@@ -282,7 +282,7 @@
 	fHelpmenu-&gt;AddItem(fEncodingmenu);
 //  fHelpmenu-&gt;AddItem(fNewFontMenu);
 	fHelpmenu-&gt;AddSeparatorItem();
-	fHelpmenu-&gt;AddItem(new BMenuItem(&quot;Preferences&quot;, new BMessage(MENU_PREF_OPEN)));
+	fHelpmenu-&gt;AddItem(new BMenuItem(&quot;Preferences&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_PREF_OPEN)));
 	fHelpmenu-&gt;AddSeparatorItem();
 	fHelpmenu-&gt;AddItem(new BMenuItem(&quot;Save as default&quot;, new BMessage(SAVE_AS_DEFAULT))); 
 	fMenubar-&gt;AddItem(fHelpmenu);

Modified: haiku/trunk/src/apps/terminal/andrew/TerminalWindow.cpp
===================================================================
--- haiku/trunk/src/apps/terminal/andrew/TerminalWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/terminal/andrew/TerminalWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -126,10 +126,10 @@
 	fTerminal-&gt;AddItem(fSwitchTerminals);
 	fSwitchTerminals-&gt;SetTrigger('T');
 	
-	fStartNewTerminal = new BMenuItem(&quot;Start New Terminal&quot;, new BMessage(TERMINAL_START_NEW_TERMINAL), 'N');
+	fStartNewTerminal = new BMenuItem(&quot;New Terminal&quot; B_UTF8_ELLIPSIS, new BMessage(TERMINAL_START_NEW_TERMINAL), 'N');
 	fTerminal-&gt;AddItem(fStartNewTerminal);
 	
-	fLogToFile = new BMenuItem(&quot;Log to File...&quot;, new BMessage(TERMINAL_LOG_TO_FILE));
+	fLogToFile = new BMenuItem(&quot;Log to File&quot; B_UTF8_ELLIPSIS, new BMessage(TERMINAL_LOG_TO_FILE));
 	fTerminal-&gt;AddItem(fLogToFile);
 	
 	// Edit menu
@@ -148,7 +148,7 @@
 	fSelectAll = new BMenuItem(&quot;Select All&quot;, new BMessage(B_SELECT_ALL), 'A');
 	fEdit-&gt;AddItem(fSelectAll);
 	
-	fWriteSelection = new BMenuItem(&quot;Write Selection...&quot;, new BMessage(EDIT_WRITE_SELECTION));
+	fWriteSelection = new BMenuItem(&quot;Write Selection&quot; B_UTF8_ELLIPSIS, new BMessage(EDIT_WRITE_SELECTION));
 	fEdit-&gt;AddItem(fWriteSelection);
 	
 	fClearAll = new BMenuItem(&quot;Clear All&quot;, new BMessage(EDIT_CLEAR_ALL), 'L');
@@ -156,7 +156,7 @@
 
 	fEdit-&gt;AddSeparatorItem();
 	
-	fFind = new BMenuItem(&quot;Find...&quot;, new BMessage(EDIT_FIND),'F');
+	fFind = new BMenuItem(&quot;Find&quot; B_UTF8_ELLIPSIS, new BMessage(EDIT_FIND),'F');
 	fEdit-&gt;AddItem(fFind);
 	
 	fFindBackward = new BMenuItem(&quot;Find Backward&quot;,new BMessage(EDIT_FIND_BACKWARD),'[');

Modified: haiku/trunk/src/apps/tv/MainWin.cpp
===================================================================
--- haiku/trunk/src/apps/tv/MainWin.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/apps/tv/MainWin.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -158,7 +158,7 @@
 	fMenuBar-&gt;AddItem(fSettingsMenu);
 	fMenuBar-&gt;AddItem(fDebugMenu);
 	
-	fFileMenu-&gt;AddItem(new BMenuItem(&quot;About&quot;, new BMessage(M_FILE_ABOUT), 'A', B_COMMAND_KEY));
+	fFileMenu-&gt;AddItem(new BMenuItem(&quot;About &quot; NAME B_UTF8_ELLIPSIS, new BMessage(M_FILE_ABOUT)));
 	fFileMenu-&gt;AddSeparatorItem();
 	fFileMenu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(M_FILE_QUIT), 'Q', B_COMMAND_KEY));
 
@@ -488,7 +488,7 @@
 	menu-&gt;AddItem(item = new BMenuItem(&quot;Keep Aspect Ratio&quot;, new BMessage(M_TOGGLE_KEEP_ASPECT_RATIO), 'K', B_COMMAND_KEY));
 	item-&gt;SetMarked(fKeepAspectRatio);
 	menu-&gt;AddSeparatorItem();
-	menu-&gt;AddItem(new BMenuItem(&quot;About&quot;, new BMessage(M_FILE_ABOUT), 'A', B_COMMAND_KEY));
+	menu-&gt;AddItem(new BMenuItem(&quot;About &quot; NAME B_UTF8_ELLIPSIS, new BMessage(M_FILE_ABOUT)));
 	menu-&gt;AddSeparatorItem();
 	menu-&gt;AddItem(new BMenuItem(&quot;Quit&quot;, new BMessage(M_FILE_QUIT), 'Q', B_COMMAND_KEY));
 

Modified: haiku/trunk/src/kits/interface/Dragger.cpp
===================================================================
--- haiku/trunk/src/kits/interface/Dragger.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/kits/interface/Dragger.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -593,7 +593,7 @@
 		msg-&gt;AddString(&quot;target&quot;, name);
 
 	char about[B_OS_NAME_LENGTH];
-	snprintf(about, B_OS_NAME_LENGTH, &quot;About %s&quot;, name);
+	snprintf(about, B_OS_NAME_LENGTH, &quot;About %s&quot; B_UTF8_ELLIPSIS, name);
 	
 	fPopUp-&gt;AddItem(new BMenuItem(about, msg));
 	fPopUp-&gt;AddSeparatorItem();

Modified: haiku/trunk/src/preferences/datatranslations/DataTranslationsWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/datatranslations/DataTranslationsWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/datatranslations/DataTranslationsWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -211,7 +211,7 @@
 
 	// Add the translator info button
 	BRect infoRect(0, 0, 80, 20);
-	BButton *button = new BButton(infoRect, &quot;STD&quot;, &quot;Info...&quot;,
+	BButton *button = new BButton(infoRect, &quot;STD&quot;, &quot;Info&quot; B_UTF8_ELLIPSIS,
 		new BMessage(kMsgTranslatorInfo), B_FOLLOW_BOTTOM | B_FOLLOW_RIGHT,
 		B_WILL_DRAW | B_FRAME_EVENTS | B_NAVIGABLE);
 	button-&gt;ResizeToPreferred();

Modified: haiku/trunk/src/preferences/devices/DevicesWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/devices/DevicesWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/devices/DevicesWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -153,8 +153,8 @@
 	menubar-&gt;AddItem(menu);
 	
 	BMenu *jumperedDevicesMenu = new BMenu(&quot;New Jumpered Device&quot;);
-	jumperedDevicesMenu-&gt;AddItem(new BMenuItem(&quot;Custom ...&quot;, new BMessage(MENU_DEVICES_NEW_JUMPERED_DEVICE_CUSTOM), 0));
-	jumperedDevicesMenu-&gt;AddItem(new BMenuItem(&quot;Modem ...&quot;, new BMessage(MENU_DEVICES_NEW_JUMPERED_DEVICE_MODEM), 0));
+	jumperedDevicesMenu-&gt;AddItem(new BMenuItem(&quot;Custom&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_DEVICES_NEW_JUMPERED_DEVICE_CUSTOM), 0));
+	jumperedDevicesMenu-&gt;AddItem(new BMenuItem(&quot;Modem&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_DEVICES_NEW_JUMPERED_DEVICE_MODEM), 0));
 	
 	//DevicesMenu-&gt;AddItem(new BMenuItem(&quot;New Jumpered Device&quot;, new BMessage(MENU_DEVICES_NEW_JUMPERED_DEVICE), NULL));
 	menu-&gt;AddItem(jumperedDevicesMenu);

Modified: haiku/trunk/src/preferences/dun/DUNWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/dun/DUNWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/dun/DUNWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -58,7 +58,7 @@
    float ButtonWidth = 24;
    
    BRect btn1(10,ButtonTop,83,ButtonTop+ButtonWidth);
-   modembutton = new BButton(btn1,&quot;Modem&quot;,&quot;Modem...&quot;, new BMessage(BTN_MODEM), B_FOLLOW_BOTTOM, B_WILL_DRAW | B_NAVIGABLE);
+   modembutton = new BButton(btn1,&quot;Modem&quot;,&quot;Modem&quot; B_UTF8_ELLIPSIS, new BMessage(BTN_MODEM), B_FOLLOW_BOTTOM, B_WILL_DRAW | B_NAVIGABLE);
    BRect btn2(143,ButtonTop,218,ButtonTop+ButtonWidth);
    disconnectbutton = new BButton(btn2,&quot;Disconnect&quot;,&quot;Disconnect&quot;, new BMessage(BTN_DISCONNECT), B_FOLLOW_BOTTOM, B_WILL_DRAW | B_NAVIGABLE);
    BRect btn3(230,ButtonTop,302,ButtonTop+ButtonWidth);
@@ -82,7 +82,7 @@
    conmenufield = new BMenu(&quot;Click to add&quot;);
    //conmenufield = new BPopUpMenu(&quot;Click to add&quot;);
    conmenufield-&gt;AddSeparatorItem();
-   conmenufield-&gt;AddItem(menuconnew = new BMenuItem(&quot;New...&quot;, new BMessage(MENU_CON_NEW)));
+   conmenufield-&gt;AddItem(menuconnew = new BMenuItem(&quot;New&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_CON_NEW)));
    //menuconnew-&gt;SetTarget(be_app);
    conmenufield-&gt;AddItem(menucondelete = new BMenuItem(&quot;Delete Current&quot;, new BMessage(MENU_CON_DELETE_CURRENT)));
    menucondelete-&gt;SetEnabled(false);
@@ -114,7 +114,7 @@
    //menulocwork-&gt;SetTarget(be_app);
    locmenufield-&gt;AddSeparatorItem();
    
-   locmenufield-&gt;AddItem(menulocnew = new BMenuItem(&quot;New...&quot;, new BMessage(MENU_LOC_NEW)));
+   locmenufield-&gt;AddItem(menulocnew = new BMenuItem(&quot;New&quot; B_UTF8_ELLIPSIS, new BMessage(MENU_LOC_NEW)));
    //menulocnew-&gt;SetTarget(be_app);
    
    locmenufield-&gt;AddItem(menulocdelete = new BMenuItem(&quot;Delete Current&quot;, new BMessage(MENU_LOC_DELETE_CURRENT)));

Modified: haiku/trunk/src/preferences/dun/DetailsView.cpp
===================================================================
--- haiku/trunk/src/preferences/dun/DetailsView.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/dun/DetailsView.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -55,7 +55,7 @@
 	btnr.top = btnr.bottom - 24;
 	btnr.left = btnr.right - 70;
    
-	settingsbtn = new BButton(btnr,&quot;Settings...&quot;,&quot;Settings...&quot;, new BMessage(BTN_SETTINGS), B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
+	settingsbtn = new BButton(btnr,&quot;Settings&quot;,&quot;Settings&quot; B_UTF8_ELLIPSIS&quot;, new BMessage(BTN_SETTINGS), B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
 	AddChild(settingsbtn);
 }
 void DetailsView::MessageReceived(BMessage* msg)

Modified: haiku/trunk/src/preferences/dun/ModemWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/dun/ModemWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/dun/ModemWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -50,7 +50,7 @@
     BRect btn1(10,r.bottom - 34,83,r.bottom - 16);
     BRect btn2(108,r.bottom - 34,184,r.bottom - 16);
     BRect btn3(196,r.bottom - 34,271,r.bottom - 16);
-    btnModemWindowCustom = new BButton(btn1,&quot;Custom&quot;,&quot;  Custom ...  &quot;, new BMessage(BTN_MODEM_WINDOW_CUSTOM), B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
+    btnModemWindowCustom = new BButton(btn1,&quot;Custom&quot;,&quot;  Custom&quot; B_UTF8_ELLIPSIS &quot;  &quot;, new BMessage(BTN_MODEM_WINDOW_CUSTOM), B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
     btnModemWindowCancel = new BButton(btn2,&quot;Cancel&quot;,&quot;  Cancel  &quot;, new BMessage(BTN_MODEM_WINDOW_CANCEL), B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
     btnModemWindowDone = new BButton(btn3,&quot;Done&quot;,&quot;  Done  &quot;, new BMessage(BTN_MODEM_WINDOW_DONE), B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
    
@@ -59,7 +59,7 @@
     BMenuItem *menu[100];
     YourModemIsMenu = new BMenu(&quot;&lt;Pick One&gt;                                 &quot;);
     YourModemIsMenu-&gt;AddSeparatorItem();
-    YourModemIsMenu-&gt;AddItem(menu[1] = new BMenuItem(&quot;New...&quot;, new BMessage(MENU)));
+    YourModemIsMenu-&gt;AddItem(menu[1] = new BMenuItem(&quot;New&quot; B_UTF8_ELLIPSIS, new BMessage(MENU)));
     menu[1]-&gt;SetTarget(be_app);
     YourModemIsMenuField = new BMenuField(mfld1,&quot;yourmodem_menufield&quot;,&quot;Your modem is:&quot;,YourModemIsMenu,B_FOLLOW_LEFT | B_FOLLOW_TOP, B_WILL_DRAW | B_NAVIGABLE);
     YourModemIsMenuField-&gt;SetDivider(76);	

Modified: haiku/trunk/src/preferences/dun/SettingsWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/dun/SettingsWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/dun/SettingsWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -144,7 +144,7 @@
 	BMenuItem* item1 = new BMenuItem(&quot;Standard PPP&quot;,NULL); //n.b bmessage left out, add later
 	YourServerTypeIsMenu-&gt;AddItem(item1);
 	
-	BMenuItem* item2 = new BMenuItem(&quot;etc,etc...&quot;,NULL);
+	BMenuItem* item2 = new BMenuItem(&quot;Etc&quot; B_UTF8_ELLIPSIS,NULL);
 	YourServerTypeIsMenu-&gt;AddItem(item2);
 	
 	

Modified: haiku/trunk/src/preferences/menu/MenuBar.cpp
===================================================================
--- haiku/trunk/src/preferences/menu/MenuBar.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/menu/MenuBar.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -58,7 +58,7 @@
 		new BMessage(ALT_MARKED_MSG), BTranslationUtils::GetBitmap(B_RAW_TYPE, &quot;ALT&quot;));
 
 	// color menu
-	BMenuItem* colorSchemeItem = new BMenuItem(&quot;Color Scheme...&quot;,
+	BMenuItem* colorSchemeItem = new BMenuItem(&quot;Color Scheme&quot; B_UTF8_ELLIPSIS,
 		new BMessage(COLOR_SCHEME_OPEN_MSG), 0, 0);
 
 	// Add items to menubar	

Modified: haiku/trunk/src/preferences/network/NetworkWindow.cpp
===================================================================
--- haiku/trunk/src/preferences/network/NetworkWindow.cpp	2007-05-16 15:50:04 UTC (rev 21155)
+++ haiku/trunk/src/preferences/network/NetworkWindow.cpp	2007-05-16 16:34:09 UTC (rev 21156)
@@ -206,7 +206,7 @@
 	fIdentityView-&gt;AddChild(fInterfaces);
 	
 	workrect = fInterfaces-&gt;Bounds().InsetByCopy(5,5);
-	fSettings = new BButton(BRect(0,0,1,1),&quot;Settings&quot;,&quot;Settings...&quot;,
+	fSettings = new BButton(BRect(0,0,1,1),&quot;Settings&quot;,&quot;Settings&quot; B_UTF8_ELLIPSIS,
 							new BMessage(kSettings_M),
 							B_FOLLOW_TOP | B_FOLLOW_RIGHT);
 	fSettings-&gt;ResizeToPreferred();
@@ -221,7 +221,7 @@
 	fInterfaces-&gt;AddChild(fClear);
 	
 	workrect.OffsetBy(0,workrect.Height()+15);
-	fCustom = new BButton(workrect,&quot;Custom&quot;,&quot;Custom...&quot;,new BMessage(kCustom_M),
+	fCustom = new BButton(workrect,&quot;Custom&quot;,&quot;Custom&quot; B_UTF8_ELLIPSIS,new BMessage(kCustom_M),
 							B_FOLLOW_TOP | B_FOLLOW_RIGHT);
 	fInterfaces-&gt;AddChild(fCustom);
 	
@@ -257,7 +257,7 @@
 	fTelnetServer-&gt;MoveTo(10,height + 15);
 	fServicesView-&gt;AddChild(fTelnetServer);
 	
-	fLoginInfo = new BButton(workrect,&quot;Login_Info&quot;,&quot;Login Info...&quot;,
+	fLoginInfo = new BButton(workrect,&quot;Login_Info&quot;,&quot;Login Info&quot; B_UTF8_ELLIPSIS,
 								new BMessage(kLogin_Info_M));
 	fLoginInfo-&gt;ResizeToPreferred();
 	fLoginInfo-&gt;MoveTo(10,(height * 2) + 25);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002314.html">[Haiku-commits] r21155 - haiku/trunk/src/kits/interface
</A></li>
	<LI>Next message: <A HREF="002317.html">[Haiku-commits] r21156 - in haiku/trunk/src:	add-ons/print/drivers/shared/libprint apps/cortex/RouteApp	apps/deskbar apps/deskcalc apps/expander apps/mail	apps/mediaplayer apps/networkstatus apps/people apps/poorman	apps/processcontroller apps/pulse apps/stylededit	apps/terminal apps/terminal/andrew apps/tv kits/interface preferences/datatranslations preferences/devices	preferences/dun preferences/menu preferences/network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2315">[ date ]</a>
              <a href="thread.html#2315">[ thread ]</a>
              <a href="subject.html#2315">[ subject ]</a>
              <a href="author.html#2315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/haiku-commits">More information about the Haiku-commits
mailing list</a><br>
</body></html>
